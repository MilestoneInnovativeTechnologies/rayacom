import{a8 as L,B as F,k as Q,r as i,E as d,H as e,C as l,N as I,G as t,Q as k,M as P,D as h,K as O,P as z,I as s,J as c,F as A,ap as G,t as H}from"./index.8d7e61fd.js";import{Q as r}from"./QItemLabel.4b045cb7.js";import{Q as f}from"./QBadge.68cbc97a.js";import{Q as J}from"./QCardSection.5c6eb920.js";import{Q as N}from"./QCard.9e71421a.js";import{Q as X}from"./QPagination.2286f097.js";import{a as _,Q as n}from"./QItem.d2090226.js";import{Q as Z}from"./QSeparator.1fdea069.js";import{Q as $}from"./QList.5e2b7bfb.js";import{Q as ee}from"./QCardActions.dacc32d4.js";import{Q as te}from"./QDialog.500a4fb3.js";import{Q as ae}from"./QPage.12dd21c8.js";import{C as oe}from"./ClosePopup.77ae0838.js";import{u as se}from"./review.1bd115f5.js";import{d as B}from"./date.52e73b47.js";import"./use-dark.678b0dd2.js";import"./QInput.0fdaf5de.js";import"./format.c860d4da.js";import"./use-prevent-scroll.1269f3f5.js";import"./scroll.25b4c155.js";import"./use-model-toggle.3fd02ce3.js";import"./use-portal.0314865a.js";import"./master.58f94054.js";import"./lodash.1b69ab06.js";const le=se(),re={setup(){const C=F();let m,v;const a=Q(()=>Object.values(le.reviews).reverse());let g=Object.values(a.value).length;const V=Q(()=>(m=(w.value-1)*p.value,v=(w.value-1)*p.value+p.value,a.value.slice(m,v).map(u=>({id:u.id,customer:u.customer,type:u.type,created_at:B.formatDate(u.created_at,"MMMM d, YYYY "),comment:u.comment,status:u.status,items:u.items})))),o=function(){C.push({name:"REVIEWADD"})};let x=i(!1),y=i(""),b=i(""),q=i(""),S=i(""),D=i(""),Y=i("");const R=function(E,M,u,W,j,K){y.value=E,b.value=M,q.value=u,S.value=B.formatDate(W,"DD-MM-YYYY"),D.value=j,Y.value=K,x.value=!0};let w=i(1),T=i(1);const p=i(10),U=Q(()=>Math.ceil(g/p.value));return{MYREVIEWS:a,totalcount:g,page:w,currentPage:T,totalPages:p,maxVal:U,getData:V,gotoAction:o,openwindow:R,specificId:y,specificCustomer:b,specificType:q,specificcreateDate:S,specificComment:D,specificStatus:Y,card:x}}},ce={class:"q-pa-md text-center"},ne=s(" NEW REVIEW "),ie={key:0,class:"q-pa-xs row items-start q-gutter-md"},de=s("Unknown"),me={key:1,class:"q-pa-lg flex flex-center"},ue={class:"q-pa-md q-gutter-sm"},fe=s("Type"),pe=s("Comment"),_e=s("Unknown");function ve(C,m,v,a,g,V){return l(),d(ae,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:e(()=>[I("div",ce,[t(P,{color:"positive","no-caps":"",onClick:m[0]||(m[0]=o=>a.gotoAction())},{default:e(()=>[t(k,{left:"",size:"xl",name:"open_in_new"}),ne]),_:1})]),a.totalcount?(l(),h("div",ie,[(l(!0),h(O,null,z(a.getData,(o,x)=>(l(),d(N,{flat:"",bordered:"",class:"my-card",key:o.id,onClick:y=>a.openwindow(o.id,o.customer.name,o.type,o.created_at,o.comment,o.status)},{default:e(()=>[t(J,{class:"bg-brand text-white"},{default:e(()=>[t(r,{class:"Subtitle 2 text-weight-bolder"},{default:e(()=>[s(c(o.created_at),1)]),_:2},1024),t(r,null,{default:e(()=>[o.status==="New"?(l(),d(f,{key:0,color:"blue"},{default:e(()=>[s(c(o.status),1)]),_:2},1024)):o.status==="Progress"?(l(),d(f,{key:1,color:"secondary"},{default:e(()=>[s(c(o.status),1)]),_:2},1024)):o.status==="Accepted"?(l(),d(f,{key:2,color:"accent"},{default:e(()=>[s(c(o.status),1)]),_:2},1024)):o.status==="Rejected"?(l(),d(f,{key:3,color:"negative"},{default:e(()=>[s(c(o.status),1)]),_:2},1024)):(l(),d(f,{key:4,color:"primary"},{default:e(()=>[de]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):A("",!0),a.totalcount?(l(),h("div",me,[t(X,{modelValue:a.page,"onUpdate:modelValue":m[1]||(m[1]=o=>a.page=o),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):A("",!0),I("div",ue,[t(te,{modelValue:a.card,"onUpdate:modelValue":m[2]||(m[2]=o=>a.card=o)},{default:e(()=>[t(N,{class:"my-card",style:{"max-width":"400px"}},{default:e(()=>[t($,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(_,null,{default:e(()=>[t(n,{avatar:""},{default:e(()=>[t(G,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(n,{top:"",class:"col-7 gt-sm"},{default:e(()=>[t(r,{lines:"1"},{default:e(()=>[s(c(a.specificCustomer),1)]),_:1}),t(r,{lines:"2"}),t(r,{caption:"",lines:"3"},{default:e(()=>[s(c(a.specificcreateDate),1)]),_:1})]),_:1})]),_:1}),t(Z),t(_,null,{default:e(()=>[t(n,{top:"",class:"col-1 gt-sm"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(k,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(n,{top:"",class:"col-4 gt-sm"},{default:e(()=>[t(r,{class:"q-mt-sm"},{default:e(()=>[fe]),_:1})]),_:1}),t(n,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm flex-center text-left"},{default:e(()=>[s(c(a.specificType),1)]),_:1})]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(n,{class:"col-1 gt-sm"},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(k,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(n,{top:"",class:"col-4 gt-sm"},{default:e(()=>[t(r,{class:"q-mt-sm"},{default:e(()=>[pe]),_:1})]),_:1}),t(n,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm flex-center text-left"},{default:e(()=>[s(c(a.specificComment),1)]),_:1})]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(n,{top:"",class:"col-2 gt-sm"},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium"})]),_:1}),t(n,{class:"col-3 q-pa-md q-gutter-xl"},{default:e(()=>[a.specificStatus==="New"?(l(),d(f,{key:0,color:"blue"},{default:e(()=>[s(c(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(l(),d(f,{key:1,color:"secondary"},{default:e(()=>[s(c(a.specificStatus),1)]),_:1})):(l(),d(f,{key:2,color:"primary"},{default:e(()=>[_e]),_:1}))]),_:1}),t(n,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),t(ee,{align:"right"},{default:e(()=>[H(t(P,{flat:"",label:"Close",color:"negative"},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var We=L(re,[["render",ve],["__scopeId","data-v-1716f8ef"]]);export{We as default};
