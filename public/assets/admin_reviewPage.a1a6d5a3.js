import{ai as J,J as X,r as s,t as V,M as m,P as a,K as n,Y as B,O as e,aC as k,L as D,U as z,_ as G,ah as I,S as r,T as i,N as L,as as H,Q as W,R as O,al as Z,B as $,X as ee,at as ae}from"./index.8ca15aea.js";import{Q as d}from"./QItemLabel.5771a04c.js";import{Q as f}from"./QBadge.e3c4b0f0.js";import{a as v,Q as u}from"./QItem.444016e9.js";import{Q as h}from"./QList.428a5f0b.js";import{Q as te}from"./QPagination.5d576056.js";import{Q as le}from"./QPage.a0c24181.js";import{C as oe}from"./ClosePopup.555721be.js";import{u as re}from"./review.49239f13.js";import{d as A}from"./date.19ebf348.js";import{post as de}from"./axios.871de128.js";import"./format.c860d4da.js";import"./master.e3dfadde.js";import"./lodash.1e9e3f94.js";import"./order.0741cb5a.js";const E=re(),se={setup(){X();let Q,o,y=s("");const t=V(()=>{if(y.value==="")return Object.values(E.reviews).reverse();{let x=y.value.toLowerCase();return Object.values(E.reviews).filter(g=>g.type.toLowerCase().indexOf(x)>-1).reverse()}}),b=V(()=>t.value.length),P=V(()=>(Q=(S.value-1)*p.value,o=(S.value-1)*p.value+p.value,t.value.slice(Q,o).map(c=>({id:c.id,customer:c.customer,type:c.type,created_at:A.formatDate(c.created_at,"MMMM D, YYYY "),comment:c.comment,status:c.status,items:c.items}))));let l=s(!1),w=s(""),C=s(""),M=s(""),U=s(""),N=s(""),_=s("");const R=function(x,g,c,j,F,Y){w.value=x,C.value=g,M.value=c,U.value=A.formatDate(j,"DD-MM-YYYY"),N.value=F,_.value=Y,Y=="New"?(_.value="Viewed",q()):_.value=Y,l.value=!0},q=function(){de("review","status",{id:w.value,status:_.value}).then(console.log)};let S=s(1),T=s(1);const p=s(10),K=V(()=>Math.ceil(b.value/p.value));return{totalcount:b,page:S,currentPage:T,totalPages:p,maxVal:K,getData:P,updateStatus:q,openwindow:R,specificId:w,specificCustomer:C,specificType:M,specificcreateDate:U,specificComment:N,specificStatus:_,card:l,radio:y}}},ne={class:"q-pa-md flex flex-center"},ue={key:0,class:"q-pa-md row items-start q-gutter-md"},ie={key:1,class:"q-pa-lg flex flex-center"},ce={class:"q-pa-md q-gutter-sm"};function me(Q,o,y,t,b,P){return n(),m(le,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:a(()=>[B("div",ne,[e(k,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[0]||(o[0]=l=>t.radio=l),val:"",label:"All ",color:"secondary"},null,8,["modelValue"]),e(k,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[1]||(o[1]=l=>t.radio=l),val:"Product",label:"Product ",color:"secondary"},null,8,["modelValue"]),e(k,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[2]||(o[2]=l=>t.radio=l),val:"SalesExecutive",label:"SalesExecutive ",color:"secondary"},null,8,["modelValue"]),e(k,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[3]||(o[3]=l=>t.radio=l),val:"Order",label:"Order ",color:"secondary"},null,8,["modelValue"])]),t.totalcount?(n(),D("div",ue,[(n(!0),D(z,null,G(t.getData,(l,w)=>(n(),m(I,{flat:"",bordered:"",class:"my-card",key:l.id,onClick:C=>t.openwindow(l.id,l.customer.name,l.type,l.created_at,l.comment,l.status)},{default:a(()=>[e(h,null,{default:a(()=>[e(v,{class:"bg-brand text-white text-bold"},{default:a(()=>[e(u,null,{default:a(()=>[e(d,{class:"text-overline"},{default:a(()=>[r(i(l.customer.name),1)]),_:2},1024),e(d,null,{default:a(()=>[r(i(l.created_at),1)]),_:2},1024),e(d,null,{default:a(()=>[l.status==="New"?(n(),m(f,{key:0,color:"blue"},{default:a(()=>[r(i(l.status),1)]),_:2},1024)):l.status==="Viewed"?(n(),m(f,{key:1,color:"secondary"},{default:a(()=>[r(i(l.status),1)]),_:2},1024)):(n(),m(f,{key:2,color:"primary"},{default:a(()=>[r("Unknown")]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):L("",!0),t.totalcount?(n(),D("div",ie,[e(te,{modelValue:t.page,"onUpdate:modelValue":o[4]||(o[4]=l=>t.page=l),min:t.currentPage,max:t.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):L("",!0),B("div",ce,[e(ae,{modelValue:t.card,"onUpdate:modelValue":o[5]||(o[5]=l=>t.card=l)},{default:a(()=>[e(I,{class:"my-card",style:{"max-width":"400px"}},{default:a(()=>[e(h,{bordered:"",class:"rounded-borders"},{default:a(()=>[e(v,null,{default:a(()=>[e(u,{avatar:""},{default:a(()=>[e(H,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(u,{top:""},{default:a(()=>[e(d,{lines:"1"},{default:a(()=>[r(i(t.specificCustomer),1)]),_:1}),e(d,{lines:"2"}),e(d,{caption:"",lines:"3"},{default:a(()=>[r(i(t.specificcreateDate),1)]),_:1})]),_:1})]),_:1}),e(W),e(v,null,{default:a(()=>[e(u,{avatar:""},{default:a(()=>[e(d,null,{default:a(()=>[e(O,{color:"primary",name:"lens"})]),_:1})]),_:1}),e(u,{top:""},{default:a(()=>[e(d,null,{default:a(()=>[r("Type")]),_:1})]),_:1}),e(u,{top:""},{default:a(()=>[e(d,{class:"flex-center text-left"},{default:a(()=>[r(i(t.specificType),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:a(()=>[e(u,{avatar:"",top:""},{default:a(()=>[e(d,null,{default:a(()=>[e(O,{color:"primary",name:"lens"})]),_:1})]),_:1}),e(u,{top:""},{default:a(()=>[e(d,null,{default:a(()=>[r("Comment")]),_:1})]),_:1}),e(u,{top:""},{default:a(()=>[e(d,{class:"flex-center text-left"},{default:a(()=>[r(i(t.specificComment),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:a(()=>[e(u,{avatar:""},{default:a(()=>[e(d,null,{default:a(()=>[r("\xA0")]),_:1})]),_:1}),e(u,{top:""},{default:a(()=>[e(d,null,{default:a(()=>[t.specificStatus==="New"?(n(),m(f,{key:0,color:"blue"},{default:a(()=>[r(i(t.specificStatus),1)]),_:1})):t.specificStatus==="Viewed"?(n(),m(f,{key:1,color:"secondary"},{default:a(()=>[r(i(t.specificStatus),1)]),_:1})):(n(),m(f,{key:2,color:"primary"},{default:a(()=>[r("Unknown")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),e(Z,{align:"right"},{default:a(()=>[$(e(ee,{flat:"",label:"Close",color:"negative"},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var De=J(se,[["render",me],["__scopeId","data-v-0e3556be"]]);export{De as default};
