import{Q}from"./QRadio.70c4e860.js";import{Q as d}from"./QItemLabel.95c271f7.js";import{Q as f}from"./QBadge.a3efd72d.js";import{a as v,Q as s}from"./QItem.dbe0fd3c.js";import{Q as q}from"./QList.ee2f0220.js";import{Q as B}from"./QCard.39c5907a.js";import{Q as G}from"./QPagination.908aa05f.js";import{a8 as H,B as J,r as n,k as V,E as m,H as a,C as i,N as I,G as e,D as Y,K as z,P as W,I as r,J as u,F as E,ap as X,Q as A,t as Z,M as $}from"./index.519e6511.js";import{Q as ee}from"./QSeparator.8305d860.js";import{Q as ae}from"./QCardActions.2803e26a.js";import{Q as te}from"./QDialog.4aa07f16.js";import{Q as le}from"./QPage.68727071.js";import{C as oe}from"./ClosePopup.20672703.js";import{u as re}from"./review.04954850.js";import{d as L}from"./date.bd456e4c.js";import{post as de}from"./axios.98808b05.js";import"./use-dark.e60f4681.js";import"./QInput.3be0fd5f.js";import"./format.c860d4da.js";import"./use-prevent-scroll.d8f1a98f.js";import"./scroll.1e188d5c.js";import"./use-model-toggle.02b9d1d7.js";import"./use-portal.0839ed11.js";import"./master.8d9550d1.js";import"./lodash.1b69ab06.js";import"./order.3b2eb02b.js";const O=re(),se={setup(){J();let k,o,y=n("");const t=V(()=>{if(y.value==="")return Object.values(O.reviews).reverse();{let x=y.value.toLowerCase();return Object.values(O.reviews).filter(g=>g.type.toLowerCase().indexOf(x)>-1).reverse()}}),b=V(()=>t.value.length),h=V(()=>(k=(S.value-1)*p.value,o=(S.value-1)*p.value+p.value,t.value.slice(k,o).map(c=>({id:c.id,customer:c.customer,type:c.type,created_at:L.formatDate(c.created_at,"MMMM D, YYYY "),comment:c.comment,status:c.status,items:c.items}))));let l=n(!1),w=n(""),C=n(""),P=n(""),M=n(""),N=n(""),_=n("");const R=function(x,g,c,j,F,D){w.value=x,C.value=g,P.value=c,M.value=L.formatDate(j,"DD-MM-YYYY"),N.value=F,_.value=D,D=="New"?(_.value="Viewed",U()):_.value=D,l.value=!0},U=function(){de("review","status",{id:w.value,status:_.value}).then(console.log)};let S=n(1),T=n(1);const p=n(10),K=V(()=>Math.ceil(b.value/p.value));return{totalcount:b,page:S,currentPage:T,totalPages:p,maxVal:K,getData:h,updateStatus:U,openwindow:R,specificId:w,specificCustomer:C,specificType:P,specificcreateDate:M,specificComment:N,specificStatus:_,card:l,radio:y}}},ne={class:"q-pa-md flex flex-center"},ie={key:0,class:"q-pa-md row items-start q-gutter-md"},ue=r("Unknown"),ce={key:1,class:"q-pa-lg flex flex-center"},me={class:"q-pa-md q-gutter-sm"},fe=r("Type"),_e=r("Comment"),pe=r("\xA0"),ve=r("Unknown");function ye(k,o,y,t,b,h){return i(),m(le,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:a(()=>[I("div",ne,[e(Q,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[0]||(o[0]=l=>t.radio=l),val:"",label:"All ",color:"secondary"},null,8,["modelValue"]),e(Q,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[1]||(o[1]=l=>t.radio=l),val:"Product",label:"Product ",color:"secondary"},null,8,["modelValue"]),e(Q,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[2]||(o[2]=l=>t.radio=l),val:"SalesExecutive",label:"SalesExecutive ",color:"secondary"},null,8,["modelValue"]),e(Q,{name:"radio",modelValue:t.radio,"onUpdate:modelValue":o[3]||(o[3]=l=>t.radio=l),val:"Order",label:"Order ",color:"secondary"},null,8,["modelValue"])]),t.totalcount?(i(),Y("div",ie,[(i(!0),Y(z,null,W(t.getData,(l,w)=>(i(),m(B,{flat:"",bordered:"",class:"my-card",key:l.id,onClick:C=>t.openwindow(l.id,l.customer.name,l.type,l.created_at,l.comment,l.status)},{default:a(()=>[e(q,null,{default:a(()=>[e(v,{class:"bg-brand text-white text-bold"},{default:a(()=>[e(s,null,{default:a(()=>[e(d,{class:"text-overline"},{default:a(()=>[r(u(l.customer.name),1)]),_:2},1024),e(d,null,{default:a(()=>[r(u(l.created_at),1)]),_:2},1024),e(d,null,{default:a(()=>[l.status==="New"?(i(),m(f,{key:0,color:"blue"},{default:a(()=>[r(u(l.status),1)]),_:2},1024)):l.status==="Viewed"?(i(),m(f,{key:1,color:"secondary"},{default:a(()=>[r(u(l.status),1)]),_:2},1024)):(i(),m(f,{key:2,color:"primary"},{default:a(()=>[ue]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):E("",!0),t.totalcount?(i(),Y("div",ce,[e(G,{modelValue:t.page,"onUpdate:modelValue":o[4]||(o[4]=l=>t.page=l),min:t.currentPage,max:t.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):E("",!0),I("div",me,[e(te,{modelValue:t.card,"onUpdate:modelValue":o[5]||(o[5]=l=>t.card=l)},{default:a(()=>[e(B,{class:"my-card",style:{"max-width":"400px"}},{default:a(()=>[e(q,{bordered:"",class:"rounded-borders"},{default:a(()=>[e(v,null,{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(X,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(s,{top:""},{default:a(()=>[e(d,{lines:"1"},{default:a(()=>[r(u(t.specificCustomer),1)]),_:1}),e(d,{lines:"2"}),e(d,{caption:"",lines:"3"},{default:a(()=>[r(u(t.specificcreateDate),1)]),_:1})]),_:1})]),_:1}),e(ee),e(v,null,{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,null,{default:a(()=>[e(A,{color:"primary",name:"lens"})]),_:1})]),_:1}),e(s,{top:""},{default:a(()=>[e(d,null,{default:a(()=>[fe]),_:1})]),_:1}),e(s,{top:""},{default:a(()=>[e(d,{class:"flex-center text-left"},{default:a(()=>[r(u(t.specificType),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:a(()=>[e(s,{avatar:"",top:""},{default:a(()=>[e(d,null,{default:a(()=>[e(A,{color:"primary",name:"lens"})]),_:1})]),_:1}),e(s,{top:""},{default:a(()=>[e(d,null,{default:a(()=>[_e]),_:1})]),_:1}),e(s,{top:""},{default:a(()=>[e(d,{class:"flex-center text-left"},{default:a(()=>[r(u(t.specificComment),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(d,null,{default:a(()=>[pe]),_:1})]),_:1}),e(s,{top:""},{default:a(()=>[e(d,null,{default:a(()=>[t.specificStatus==="New"?(i(),m(f,{key:0,color:"blue"},{default:a(()=>[r(u(t.specificStatus),1)]),_:1})):t.specificStatus==="Viewed"?(i(),m(f,{key:1,color:"secondary"},{default:a(()=>[r(u(t.specificStatus),1)]),_:1})):(i(),m(f,{key:2,color:"primary"},{default:a(()=>[ve]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),e(ae,{align:"right"},{default:a(()=>[Z(e($,{flat:"",label:"Close",color:"negative"},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var je=H(se,[["render",ye],["__scopeId","data-v-0e3556be"]]);export{je as default};
