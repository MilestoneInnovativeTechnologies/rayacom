import{a8 as O,B as D,r as n,k as g,D as u,N as P,G as o,H as l,K as C,P as E,F as y,M,C as i,Q as R,E as Y,I as h,J as x}from"./index.519e6511.js";import{Q as K}from"./QInput.3be0fd5f.js";import{Q as k}from"./QItemLabel.95c271f7.js";import{Q as j}from"./QCardSection.a10ea186.js";import{Q as A}from"./QCard.39c5907a.js";import{Q as F}from"./QPagination.908aa05f.js";import{u as J}from"./offers.70c3b81f.js";import{u as U}from"./use-quasar.c19bc2e1.js";import{u as G}from"./master.8d9550d1.js";import"./use-dark.e60f4681.js";import"./format.c860d4da.js";import"./lodash.1b69ab06.js";const V=J();G();const H={setup(){const w=U(),r=D(),s=n([]);let e,p;const c=n(""),t=g(()=>{if(c.value==="")return Object.values(V.offers);{let a=c.value.toLowerCase();return Object.values(V.offers).filter(f=>f.item.name.toLowerCase().indexOf(a)>-1)}}),q=g(()=>t.value.length),Q=g(()=>(e=(v.value-1)*m.value,p=(v.value-1)*m.value+m.value,t.value.slice(e,p).map(d=>d))),S=function(a,f){var d="",I=s.value.some(function(_){return _.item===a});I?(s.value.find(_=>_.item===a).quantity+=1,d="Item quantity updated"):(s.value.push({item:a,itemname:f,quantity:1}),d="New item added"),b(d)},b=function(a){w.notify({type:"positive",icon:"cloud_done",message:a,position:"top-right",timeout:800})},L=function(){var a=JSON.stringify(s.value);r.push({name:"ORDER",state:{products:a}})};let v=n(1),N=n(1),B=n(null);const m=n(10);return{search:c,searchResult:t,myitemsLength:q,page:v,currentPage:N,nextPage:B,totalPages:m,getData:Q,positivemsg:b,myproducts:s,selectedProducts:S,order:L}}},T={class:"q-pa-md fullwidth"},z={class:"q-gutter-md"},W={key:0,class:"q-pa-md row items-start q-gutter-md"},X={key:1,class:"q-pa-lg flex flex-center"},Z={key:2,class:"q-pa-md q-gutter-sm"};function $(w,r,s,e,p,c){return i(),u(C,null,[P("div",T,[P("div",z,[o(K,{modelValue:e.search,"onUpdate:modelValue":r[0]||(r[0]=t=>e.search=t),debounce:"500",filled:"",placeholder:"Search"},{append:l(()=>[o(R,{name:"search"})]),_:1},8,["modelValue"])])]),e.myitemsLength?(i(),u("div",W,[(i(!0),u(C,null,E(e.getData,(t,q)=>(i(),Y(A,{flat:"",bordered:"",class:"my-card",key:t.id,onClick:Q=>e.selectedProducts(t.id,t.item.name)},{default:l(()=>[o(j,{class:"bg-brand text-white"},{default:l(()=>[o(k,null,{default:l(()=>[h(x(t.item.name),1)]),_:2},1024),o(k,null,{default:l(()=>[h("quantity :"+x(t.minimum_quantity),1)]),_:2},1024),o(k,null,{default:l(()=>[h("offer :"+x(t.offer_quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):y("",!0),e.myitemsLength?(i(),u("div",X,[o(F,{modelValue:e.page,"onUpdate:modelValue":r[1]||(r[1]=t=>e.page=t),min:e.currentPage,max:Math.ceil(e.myitemsLength/e.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):y("",!0),e.myproducts.length?(i(),u("div",Z,[o(M,{unelevated:"",rounded:"",color:"positive",label:"Proceed","icon-right":"send",class:"full-width",onClick:r[2]||(r[2]=t=>e.order())})])):y("",!0)],64)}var me=O(H,[["render",$],["__scopeId","data-v-2c9eab67"]]);export{me as default};
