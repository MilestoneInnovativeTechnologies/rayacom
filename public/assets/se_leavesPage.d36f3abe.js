import{aj as z,K as F,t as x,r as i,N as n,R as e,L as c,Z as g,P as t,S as y,Y as I,M as h,V as W,$ as Z,ai as L,T as l,U as d,O as N,as as G,Q as H,am as J,B as X,at as $,b7 as ee,b8 as te}from"./index.04c464b8.js";import{Q as o}from"./QItemLabel.9f7bf82c.js";import{Q as u}from"./QBadge.93a5f3cc.js";import{a as p,Q as r}from"./QItem.3f5f7acb.js";import{Q as B}from"./QList.82924bce.js";import{Q as ae}from"./QPagination.1234704c.js";import{Q as se}from"./QPage.b0d4ff95.js";import{C as le}from"./ClosePopup.b54a8cbb.js";import{u as oe}from"./leave.0ca62774.js";import{d as k}from"./date.99bfb014.js";import"./master.f1b7f5d6.js";import"./lodash.1e9e3f94.js";const ce=oe(),re={setup(){const m=F();let f,D;const a=x(()=>Object.values(ce.leaves).reverse()),w=x(()=>Object.values(a.value).length),q=x(()=>(f=(Q.value-1)*v.value,D=(Q.value-1)*v.value+v.value,Object.values(a.value).slice(f,D).map(_=>({id:_.id,executive:_.executive.name,start_date:k.formatDate(_.start_date,"MMMM D, YYYY "),end_date:k.formatDate(_.end_date,"MMMM D, YYYY "),description:_.description,status:_.status})))),s=function(){m.push({name:"LEAVEADD"})};let S=i(!1),Y=i(""),M=i(""),b=i(""),V=i(""),E=i(""),A=i("");const j=function(P,C,_,R,K,T){Y.value=P,A.value=C,M.value=k.formatDate(_,"DD-MM-YYYY"),b.value=k.formatDate(R,"DD-MM-YYYY"),V.value=K,E.value=T,S.value=!0};let Q=i(1),U=i(1);const v=i(10),O=x(()=>Math.ceil(w.value/v.value));return{MYLEAVES:a,totalcount:w,page:Q,currentPage:U,totalPages:v,maxVal:O,getData:q,gotoAction:s,openwindow:j,specificId:Y,specificExecutive:A,specificstartDate:M,specificendDate:b,specificeDescription:V,specificStatus:E,card:S}}},de=m=>(ee("data-v-2a4f6482"),m=m(),te(),m),ne=de(()=>g("div",{class:"q-pa-sm"},[g("div",{class:"row q-pa-md"},[g("div",{class:"col-8"})])],-1)),ie={class:"q-pa-md text-center"},ue=l(" NEW LEAVE "),fe={key:0,class:"q-pa-md row items-start q-gutter-md"},_e=l("Unknown"),me={key:1,class:"q-pa-lg flex flex-center"},pe={class:"q-pa-md q-gutter-sm"},ve=l("Start Date"),ge=l("End Date"),xe=l("Description"),ye=l("Unknown");function ke(m,f,D,a,w,q){return c(),n(se,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:e(()=>[ne,g("div",ie,[t(I,{color:"positive","no-caps":"",onClick:f[0]||(f[0]=s=>a.gotoAction())},{default:e(()=>[t(y,{left:"",size:"xl",name:"open_in_new"}),ue]),_:1})]),a.totalcount?(c(),h("div",fe,[(c(!0),h(W,null,Z(a.getData,(s,S)=>(c(),n(L,{flat:"",bordered:"",class:"my-card",key:s.id,onClick:Y=>a.openwindow(s.id,s.executive,s.start_date,s.end_date,s.description,s.status)},{default:e(()=>[t(B,null,{default:e(()=>[t(p,{class:"bg-grey-2 text-bold"},{default:e(()=>[t(r,null,{default:e(()=>[t(o,null,{default:e(()=>[l(d(s.executive),1)]),_:2},1024),t(o,{caption:""},{default:e(()=>[l(d(s.start_date),1)]),_:2},1024),t(o,null,{default:e(()=>[s.status==="New"?(c(),n(u,{key:0,color:"blue"},{default:e(()=>[l(d(s.status),1)]),_:2},1024)):s.status==="Progress"?(c(),n(u,{key:1,color:"secondary"},{default:e(()=>[l(d(s.status),1)]),_:2},1024)):s.status==="Accepted"?(c(),n(u,{key:2,color:"positive"},{default:e(()=>[l(d(s.status),1)]),_:2},1024)):s.status==="Rejected"?(c(),n(u,{key:3,color:"negative"},{default:e(()=>[l(d(s.status),1)]),_:2},1024)):(c(),n(u,{key:4,color:"primary"},{default:e(()=>[_e]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):N("",!0),a.totalcount?(c(),h("div",me,[t(ae,{modelValue:a.page,"onUpdate:modelValue":f[1]||(f[1]=s=>a.page=s),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):N("",!0),g("div",pe,[t($,{modelValue:a.card,"onUpdate:modelValue":f[2]||(f[2]=s=>a.card=s)},{default:e(()=>[t(L,{class:"my-card",style:{"max-width":"400px"}},{default:e(()=>[t(B,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(p,null,{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(G,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(r,{top:"",class:"col-7 gt-sm"},{default:e(()=>[t(o),t(o),t(o,{lines:"1"},{default:e(()=>[l(d(a.specificExecutive),1)]),_:1})]),_:1})]),_:1}),t(H),t(p,null,{default:e(()=>[t(r,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(r,{class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[ve]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[l(d(a.specificstartDate),1)]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(r,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(r,{top:"",class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[ge]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[l(d(a.specificendDate),1)]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(r,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(r,{top:"",class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[xe]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-leftr"},{default:e(()=>[l(d(a.specificeDescription),1)]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(r,{top:"",class:"col-2 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm text-weight-medium"})]),_:1}),t(r,{class:"col-3 q-pa-md q-gutter-xl"},{default:e(()=>[a.specificStatus==="New"?(c(),n(u,{key:0,color:"blue"},{default:e(()=>[l(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Progress"?(c(),n(u,{key:1,color:"secondary"},{default:e(()=>[l(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(c(),n(u,{key:2,color:"positive"},{default:e(()=>[l(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Rejected"?(c(),n(u,{key:3,color:"negative"},{default:e(()=>[l(d(a.specificStatus),1)]),_:1})):(c(),n(u,{key:4,color:"primary"},{default:e(()=>[ye]),_:1}))]),_:1}),t(r,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),t(J,{align:"right"},{default:e(()=>[X(t(I,{flat:"",label:"Close",color:"negative"},null,512),[[le]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Pe=z(re,[["render",ke],["__scopeId","data-v-2a4f6482"]]);export{Pe as default};
