import{Q as P,a as q}from"./QToolbar.080a901a.js";import{a8 as R,k as Q,r as n,E as c,H as t,C as r,N as S,G as e,D as b,P as M,t as Y,ap as N,I as o,J as s,K as A,F as B,M as F,aq as H}from"./index.519e6511.js";import{a as p,Q as u}from"./QItem.dbe0fd3c.js";import{Q as d}from"./QItemLabel.95c271f7.js";import{Q as i}from"./QBadge.a3efd72d.js";import{Q as E}from"./QList.ee2f0220.js";import{Q as G}from"./QPagination.908aa05f.js";import{Q as O}from"./QSeparator.8305d860.js";import{Q as J}from"./QCardActions.2803e26a.js";import{Q as z}from"./QCard.39c5907a.js";import{Q as W}from"./QDialog.4aa07f16.js";import{Q as X}from"./QPage.68727071.js";import{C as Z}from"./ClosePopup.20672703.js";import{u as j}from"./order.3b2eb02b.js";import{d as $}from"./date.bd456e4c.js";import"./use-dark.e60f4681.js";import"./QInput.3be0fd5f.js";import"./format.c860d4da.js";import"./use-prevent-scroll.d8f1a98f.js";import"./scroll.1e188d5c.js";import"./use-model-toggle.02b9d1d7.js";import"./use-portal.0839ed11.js";import"./master.8d9550d1.js";import"./lodash.1b69ab06.js";const tt=j(),et={setup(){let g,m;const h=Q(()=>tt.all.reverse()),l=Q(()=>h.value.length),C=Q(()=>{g=(w.value-1)*y.value,m=(w.value-1)*y.value+y.value;let k=h.value.slice(g,m).map(f=>({id:f.id,date:$.formatDate(f.date,"MMMM D, YYYY "),customer:f.customer.name,narration:f.narration,status:f.status,items:f.items}));return console.log(k),k});let v=n(!1),a=n(""),_=n(""),x=n(""),D=n(""),V=n("");const T=function(I,k,f,K,L){_.value=I,a.value=K,x.value=k,D.value=f,V.value=L,v.value=!0};let w=n(1),U=n(1);const y=n(5);return{MYORDERS:h,totalcount:l,page:w,currentPage:U,totalPages:y,getOrders:C,showitems:T,specificItems:a,specificId:_,specificDate:x,specificStatus:D,specificCustomer:V,card:v}}},at={class:"q-pa-md",style:{width:"80vw","max-width":"350px"}},ot=o("Order History"),lt=o("No records..."),st=o("Unknown"),rt={key:0,class:"q-pa-lg flex flex-center"},ct={class:"q-pa-md q-gutter-sm"},dt={class:"text-weight-bold"},it=o("Unknown"),ut=o("#"),nt=o("Item"),ft=o("Quantity"),mt=o(" \xA0"),_t=o("Total Items");function pt(g,m,h,l,C,v){return r(),c(X,{padding:"",class:"flex-center column q-col-gutter-y-lg"},{default:t(()=>[S("div",at,[l.totalcount?(r(),c(P,{key:0,class:"bg-brand text-white shadow-2"},{default:t(()=>[e(q,null,{default:t(()=>[ot]),_:1})]),_:1})):(r(),c(P,{key:1,class:"bg-grey-5 text-white shadow-2"},{default:t(()=>[e(q,null,{default:t(()=>[lt]),_:1})]),_:1})),l.totalcount?(r(),c(E,{key:2,bordered:"",padding:"",class:"rounded-borders"},{default:t(()=>[(r(!0),b(A,null,M(l.getOrders,(a,_)=>Y((r(),c(p,{clickable:"",key:a.id,onClick:x=>l.showitems(a.id,a.date,a.status,a.items,a.customer)},{default:t(()=>[e(u,{avatar:"",top:""},{default:t(()=>[e(N,{color:"brand","text-color":"white"},{default:t(()=>[o(s(a.customer.charAt(0)),1)]),_:2},1024)]),_:2},1024),e(u,null,{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[o(s(a.id),1)]),_:2},1024),e(d,null,{default:t(()=>[o(s(a.customer),1)]),_:2},1024),e(d,{caption:""},{default:t(()=>[o(s(a.date),1)]),_:2},1024),e(d,{caption:""},{default:t(()=>[o(s(a.narration),1)]),_:2},1024)]),_:2},1024),e(u,{side:"",top:""},{default:t(()=>[a.status==="New"?(r(),c(i,{key:0,color:"blue"},{default:t(()=>[o(s(a.status),1)]),_:2},1024)):a.status==="Viewed"?(r(),c(i,{key:1,color:"secondary"},{default:t(()=>[o(s(a.status),1)]),_:2},1024)):a.status==="Accepted"?(r(),c(i,{key:2,color:"accent"},{default:t(()=>[o(s(a.status),1)]),_:2},1024)):a.status==="Packed"?(r(),c(i,{key:3,color:"info"},{default:t(()=>[o(s(a.status),1)]),_:2},1024)):a.status==="Dispatched"?(r(),c(i,{key:4,color:"blue-grey"},{default:t(()=>[o(s(a.status),1)]),_:2},1024)):a.status==="Delivered"?(r(),c(i,{key:5,color:"positive"},{default:t(()=>[o(s(a.status),1)]),_:2},1024)):a.status==="Cancelled"?(r(),c(i,{key:6,color:"negative"},{default:t(()=>[o(s(a.status),1)]),_:2},1024)):(r(),c(i,{key:7,color:"primary"},{default:t(()=>[st]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[H]])),128))]),_:1})):B("",!0)]),l.totalcount?(r(),b("div",rt,[e(G,{modelValue:l.page,"onUpdate:modelValue":m[0]||(m[0]=a=>l.page=a),min:l.currentPage,max:Math.ceil(l.totalcount/l.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):B("",!0),S("div",ct,[e(W,{modelValue:l.card,"onUpdate:modelValue":m[1]||(m[1]=a=>l.card=a)},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px"}},{default:t(()=>[e(E,{bordered:"",class:"rounded-borders"},{default:t(()=>[e(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(N,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(u,{top:""},{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[o(s(l.specificDate),1)]),_:1}),e(d,null,{default:t(()=>[o(s(l.specificCustomer),1)]),_:1}),e(d,{caption:""},{default:t(()=>[S("span",dt,s(l.specificId),1)]),_:1})]),_:1}),e(u,{side:""},{default:t(()=>[l.specificStatus==="New"?(r(),c(i,{key:0,color:"blue"},{default:t(()=>[o(s(l.specificStatus),1)]),_:1})):l.specificStatus==="Viewed"?(r(),c(i,{key:1,color:"secondary"},{default:t(()=>[o(s(l.specificStatus),1)]),_:1})):l.specificStatus==="Accepted"?(r(),c(i,{key:2,color:"accent"},{default:t(()=>[o(s(l.specificStatus),1)]),_:1})):l.specificStatus==="Packed"?(r(),c(i,{key:3,color:"info"},{default:t(()=>[o(s(l.specificStatus),1)]),_:1})):g.model==="Dispatched"?(r(),c(i,{key:4,color:"blue-grey"},{default:t(()=>[o(s(l.specificStatus),1)]),_:1})):l.specificStatus==="Delivered"?(r(),c(i,{key:5,color:"positive"},{default:t(()=>[o(s(l.specificStatus),1)]),_:1})):l.specificStatus==="Cancelled"?(r(),c(i,{key:6,color:"negative"},{default:t(()=>[o(s(l.specificStatus),1)]),_:1})):(r(),c(i,{key:7,color:"primary"},{default:t(()=>[it]),_:1}))]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(d,{class:"text-weight-medium"},{default:t(()=>[ut]),_:1})]),_:1}),e(u,{tops:""},{default:t(()=>[e(d,{class:"text-weight-medium"},{default:t(()=>[nt]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(d,{class:"text-weight-medium text-center"},{default:t(()=>[ft]),_:1})]),_:1})]),_:1}),e(O),(r(!0),b(A,null,M(l.specificItems,(a,_)=>(r(),c(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(d,{class:"q-mt-sm"},{default:t(()=>[o(s(_+1),1)]),_:2},1024)]),_:2},1024),e(u,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm"},{default:t(()=>[o(s(a.item.name),1)]),_:2},1024)]),_:2},1024),e(u,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm flex-center text-center"},{default:t(()=>[o(s(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),e(O),e(p,null,{default:t(()=>[e(u,{top:""},{default:t(()=>[e(d,{class:"text-weight-medium"},{default:t(()=>[mt]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(d,{class:"text-weight-medium"},{default:t(()=>[_t]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(d,{class:"text-weight-medium text-center"},{default:t(()=>[o(s(l.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(J,{align:"right"},{default:t(()=>[Y(e(F,{flat:"",label:"Close",color:"negative"},null,512),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Ut=R(et,[["render",pt]]);export{Ut as default};
