import{Q as o}from"./QItemLabel.e6fa0dc1.js";import{Q as f}from"./QBadge.fbb9c512.js";import{a as v,Q as r}from"./QItem.899e600d.js";import{Q as P}from"./QList.36addd93.js";import{Q as I}from"./QCard.fc586c7a.js";import{Q as R}from"./QPagination.7c56899a.js";import{a8 as j,B as F,k as V,r as i,E as m,H as e,C as c,D as C,K as O,P as G,G as t,I as s,J as n,F as N,N as H,ap as J,Q as B,t as W,M as z}from"./index.246a4b9a.js";import{Q as X}from"./QSeparator.265b03cf.js";import{Q as Z}from"./QCardActions.dab7d62d.js";import{Q as $}from"./QDialog.731c9919.js";import{Q as ee}from"./QPage.d4defc19.js";import{C as te}from"./ClosePopup.7f3f20ff.js";import{u as ae}from"./review.22172862.js";import{d as E}from"./date.fd5a70cf.js";import{post as le}from"./axios.93d508e0.js";import"./use-dark.b88f123a.js";import"./QInput.19c0c42c.js";import"./format.c860d4da.js";import"./use-prevent-scroll.b4d5fbe2.js";import"./scroll.606ee28b.js";import"./use-model-toggle.4c9c2223.js";import"./use-portal.f505e8fd.js";import"./master.9f86e441.js";import"./lodash.1e9e3f94.js";import"./order.ffac0f74.js";const oe=ae(),se={setup(){F();let w,u;const g=V(()=>Object.values(oe.reviews).reverse());let a=Object.values(g.value).length;const b=V(()=>(w=(k.value-1)*p.value,u=(k.value-1)*p.value+p.value,g.value.slice(w,u).map(d=>({id:d.id,customer:d.customer,type:d.type,created_at:E.formatDate(d.created_at,"MMMM d, YYYY "),comment:d.comment,status:d.status,items:d.items}))));let x=i(!1),l=i(""),y=i(""),Q=i(""),S=i(""),Y=i(""),_=i("");const A=function(q,M,d,K,L,h){l.value=q,y.value=M,Q.value=d,S.value=E.formatDate(K,"DD-MM-YYYY"),Y.value=L,_.value=h,h=="New"?(_.value="Viewed",D()):_.value=h,x.value=!0},D=function(){le("review","status",{id:l.value,status:_.value}).then(console.log)};let k=i(1),T=i(1);const p=i(10),U=V(()=>Math.ceil(a/p.value));return{MYREVIEWS:g,totalcount:a,page:k,currentPage:T,totalPages:p,maxVal:U,getData:b,updateStatus:D,openwindow:A,specificId:l,specificCustomer:y,specificType:Q,specificcreateDate:S,specificComment:Y,specificStatus:_,card:x}}},re={key:0,class:"q-pa-md row items-start q-gutter-md"},ce=s("Unknown"),ie={key:1,class:"q-pa-lg flex flex-center"},ne={class:"q-pa-md q-gutter-sm"},de=s("Type"),me=s("Comment"),ue=s("Unknown");function fe(w,u,g,a,b,x){return c(),m(ee,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:e(()=>[a.totalcount?(c(),C("div",re,[(c(!0),C(O,null,G(a.getData,(l,y)=>(c(),m(I,{flat:"",bordered:"",class:"my-card",key:l.id,onClick:Q=>a.openwindow(l.id,l.customer.name,l.type,l.created_at,l.comment,l.status)},{default:e(()=>[t(P,null,{default:e(()=>[t(v,{class:"bg-brand text-white text-bold"},{default:e(()=>[t(r,null,{default:e(()=>[t(o,{class:"text-overline"},{default:e(()=>[s(n(l.customer.name),1)]),_:2},1024),t(o,null,{default:e(()=>[s(n(l.created_at),1)]),_:2},1024),t(o,null,{default:e(()=>[l.status==="New"?(c(),m(f,{key:0,color:"blue"},{default:e(()=>[s(n(l.status),1)]),_:2},1024)):l.status==="Viewed"?(c(),m(f,{key:1,color:"secondary"},{default:e(()=>[s(n(l.status),1)]),_:2},1024)):(c(),m(f,{key:2,color:"primary"},{default:e(()=>[ce]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):N("",!0),a.totalcount?(c(),C("div",ie,[t(R,{modelValue:a.page,"onUpdate:modelValue":u[0]||(u[0]=l=>a.page=l),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):N("",!0),H("div",ne,[t($,{modelValue:a.card,"onUpdate:modelValue":u[1]||(u[1]=l=>a.card=l)},{default:e(()=>[t(I,{class:"my-card",style:{"max-width":"400px"}},{default:e(()=>[t(P,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(v,null,{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(J,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(r,{top:"",class:"col-7 gt-sm"},{default:e(()=>[t(o,{lines:"1"},{default:e(()=>[s(n(a.specificCustomer),1)]),_:1}),t(o,{lines:"2"}),t(o,{caption:"",lines:"3"},{default:e(()=>[s(n(a.specificcreateDate),1)]),_:1})]),_:1})]),_:1}),t(X),t(v,null,{default:e(()=>[t(r,{top:"",class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(B,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(r,{top:"",class:"col-4 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[de]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-left"},{default:e(()=>[s(n(a.specificType),1)]),_:1})]),_:1})]),_:1}),t(v,null,{default:e(()=>[t(r,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(B,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(r,{top:"",class:"col-4 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[me]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-left"},{default:e(()=>[s(n(a.specificComment),1)]),_:1})]),_:1})]),_:1}),t(v,null,{default:e(()=>[t(r,{top:"",class:"col-5 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm text-weight-medium"})]),_:1}),t(r,{top:""},{default:e(()=>[t(o,null,{default:e(()=>[a.specificStatus==="New"?(c(),m(f,{key:0,color:"blue"},{default:e(()=>[s(n(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(c(),m(f,{key:1,color:"secondary"},{default:e(()=>[s(n(a.specificStatus),1)]),_:1})):(c(),m(f,{key:2,color:"primary"},{default:e(()=>[ue]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),t(Z,{align:"right"},{default:e(()=>[W(t(z,{flat:"",label:"Close",color:"negative"},null,512),[[te]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Ue=j(se,[["render",fe],["__scopeId","data-v-c34cc1fe"]]);export{Ue as default};
