import{ai as g,J as w,r as b,a9 as h,b9 as j,M as A,P as t,K as P,O as s,R as n,ak as d,X as z,Y as E}from"./index.8ca15aea.js";import{Q as x}from"./QSelect.f9d8d8a5.js";import{Q as C}from"./QPage.a0c24181.js";import{post as f}from"./axios.871de128.js";import{u as Q}from"./master.e3dfadde.js";import{u as S}from"./use-quasar.c67c6e3f.js";import"./QItem.444016e9.js";import"./QItemLabel.5771a04c.js";import"./QMenu.057dbcb4.js";import"./position-engine.39984fe0.js";import"./selection.14432526.js";import"./format.c860d4da.js";import"./lodash.1e9e3f94.js";const y=Q(),U={setup(){const p=S(),l=w();console.log(history.state.id);const r=b(history.state.id),a=b(y.AREA),m=[],i=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;for(let o in a.value)m.push({label:a.value[o].name,value:a.value[o].id});const e=h({id:"",name:"",password:"",email:"",phone:"",area:"",address:""});j(()=>{if(r.value==0)e.id=e.name=e.password=e.email=e.phone=e.area=e.address="";else{let o=y.CUSTOMER[r.value];e.id=r.value,e.name=o.name,e.password=o.password,e.email=o.email,e.phone=o.phone,e.area=o.area.value,e.address=o.address}});const V=function(){return i.test(e.email)||"Invalid email"};let u;const v=function(){if(e.name!=""&&e.password!=""&&e.phone!=""&&i.test(e.email)&&e.area.value!=""&&e.address!=""){console.warn(e);let o=_.omit(e,["area"]);o.area=e.area.value,r.value>0?(f("master","update",o),u="Your have updated a customer successfully"):(f("customer","store",o),u="Your have added a new customer successfully"),c(u),l.push({name:"ADMINCUSTOMERS"})}},c=function(o){p.notify({type:"positive",message:o,icon:"cloud_done",position:"top-right",timeout:2e3})};return{obj:e,save:v,positivemsg:c,isValidEmail:V,options:m}}},k=E("br",null,null,-1);function M(p,l,r,a,m,i){return P(),A(C,{padding:"",class:"flex column q-gutter-y-sm"},{default:t(()=>[s(d,{outlined:"",label:"Name and Surname",modelValue:a.obj.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.obj.name=e),type:"text","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Name"]},{append:t(()=>[s(n,{name:"account_box"})]),_:1},8,["modelValue","rules"]),s(d,{outlined:"",modelValue:a.obj.email,"onUpdate:modelValue":l[1]||(l[1]=e=>a.obj.email=e),type:"email",label:"Email","lazy-rules":"",rules:[e=>!!e||"Please type Email",a.isValidEmail]},{append:t(()=>[s(n,{name:"email"})]),_:1},8,["modelValue","rules"]),s(d,{outlined:"",modelValue:a.obj.password,"onUpdate:modelValue":l[2]||(l[2]=e=>a.obj.password=e),type:"password",label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Password",e=>e.length>5||"Minimum length is 6"]},{append:t(()=>[s(n,{name:"visibility_off"})]),_:1},8,["modelValue","rules"]),s(d,{outlined:"",modelValue:a.obj.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>a.obj.phone=e),type:"tel",label:"Contact number",mask:"## ##########","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Contact number"]},{append:t(()=>[s(n,{name:"settings_phone"})]),_:1},8,["modelValue","rules"]),s(x,{outlined:"",modelValue:a.obj.area,"onUpdate:modelValue":l[4]||(l[4]=e=>a.obj.area=e),options:a.options,label:"Area"},null,8,["modelValue","options"]),k,s(d,{outlined:"",modelValue:a.obj.address,"onUpdate:modelValue":l[5]||(l[5]=e=>a.obj.address=e),type:"text",label:"Address",autogrow:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Address"]},{append:t(()=>[s(n,{name:"home"})]),_:1},8,["modelValue","rules"]),s(z,{color:"positive",label:"Submit",onClick:a.save,icon:"camera_enhance"},null,8,["onClick"])]),_:1})}var F=g(U,[["render",M]]);export{F as default};
