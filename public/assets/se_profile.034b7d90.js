import{B as g,r as b,k as y,E as v,H as s,aa as x,C as Q,G as o,O as l,Q as n,M as h}from"./index.519e6511.js";import{Q as u}from"./QInput.3be0fd5f.js";import{Q as w}from"./QPage.68727071.js";import{Q as A}from"./QForm.38787183.js";import{u as E}from"./use-quasar.c19bc2e1.js";import{post as S}from"./axios.98808b05.js";import{u as C}from"./master.8d9550d1.js";import"./use-dark.e60f4681.js";import"./format.c860d4da.js";import"./lodash.1b69ab06.js";const $={__name:"se_profile",setup(P){const f=E();g();const c=C(),V=b(AUTH_DATA),a=y(()=>c.SALES_EXECUTIVE[V.value]),m=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/,i=function(){return m.test(a.value.email)||"Invalid email"},p=function(){if(a.value.name!=""&&a.value.password!=""&&a.value.phone!=""&&m.test(a.value.email)){console.warn(a.value);let r=_.omit(a.value,["areas"]);S("master","update",r)}},d=function(r){return f.notify({color:"green",textColor:"white",icon:"cloud_done",message:"Your profile have updated successfully",position:"top-right"}),{onSubmit:d,isValidEmail:i,myProfile:p,salesexecutive:a}};return(r,t)=>(Q(),v(A,{onSubmit:x(d,["prevent"]),class:""},{default:s(()=>[o(w,{padding:"",class:"flex column q-gutter-y-sm"},{default:s(()=>[o(u,{outlined:"",modelValue:l(a).name,"onUpdate:modelValue":t[0]||(t[0]=e=>l(a).name=e),type:"text",label:"Full Name",rules:[e=>e&&e.length>0||"Please type your name"]},{append:s(()=>[o(n,{name:"account_box"})]),_:1},8,["modelValue","rules"]),o(u,{outlined:"",modelValue:l(a).password,"onUpdate:modelValue":t[1]||(t[1]=e=>l(a).password=e),label:"Password",type:"password",rules:[e=>e&&e.length>0||"must  fill this field",e=>e.length>5||"Minimum length is 6"]},{append:s(()=>[o(n,{name:"visibility_off"})]),_:1},8,["modelValue","rules"]),o(u,{outlined:"",modelValue:l(a).email,"onUpdate:modelValue":t[2]||(t[2]=e=>l(a).email=e),label:"E-Mail",type:"text",rules:[e=>!!e||"Email is missing",i]},{append:s(()=>[o(n,{name:"mail"})]),_:1},8,["modelValue","rules"]),o(u,{outlined:"",modelValue:l(a).phone,"onUpdate:modelValue":t[3]||(t[3]=e=>l(a).phone=e),label:"Contact Number",mask:"## ##########",type:"text",rules:[e=>e&&e.length>0||"please enter your PH no"]},{append:s(()=>[o(n,{name:"phone"})]),_:1},8,["modelValue","rules"]),o(h,{type:"submit",label:"Submit",color:"green",icon:"camera_enhance",onClick:p})]),_:1})]),_:1},8,["onSubmit"]))}};export{$ as default};
