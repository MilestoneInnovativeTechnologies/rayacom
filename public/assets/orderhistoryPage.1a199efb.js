import{a as R,Q as U}from"./QToolbar.f6252fc7.js";import{ai as L,t as C,r as n,M as c,P as t,K as o,Y as h,O as e,S as s,L as w,_ as P,B as I,as as Y,T as r,U as M,N as O,ah as K,Q as B,al as F,X as H,at as X,au as j}from"./index.8ca15aea.js";import{a as p,Q as u}from"./QItem.444016e9.js";import{Q as i}from"./QItemLabel.5771a04c.js";import{Q as d}from"./QBadge.e3c4b0f0.js";import{Q as N}from"./QList.428a5f0b.js";import{Q as z}from"./QPagination.5d576056.js";import{Q as G}from"./QPage.a0c24181.js";import{C as J}from"./ClosePopup.555721be.js";import{u as W}from"./order.0741cb5a.js";import{d as Z}from"./date.19ebf348.js";import"./format.c860d4da.js";import"./master.e3dfadde.js";import"./lodash.1e9e3f94.js";const $=W(),tt={setup(){let g,f;const Q=C(()=>$.all.reverse());let a=n(Q.value),S=Object.values(a.value).length;const b=C(()=>{g=(x.value-1)*v.value,f=(x.value-1)*v.value+v.value;let y=a.value.slice(g,f).map(m=>({id:m.id,date:Z.formatDate(m.date,"MMMM d, YYYY "),narration:m.narration,status:m.status,items:m.items}));return console.log(y),y});let l=n(!1),_=n(""),k=n(""),q=n(""),D=n("");const T=function(V,y,m,E){k.value=V,_.value=E,q.value=y,D.value=m,l.value=!0};let x=n(1),A=n(1);const v=n(5);return{MYORDERS:a,totalcount:S,page:x,currentPage:A,totalPages:v,getOrders:b,showitems:T,specificItems:_,specificId:k,specificDate:q,specificStatus:D,card:l}}},et={class:"q-pa-md",style:{width:"80vw","max-width":"350px"}},at={key:0,class:"q-pa-lg flex flex-center"},lt={class:"q-pa-md q-gutter-sm"},st={class:"text-weight-bold"};function ot(g,f,Q,a,S,b){return o(),c(G,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:t(()=>[h("div",et,[e(U,{class:"bg-brand text-white shadow-2"},{default:t(()=>[e(R,null,{default:t(()=>[s("Order History")]),_:1})]),_:1}),a.totalcount?(o(),c(N,{key:0,bordered:"",padding:"",class:"rounded-borders",style:{"max-width":"350px"}},{default:t(()=>[(o(!0),w(M,null,P(a.getOrders,(l,_)=>I((o(),c(p,{clickable:"",key:l.id,onClick:k=>a.showitems(l.id,l.date,l.status,l.items)},{default:t(()=>[e(u,{avatar:"",top:""},{default:t(()=>[e(Y,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(u,null,{default:t(()=>[e(i,{lines:"1"},{default:t(()=>[s(r(l.id),1)]),_:2},1024),e(i,{caption:""},{default:t(()=>[s(r(l.date),1)]),_:2},1024),e(i,{caption:""},{default:t(()=>[s(r(l.narration),1)]),_:2},1024)]),_:2},1024),e(u,{side:""},{default:t(()=>[l.status==="New"?(o(),c(d,{key:0,color:"blue"},{default:t(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Viewed"?(o(),c(d,{key:1,color:"secondary"},{default:t(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Accepted"?(o(),c(d,{key:2,color:"accent"},{default:t(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Packed"?(o(),c(d,{key:3,color:"info"},{default:t(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Dispatched"?(o(),c(d,{key:4,color:"blue-grey"},{default:t(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Delivered"?(o(),c(d,{key:5,color:"positive"},{default:t(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Cancelled"?(o(),c(d,{key:6,color:"negative"},{default:t(()=>[s(r(l.status),1)]),_:2},1024)):(o(),c(d,{key:7,color:"primary"},{default:t(()=>[s("Unknown")]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[j]])),128))]),_:1})):O("",!0)]),a.totalcount?(o(),w("div",at,[e(z,{modelValue:a.page,"onUpdate:modelValue":f[0]||(f[0]=l=>a.page=l),min:a.currentPage,max:Math.ceil(a.totalcount/a.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):O("",!0),h("div",lt,[e(X,{modelValue:a.card,"onUpdate:modelValue":f[1]||(f[1]=l=>a.card=l)},{default:t(()=>[e(K,{class:"my-card",style:{width:"400px"}},{default:t(()=>[e(N,{bordered:"",class:"rounded-borders"},{default:t(()=>[e(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(Y,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(u,{top:""},{default:t(()=>[e(i,{lines:"1"},{default:t(()=>[s(r(a.specificDate),1)]),_:1}),e(i,{caption:"",lines:"2"},{default:t(()=>[h("span",st,r(a.specificId),1)]),_:1}),e(i,{caption:"",lines:"1"},{default:t(()=>[a.specificStatus==="New"?(o(),c(d,{key:0,color:"blue"},{default:t(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(o(),c(d,{key:1,color:"secondary"},{default:t(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(o(),c(d,{key:2,color:"accent"},{default:t(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Packed"?(o(),c(d,{key:3,color:"info"},{default:t(()=>[s(r(a.specificStatus),1)]),_:1})):g.model==="Dispatched"?(o(),c(d,{key:4,color:"blue-grey"},{default:t(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Delivered"?(o(),c(d,{key:5,color:"positive"},{default:t(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Cancelled"?(o(),c(d,{key:6,color:"negative"},{default:t(()=>[s(r(a.specificStatus),1)]),_:1})):(o(),c(d,{key:7,color:"primary"},{default:t(()=>[s("Unknown")]),_:1}))]),_:1})]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[s("#")]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[s("Item")]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[s("Quantity")]),_:1})]),_:1})]),_:1}),e(B),(o(!0),w(M,null,P(a.specificItems,(l,_)=>(o(),c(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(i,{class:"q-mt-sm"},{default:t(()=>[s(r(_+1),1)]),_:2},1024)]),_:2},1024),e(u,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm"},{default:t(()=>[s(r(l.item.name),1)]),_:2},1024)]),_:2},1024),e(u,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm flex-center text-center"},{default:t(()=>[s(r(l.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),e(B),e(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[s("\xA0")]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[s("Total Items")]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[s(r(a.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{align:"right"},{default:t(()=>[I(e(H,{flat:"",label:"Close",color:"negative"},null,512),[[J]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var xt=L(tt,[["render",ot]]);export{xt as default};
