import{q as h,w as v,a1 as y,o as x,A,m as M}from"./index.519e6511.js";function B(){let o;return h(()=>{clearTimeout(o)}),{registerTimeout(a,s){clearTimeout(o),o=setTimeout(a,s)},removeTimeout(){clearTimeout(o)}}}const H={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},P=["before-show","show","before-hide","hide"];function j({showing:o,canShow:a,hideOnRouteChange:s,handleShow:f,handleHide:n,processOnMount:g}){const d=A(),{props:u,emit:l,proxy:c}=d;let t;function U(e){o.value===!0?i(e):m(e)}function m(e){if(u.disable===!0||e!==void 0&&e.qAnchorHandled===!0||a!==void 0&&a(e)!==!0)return;const r=u["onUpdate:modelValue"]!==void 0;r===!0&&(l("update:modelValue",!0),t=e,M(()=>{t===e&&(t=void 0)})),(u.modelValue===null||r===!1)&&p(e)}function p(e){o.value!==!0&&(o.value=!0,l("before-show",e),f!==void 0?f(e):l("show",e))}function i(e){if(u.disable===!0)return;const r=u["onUpdate:modelValue"]!==void 0;r===!0&&(l("update:modelValue",!1),t=e,M(()=>{t===e&&(t=void 0)})),(u.modelValue===null||r===!1)&&V(e)}function V(e){o.value!==!1&&(o.value=!1,l("before-hide",e),n!==void 0?n(e):l("hide",e))}function T(e){u.disable===!0&&e===!0?u["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):e===!0!==o.value&&(e===!0?p:V)(t)}v(()=>u.modelValue,T),s!==void 0&&y(d)===!0&&v(()=>c.$route.fullPath,()=>{s.value===!0&&o.value===!0&&i()}),g===!0&&x(()=>{T(u.modelValue)});const b={show:m,hide:i,toggle:U};return Object.assign(c,b),b}export{P as a,B as b,j as c,H as u};
