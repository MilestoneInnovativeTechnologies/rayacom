import{a as L,Q as K}from"./QToolbar.919471eb.js";import{aj as j,t as P,r as n,N as r,R as t,L as c,Z as x,P as e,M as w,$ as I,B as Y,as as M,T as s,U as o,V as O,O as B,ai as F,Q as N,am as H,Y as Z,at as z,au as G}from"./index.101a966c.js";import{a as p,Q as u}from"./QItem.dce1150f.js";import{Q as d}from"./QItemLabel.13a2a6fe.js";import{Q as i}from"./QBadge.edff4c29.js";import{Q as A}from"./QList.f8486a5f.js";import{Q as J}from"./QPagination.5cea30fa.js";import{Q as W}from"./QPage.e63dd143.js";import{C as X}from"./ClosePopup.319aeed0.js";import{u as $}from"./order.9f0eeb79.js";import{d as tt}from"./date.71b149c5.js";import"./master.027e8a10.js";import"./lodash.1e9e3f94.js";const et=$(),at={setup(){let g,f;const Q=P(()=>et.all.reverse());let l=n(Q.value),S=Object.values(l.value).length;const b=P(()=>{g=(k.value-1)*h.value,f=(k.value-1)*h.value+h.value;let v=l.value.slice(g,f).map(m=>({id:m.id,date:tt.formatDate(m.date,"MMMM D, YYYY "),customer:m.customer.name,narration:m.narration,status:m.status,items:m.items}));return console.log(v),v});let a=n(!1),_=n(""),y=n(""),q=n(""),C=n(""),D=n("");const R=function(V,v,m,E,U){y.value=V,_.value=E,q.value=v,C.value=m,D.value=U,a.value=!0};let k=n(1),T=n(1);const h=n(5);return{MYORDERS:l,totalcount:S,page:k,currentPage:T,totalPages:h,getOrders:b,showitems:R,specificItems:_,specificId:y,specificDate:q,specificStatus:C,specificCustomer:D,card:a}}},lt={class:"q-pa-md",style:{width:"80vw","max-width":"350px"}},st=s("Order History"),ot=s("Unknown"),ct={key:0,class:"q-pa-lg flex flex-center"},rt={class:"q-pa-md q-gutter-sm"},dt={class:"text-weight-bold"},it=s("Unknown"),ut=s("#"),nt=s("Item"),mt=s("Quantity"),ft=s("Total Items");function _t(g,f,Q,l,S,b){return c(),r(W,{padding:"",class:"flex-center column q-col-gutter-y-lg"},{default:t(()=>[x("div",lt,[e(K,{class:"bg-brand text-white shadow-2"},{default:t(()=>[e(L,null,{default:t(()=>[st]),_:1})]),_:1}),l.totalcount?(c(),r(A,{key:0,bordered:"",padding:"",class:"rounded-borders"},{default:t(()=>[(c(!0),w(O,null,I(l.getOrders,(a,_)=>Y((c(),r(p,{clickable:"",key:a.id,onClick:y=>l.showitems(a.id,a.date,a.status,a.items,a.customer)},{default:t(()=>[e(u,{avatar:"",top:""},{default:t(()=>[e(M,{color:"brand","text-color":"white"},{default:t(()=>[s(o(a.customer.charAt(0)),1)]),_:2},1024)]),_:2},1024),e(u,null,{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[s(o(a.id),1)]),_:2},1024),e(d,null,{default:t(()=>[s(o(a.customer),1)]),_:2},1024),e(d,{caption:""},{default:t(()=>[s(o(a.date),1)]),_:2},1024),e(d,{caption:""},{default:t(()=>[s(o(a.narration),1)]),_:2},1024)]),_:2},1024),e(u,{side:"",top:""},{default:t(()=>[a.status==="New"?(c(),r(i,{key:0,color:"blue"},{default:t(()=>[s(o(a.status),1)]),_:2},1024)):a.status==="Viewed"?(c(),r(i,{key:1,color:"secondary"},{default:t(()=>[s(o(a.status),1)]),_:2},1024)):a.status==="Accepted"?(c(),r(i,{key:2,color:"accent"},{default:t(()=>[s(o(a.status),1)]),_:2},1024)):a.status==="Packed"?(c(),r(i,{key:3,color:"info"},{default:t(()=>[s(o(a.status),1)]),_:2},1024)):a.status==="Dispatched"?(c(),r(i,{key:4,color:"blue-grey"},{default:t(()=>[s(o(a.status),1)]),_:2},1024)):a.status==="Delivered"?(c(),r(i,{key:5,color:"positive"},{default:t(()=>[s(o(a.status),1)]),_:2},1024)):a.status==="Cancelled"?(c(),r(i,{key:6,color:"negative"},{default:t(()=>[s(o(a.status),1)]),_:2},1024)):(c(),r(i,{key:7,color:"primary"},{default:t(()=>[ot]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[G]])),128))]),_:1})):B("",!0)]),l.totalcount?(c(),w("div",ct,[e(J,{modelValue:l.page,"onUpdate:modelValue":f[0]||(f[0]=a=>l.page=a),min:l.currentPage,max:Math.ceil(l.totalcount/l.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):B("",!0),x("div",rt,[e(z,{modelValue:l.card,"onUpdate:modelValue":f[1]||(f[1]=a=>l.card=a)},{default:t(()=>[e(F,{class:"my-card",style:{width:"400px"}},{default:t(()=>[e(A,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:t(()=>[e(p,null,{default:t(()=>[e(u,{avatar:""},{default:t(()=>[e(M,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(u,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[s(o(l.specificDate),1)]),_:1}),e(d,null,{default:t(()=>[s(o(l.specificCustomer),1)]),_:1}),e(d,{caption:""},{default:t(()=>[x("span",dt,o(l.specificId),1)]),_:1})]),_:1}),e(u,{side:""},{default:t(()=>[l.specificStatus==="New"?(c(),r(i,{key:0,color:"blue"},{default:t(()=>[s(o(l.specificStatus),1)]),_:1})):l.specificStatus==="Viewed"?(c(),r(i,{key:1,color:"secondary"},{default:t(()=>[s(o(l.specificStatus),1)]),_:1})):l.specificStatus==="Accepted"?(c(),r(i,{key:2,color:"accent"},{default:t(()=>[s(o(l.specificStatus),1)]),_:1})):l.specificStatus==="Packed"?(c(),r(i,{key:3,color:"info"},{default:t(()=>[s(o(l.specificStatus),1)]),_:1})):g.model==="Dispatched"?(c(),r(i,{key:4,color:"blue-grey"},{default:t(()=>[s(o(l.specificStatus),1)]),_:1})):l.specificStatus==="Delivered"?(c(),r(i,{key:5,color:"positive"},{default:t(()=>[s(o(l.specificStatus),1)]),_:1})):l.specificStatus==="Cancelled"?(c(),r(i,{key:6,color:"negative"},{default:t(()=>[s(o(l.specificStatus),1)]),_:1})):(c(),r(i,{key:7,color:"primary"},{default:t(()=>[it]),_:1}))]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(u,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[ut]),_:1})]),_:1}),e(u,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[nt]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[mt]),_:1})]),_:1})]),_:1}),e(N),(c(!0),w(O,null,I(l.specificItems,(a,_)=>(c(),r(p,null,{default:t(()=>[e(u,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm"},{default:t(()=>[s(o(_+1),1)]),_:2},1024)]),_:2},1024),e(u,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm"},{default:t(()=>[s(o(a.item.name),1)]),_:2},1024)]),_:2},1024),e(u,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm flex-center text-center"},{default:t(()=>[s(o(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),e(N),e(p,null,{default:t(()=>[e(u,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"})]),_:1}),e(u,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[ft]),_:1})]),_:1}),e(u,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[s(o(l.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(H,{align:"right"},{default:t(()=>[Y(e(Z,{flat:"",label:"Close",color:"negative"},null,512),[[X]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Dt=j(at,[["render",_t]]);export{Dt as default};
