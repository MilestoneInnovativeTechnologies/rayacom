import{b as Ve,a as S,Q as f}from"./QList.f61d83db.js";import{r as ee,a as Me,b as Fe,Q as te}from"./QInput.bd99579f.js";import{c as ce,ao as Le,ap as Oe,a as m,h as y,e as de,f as fe,n as me,aq as Q,r as p,H as Re,ar as He,as as Ae,at as Ne,a1 as he,s as pe,w as H,am as ne,j as ze,au as Ke,q as $e,_ as Ue,K as E,W as A,a8 as z,N as a,M as s,S as T,V as N,O as je,Z as oe,av as Ge,X as We,L as Je,R as g,Q as Xe,aw as Ye,C as ae}from"./index.61e57dae.js";import{a as Ze,Q as et}from"./QCard.a8024755.js";import{u as tt,a as nt,b as ot,c as at,d as lt,e as it}from"./use-prevent-scroll.dd7eb6c4.js";import"./use-dark.b80861c3.js";import"./format.801e7424.js";var st=ce({name:"QCardActions",props:{...Le,vertical:Boolean},setup(e,{slots:t}){const n=Oe(e),l=m(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>y("div",{class:l.value},de(t.default))}});function rt(){let e;return fe(()=>{e=void 0}),{registerTick(t){e=t,me(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}const ut={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}},D=[];function ct(e){return D.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function dt(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Q(e)}else if(e.__qPortalInnerRef!==void 0){const n=Q(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Q(e)}while(e!=null)}function ft(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=dt(e,t);continue}e.hide(t)}e=Q(e)}}function mt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ht(e,t,n,l){const r=p(!1),u=p(!1);let i=null;const d={},c=l===!0&&mt(e);function q(v){if(v===!0){ee(d),u.value=!0;return}u.value=!1,r.value===!1&&(c===!1&&i===null&&(i=Ae()),r.value=!0,D.push(e.proxy),Me(d))}function h(v){if(u.value=!1,v!==!0)return;ee(d),r.value=!1;const b=D.indexOf(e.proxy);b>-1&&D.splice(b,1),i!==null&&(Ne(i),i=null)}return Re(()=>{h(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:q,hidePortal:h,portalIsActive:r,portalIsAccessible:u,renderPortal:()=>c===!0?n():r.value===!0?[y(He,{to:i},n())]:void 0}}const w=[];let k;function pt(e){k=e.keyCode===27}function gt(){k===!0&&(k=!1)}function vt(e){k===!0&&(k=!1,he(e,27)===!0&&w[w.length-1](e))}function ge(e){window[e]("keydown",pt),window[e]("blur",gt),window[e]("keyup",vt),k=!1}function _t(e){pe.is.desktop===!0&&(w.push(e),w.length===1&&ge("addEventListener"))}function le(e){const t=w.indexOf(e);t>-1&&(w.splice(t,1),w.length===0&&ge("removeEventListener"))}const x=[];function ve(e){x[x.length-1](e)}function yt(e){pe.is.desktop===!0&&(x.push(e),x.length===1&&document.body.addEventListener("focusin",ve))}function ie(e){const t=x.indexOf(e);t>-1&&(x.splice(t,1),x.length===0&&document.body.removeEventListener("focusin",ve))}let P=0;const wt={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},se={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var xt=ce({name:"QDialog",inheritAttrs:!1,props:{...tt,...ut,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...nt,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:l}){const r=ze(),u=p(null),i=p(!1),d=p(!1),c=p(!1);let q,h=null,v,b;const K=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:$}=it(),{registerTimeout:U,removeTimeout:j}=ot(),{registerTick:_e,removeTick:G}=rt(),{showPortal:W,hidePortal:J,portalIsAccessible:ye,renderPortal:we}=ht(r,u,Ie,!0),{hide:C}=at({showing:i,hideOnRouteChange:K,handleShow:Te,handleHide:Pe,processOnMount:!0}),{addToHistory:xe,removeFromHistory:be}=lt(i,C,K),ke=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${wt[e.position]}`+(c.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),qe=m(()=>"q-transition--"+(e.transitionShow===void 0?se[e.position][0]:e.transitionShow)),Be=m(()=>"q-transition--"+(e.transitionHide===void 0?se[e.position][1]:e.transitionHide)),Ce=m(()=>d.value===!0?Be.value:qe.value),X=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),I=m(()=>i.value===!0&&e.seamless!==!0),Se=m(()=>e.autoClose===!0?{onClick:Qe}:{}),Ee=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${I.value===!0?"modal":"seamless"}`,l.class]);H(i,o=>{me(()=>{d.value=o})}),H(()=>e.maximized,o=>{i.value===!0&&F(o)}),H(I,o=>{$(o),o===!0?(yt(L),_t(M)):(ie(L),le(M))});function Te(o){j(),G(),xe(),h=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,F(e.maximized),W(),c.value=!0,e.noFocus!==!0&&(document.activeElement!==null&&document.activeElement.blur(),_e(B)),U(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:_,bottom:O}=document.activeElement.getBoundingClientRect(),{innerHeight:Z}=window,R=window.visualViewport!==void 0?window.visualViewport.height:Z;_>0&&O>R/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-R,O>=Z?1/0:Math.ceil(document.scrollingElement.scrollTop+O-R/2))),document.activeElement.scrollIntoView()}b=!0,u.value.click(),b=!1}W(!0),c.value=!1,n("show",o)},e.transitionDuration)}function Pe(o){j(),G(),be(),Y(!0),c.value=!0,J(),h!==null&&(h.focus(),h=null),U(()=>{J(!0),c.value=!1,n("hide",o)},e.transitionDuration)}function B(o){Fe(()=>{let _=u.value;_===null||_.contains(document.activeElement)===!0||(_=_.querySelector(o||"[autofocus], [data-autofocus]")||_,_.focus({preventScroll:!0}))})}function V(){B(),n("shake");const o=u.value;o!==null&&(o.classList.remove("q-animate--scale"),o.classList.add("q-animate--scale"),clearTimeout(q),q=setTimeout(()=>{u.value!==null&&(o.classList.remove("q-animate--scale"),B())},170))}function M(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&V():(n("escape-key"),C()))}function Y(o){clearTimeout(q),(o===!0||i.value===!0)&&(F(!1),e.seamless!==!0&&($(!1),ie(L),le(M))),o!==!0&&(h=null)}function F(o){o===!0?v!==!0&&(P<1&&document.body.classList.add("q-body--dialog"),P++,v=!0):v===!0&&(P<2&&document.body.classList.remove("q-body--dialog"),P--,v=!1)}function Qe(o){b!==!0&&(C(o),n("click",o))}function De(o){e.persistent!==!0&&e.noBackdropDismiss!==!0?C(o):e.noShake!==!0&&V()}function L(o){e.allowFocusOutside!==!0&&ye.value===!0&&Ke(u.value,o.target)!==!0&&B('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:B,shake:V,__updateRefocusTarget(o){h=o||null}}),fe(Y);function Ie(){return y("div",{...l,class:Ee.value},[y(ne,{name:"q-transition--fade",appear:!0},()=>I.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:X.value,"aria-hidden":"true",onMousedown:De}):null),y(ne,{name:Ce.value,appear:!0},()=>i.value===!0?y("div",{ref:u,class:ke.value,style:X.value,tabindex:-1,...Se.value},de(t.default)):null)])}return we}});function re(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var ue=$e({name:"close-popup",beforeMount(e,{value:t}){const n={depth:re(t),handler(l){n.depth!==0&&setTimeout(()=>{const r=ct(e);r!==void 0&&ft(r,l,n.depth)})},handlerKey(l){he(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=re(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const bt={setup(e){const t=Ge(),n=p(JSON.parse(t.params.myproducts)),l=function(){var c=u.value;n.value.splice(c,1),r.value=!1},r=p(!1),u=p(null);return{myproducts:n,removeItem:l,confirm:r,confirmBox:function(c){r.value=!0,u.value=c},confirmOrder:function(){router.push({name:"SUMMARY",params:{myproducts:JSON.stringify(n.value)}})}}}},kt={class:"q-pa-md q-gutter-md full-width"},qt=g("#"),Bt=g("Item"),Ct=g("Quantity"),St=g("Remove"),Et=g("Total Items:"),Tt=g("Notes"),Pt=z("span",{class:"q-ml-sm"},"Are you sure you want to delete?",-1),Qt={class:"q-mt-sm"},Dt={key:0,class:"q-pa-md q-gutter-sm"};function It(e,t,n,l,r,u){return E(),A(oe,null,[z("div",kt,[a(Ve,{bordered:"",separator:""},{default:s(()=>[a(S,{clickable:"",class:"text-subtitle2 bg-deep-orange-10 text-white"},{default:s(()=>[a(f,null,{default:s(()=>[qt]),_:1}),a(f,null,{default:s(()=>[Bt]),_:1}),a(f,null,{default:s(()=>[Ct]),_:1}),a(f,null,{default:s(()=>[St]),_:1})]),_:1}),(E(!0),A(oe,null,We(l.myproducts,(i,d)=>(E(),Je(S,{clickable:"",key:i.id},{default:s(()=>[a(f,null,{default:s(()=>[g(T(d+1),1)]),_:2},1024),a(f,null,{default:s(()=>[g(T(i.item),1)]),_:2},1024),a(f,null,{default:s(()=>[a(te,{outlined:"",modelValue:l.myproducts[d].qty,"onUpdate:modelValue":c=>l.myproducts[d].qty=c,modelModifiers:{number:!0},type:"number",style:{"max-width":"100px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(f,{side:""},{default:s(()=>[a(Xe,{name:"cancel",onClick:c=>l.confirmBox(d),class:"cursor-pointer"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),a(S,{clickable:"",class:"text-subtitle2"},{default:s(()=>[a(f,null,{default:s(()=>[Et]),_:1}),a(f,null,{default:s(()=>[g(T(l.myproducts.length),1)]),_:1})]),_:1}),a(S,{clickable:"",class:"text-subtitle2"},{default:s(()=>[a(f,null,{default:s(()=>[Tt]),_:1}),a(f,null,{default:s(()=>[a(te,{modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=i=>e.text=i),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),a(xt,{modelValue:l.confirm,"onUpdate:modelValue":t[2]||(t[2]=i=>l.confirm=i),persistent:""},{default:s(()=>[a(Ze,null,{default:s(()=>[a(et,{class:"row items-center"},{default:s(()=>[a(Ye,{icon:"delete",color:"primary","text-color":"white"}),Pt]),_:1}),a(st,{align:"right"},{default:s(()=>[ae(a(N,{flat:"",label:"Cancel",color:"primary"},null,512),[[ue]]),ae(a(N,{flat:"",label:"Delete",color:"primary",onClick:t[1]||(t[1]=i=>l.removeItem())},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),z("div",Qt,T(l.myproducts),1),l.myproducts.length?(E(),A("div",Dt,[a(N,{unelevated:"",rounded:"",color:"positive",label:"Submit",class:"full-width",type:"submit",icon:"camera_enhance",onClick:t[3]||(t[3]=i=>l.confirmOrder())})])):je("",!0)],64)}var At=Ue(bt,[["render",It]]);export{At as default};
