import{a8 as G,B as z,k as x,r as n,E as i,H as e,C as r,N as g,G as t,Q as y,M as I,D as Y,K as H,P as J,I as s,J as d,F as N,ap as T,t as W,aF as X,aG as Z}from"./index.519e6511.js";import{Q as o}from"./QItemLabel.95c271f7.js";import{Q as u}from"./QBadge.a3efd72d.js";import{a as p,Q as c}from"./QItem.dbe0fd3c.js";import{Q as B}from"./QList.ee2f0220.js";import{Q as L}from"./QCard.39c5907a.js";import{Q as $}from"./QPagination.908aa05f.js";import{Q as ee}from"./QSeparator.8305d860.js";import{Q as te}from"./QCardActions.2803e26a.js";import{Q as ae}from"./QDialog.4aa07f16.js";import{Q as le}from"./QPage.68727071.js";import{C as se}from"./ClosePopup.20672703.js";import{u as oe}from"./leave.11dc3b66.js";import{d as k}from"./date.bd456e4c.js";import"./use-dark.e60f4681.js";import"./QInput.3be0fd5f.js";import"./format.c860d4da.js";import"./use-prevent-scroll.d8f1a98f.js";import"./scroll.1e188d5c.js";import"./use-model-toggle.02b9d1d7.js";import"./use-portal.0839ed11.js";import"./master.8d9550d1.js";import"./lodash.1b69ab06.js";const re=oe(),ce={setup(){const _=z();let f,D;const a=x(()=>Object.values(re.leaves).reverse()),Q=x(()=>Object.values(a.value).length),q=x(()=>(f=(S.value-1)*v.value,D=(S.value-1)*v.value+v.value,Object.values(a.value).slice(f,D).map(m=>({id:m.id,executive:m.executive.name,start_date:k.formatDate(m.start_date,"MMMM D, YYYY "),end_date:k.formatDate(m.end_date,"MMMM D, YYYY "),description:m.description,status:m.status})))),l=function(){_.push({name:"LEAVEADD"})};let w=n(!1),h=n(""),M=n(""),V=n(""),b=n(""),E=n(""),A=n("");const j=function(C,P,m,K,O,R){h.value=C,A.value=P,M.value=k.formatDate(m,"DD-MM-YYYY"),V.value=k.formatDate(K,"DD-MM-YYYY"),b.value=O,E.value=R,w.value=!0};let S=n(1),U=n(1);const v=n(10),F=x(()=>Math.ceil(Q.value/v.value));return{MYLEAVES:a,totalcount:Q,page:S,currentPage:U,totalPages:v,maxVal:F,getData:q,gotoAction:l,openwindow:j,specificId:h,specificExecutive:A,specificstartDate:M,specificendDate:V,specificeDescription:b,specificStatus:E,card:w}}},de=_=>(X("data-v-7e13083a"),_=_(),Z(),_),ie=de(()=>g("div",{class:"q-pa-sm"},[g("div",{class:"row q-pa-md"},[g("div",{class:"col-8"})])],-1)),ne={class:"q-pa-md text-center"},ue=s(" NEW LEAVE "),fe={key:0,class:"q-pa-md row items-start q-gutter-md"},me=s("Unknown"),_e={key:1,class:"q-pa-lg flex flex-center"},pe={class:"q-pa-md q-gutter-sm"},ve=s("Start Date"),ge=s("End Date"),xe=s("Description"),ye=s("Unknown");function ke(_,f,D,a,Q,q){return r(),i(le,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:e(()=>[ie,g("div",ne,[t(I,{color:"positive","no-caps":"",onClick:f[0]||(f[0]=l=>a.gotoAction())},{default:e(()=>[t(y,{left:"",size:"xl",name:"open_in_new"}),ue]),_:1})]),a.totalcount?(r(),Y("div",fe,[(r(!0),Y(H,null,J(a.getData,(l,w)=>(r(),i(L,{flat:"",bordered:"",class:"my-card",key:l.id,onClick:h=>a.openwindow(l.id,l.executive,l.start_date,l.end_date,l.description,l.status)},{default:e(()=>[t(B,null,{default:e(()=>[t(p,{class:"bg-grey-2 text-bold"},{default:e(()=>[t(c,null,{default:e(()=>[t(o,null,{default:e(()=>[s(d(l.executive),1)]),_:2},1024),t(o,{caption:""},{default:e(()=>[s(d(l.start_date),1)]),_:2},1024),t(o,null,{default:e(()=>[l.status==="New"?(r(),i(u,{key:0,color:"blue"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):l.status==="Progress"?(r(),i(u,{key:1,color:"secondary"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):l.status==="Accepted"?(r(),i(u,{key:2,color:"positive"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):l.status==="Rejected"?(r(),i(u,{key:3,color:"negative"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):(r(),i(u,{key:4,color:"primary"},{default:e(()=>[me]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):N("",!0),a.totalcount?(r(),Y("div",_e,[t($,{modelValue:a.page,"onUpdate:modelValue":f[1]||(f[1]=l=>a.page=l),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):N("",!0),g("div",pe,[t(ae,{modelValue:a.card,"onUpdate:modelValue":f[2]||(f[2]=l=>a.card=l)},{default:e(()=>[t(L,{class:"my-card",style:{"max-width":"400px"}},{default:e(()=>[t(B,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(p,null,{default:e(()=>[t(c,{avatar:""},{default:e(()=>[t(T,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(c,{top:""},{default:e(()=>[t(o),t(o),t(o,{lines:"1"},{default:e(()=>[s(d(a.specificExecutive),1)]),_:1})]),_:1})]),_:1}),t(ee),t(p,null,{default:e(()=>[t(c,{avatar:""},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[ve]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-left"},{default:e(()=>[s(d(a.specificstartDate),1)]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(c,{avatar:""},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[ge]),_:1})]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-left"},{default:e(()=>[s(d(a.specificendDate),1)]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(c,{avatar:""},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[xe]),_:1})]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-left"},{default:e(()=>[s(d(a.specificeDescription),1)]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(c,{top:"",class:"col-2 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm text-weight-medium"})]),_:1}),t(c,{class:"col-3 q-pa-md q-gutter-xl"},{default:e(()=>[a.specificStatus==="New"?(r(),i(u,{key:0,color:"blue"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Progress"?(r(),i(u,{key:1,color:"secondary"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(r(),i(u,{key:2,color:"positive"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Rejected"?(r(),i(u,{key:3,color:"negative"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):(r(),i(u,{key:4,color:"primary"},{default:e(()=>[ye]),_:1}))]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),t(te,{align:"right"},{default:e(()=>[W(t(I,{flat:"",label:"Close",color:"negative"},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Re=G(ce,[["render",ke],["__scopeId","data-v-7e13083a"]]);export{Re as default};
