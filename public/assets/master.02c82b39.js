import{d as p}from"./index.01a4d7f9.js";import{_ as e}from"./lodash.e6c87188.js";const v=p("master",{state:()=>{const r=e(MASTERS).mapKeys().mapValues(()=>({})).value();return{masters:{},props:{},prop_set:{},...r}},getters:{properties(r){return e.flatMap(r.props)}},actions:{data(r){e.forEach(r,(h,s)=>this[s]=h)},property(r){e.forEach(r,(h,s)=>this.props[s]=h)},master(r){e.forEach(r,(h,s)=>this.masters[s]=h)},property_set(r){e.forEach(r,(h,s)=>this.prop_set[s]=h)},recursive(r){e.forEach(r,(h,s)=>e.forEach(h,(_,t)=>{if(!e.has(this[s],t)){let i=e.get(e.find(this.masters,l=>l[1]===s),0),a=e.get(this.prop_set,i,null);this[s][t]=Object.assign({id:t,name:_.name},e.cloneDeep(a))}e.forEach(_,(i,a)=>{if(e.isObject(i)){let l=this[s][t][a];if(e.isArray(l)){let m=i._remove,o=e.filter(l,({data:n})=>!e.includes(m,e.toNumber(n))),u=this.masters[s].id,f=e.get(e.find(this.props[u],["name",a]),"value_master"),c=e.findKey(this.masters,n=>n.id==f);f?o.push(...e.map(i._add,n=>({master:f,data:n,value:e.get(this,[c,n,"name"],"")}))):o.push(...e.map(i._add,n=>({master:null,data:null,value:n}))),this[s][t][a].splice(0,this[s][t][a].length),this[s][t][a].push(...o)}else e.isBoolean(l)||(e.forEach(i._remove,m=>{this[s][t][a].value=null,l.master&&(this[s][t][a].data=null)}),e.forEach(i._add,m=>{if(l.master){let o=e.findKey(this.masters,({id:f})=>f==l.master),u=e.get(this[o],[m,"name"]);this[s][t][a].data=m,this[s][t][a].value=u}else this[s][t][a].value=m}))}else this[s][t][a]!==i&&(this[s][t][a]=i)})}))}}});export{v as u};
