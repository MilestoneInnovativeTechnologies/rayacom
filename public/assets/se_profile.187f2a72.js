import{J as g,r as b,t as y,M as v,P as s,am as x,K as h,O as t,ak as n,Z as l,R as u,X as w}from"./index.8ca15aea.js";import{Q as A}from"./QPage.a0c24181.js";import{Q}from"./QForm.a1622801.js";import{u as S}from"./use-quasar.c67c6e3f.js";import{post as E}from"./axios.871de128.js";import{u as P}from"./master.e3dfadde.js";import"./lodash.1e9e3f94.js";const N={__name:"se_profile",setup(U){const f=S();g();const c=P(),V=b(AUTH_DATA),a=y(()=>c.SALES_EXECUTIVE[V.value]),m=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/,i=function(){return m.test(a.value.email)||"Invalid email"},p=function(){if(a.value.name!=""&&a.value.password!=""&&a.value.phone!=""&&m.test(a.value.email)){console.warn(a.value);let r=_.omit(a.value,["areas"]);E("master","update",r)}},d=function(r){return f.notify({color:"green",textColor:"white",icon:"cloud_done",message:"Your profile have updated successfully",position:"top-right"}),{onSubmit:d,isValidEmail:i,myProfile:p,salesexecutive:a}};return(r,o)=>(h(),v(Q,{onSubmit:x(d,["prevent"]),class:""},{default:s(()=>[t(A,{padding:"",class:"flex column q-gutter-y-sm"},{default:s(()=>[t(n,{outlined:"",modelValue:l(a).name,"onUpdate:modelValue":o[0]||(o[0]=e=>l(a).name=e),type:"text",label:"Full Name",rules:[e=>e&&e.length>0||"Please type your name"]},{append:s(()=>[t(u,{name:"account_box"})]),_:1},8,["modelValue","rules"]),t(n,{outlined:"",modelValue:l(a).password,"onUpdate:modelValue":o[1]||(o[1]=e=>l(a).password=e),label:"Password",type:"password",rules:[e=>e&&e.length>0||"must  fill this field",e=>e.length>5||"Minimum length is 6"]},{append:s(()=>[t(u,{name:"visibility_off"})]),_:1},8,["modelValue","rules"]),t(n,{outlined:"",modelValue:l(a).email,"onUpdate:modelValue":o[2]||(o[2]=e=>l(a).email=e),label:"E-Mail",type:"text",rules:[e=>!!e||"Email is missing",i]},{append:s(()=>[t(u,{name:"mail"})]),_:1},8,["modelValue","rules"]),t(n,{outlined:"",modelValue:l(a).phone,"onUpdate:modelValue":o[3]||(o[3]=e=>l(a).phone=e),label:"Contact Number",mask:"## ##########",type:"text",rules:[e=>e&&e.length>0||"please enter your PH no"]},{append:s(()=>[t(u,{name:"phone"})]),_:1},8,["modelValue","rules"]),t(w,{type:"submit",label:"Submit",color:"green",icon:"camera_enhance",onClick:p})]),_:1})]),_:1},8,["onSubmit"]))}};export{N as default};
