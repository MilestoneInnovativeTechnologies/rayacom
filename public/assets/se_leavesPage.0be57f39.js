import{a8 as z,B as G,k as v,r as i,E as n,H as e,C as r,N as P,G as t,Q as g,M as N,D as Y,K as H,P as J,I as s,J as d,F as B,ap as T,t as W}from"./index.246a4b9a.js";import{Q as o}from"./QItemLabel.e6fa0dc1.js";import{Q as u}from"./QBadge.fbb9c512.js";import{a as _,Q as c}from"./QItem.899e600d.js";import{Q as I}from"./QList.36addd93.js";import{Q as L}from"./QCard.fc586c7a.js";import{Q as X}from"./QPagination.7c56899a.js";import{Q as Z}from"./QSeparator.265b03cf.js";import{Q as $}from"./QCardActions.dab7d62d.js";import{Q as ee}from"./QDialog.731c9919.js";import{Q as te}from"./QPage.d4defc19.js";import{C as ae}from"./ClosePopup.7f3f20ff.js";import{u as le}from"./leave.5cc094f8.js";import{d as x}from"./date.fd5a70cf.js";import"./use-dark.b88f123a.js";import"./QInput.19c0c42c.js";import"./format.c860d4da.js";import"./use-prevent-scroll.b4d5fbe2.js";import"./scroll.606ee28b.js";import"./use-model-toggle.4c9c2223.js";import"./use-portal.f505e8fd.js";import"./master.9f86e441.js";import"./lodash.1e9e3f94.js";const se=le(),oe={setup(){const h=G();let m,y;const a=v(()=>Object.values(se.leaves).reverse()),k=v(()=>Object.values(a.value).length),S=v(()=>(m=(w.value-1)*p.value,y=(w.value-1)*p.value+p.value,Object.values(a.value).slice(m,y).map(f=>({id:f.id,executive:f.executive.name,start_date:x.formatDate(f.start_date,"MMMM d, YYYY "),end_date:x.formatDate(f.end_date,"MMMM D, YYYY "),description:f.description,status:f.status})))),l=function(){h.push({name:"LEAVEADD"})};let D=i(!1),Q=i(""),q=i(""),M=i(""),V=i(""),b=i(""),E=i("");const j=function(A,C,f,O,R,F){Q.value=A,E.value=C,q.value=x.formatDate(f,"DD-MM-YYYY"),M.value=x.formatDate(O,"DD-MM-YYYY"),V.value=R,b.value=F,D.value=!0};let w=i(1),U=i(1);const p=i(10),K=v(()=>Math.ceil(k.value/p.value));return{MYLEAVES:a,totalcount:k,page:w,currentPage:U,totalPages:p,maxVal:K,getData:S,gotoAction:l,openwindow:j,specificId:Q,specificExecutive:E,specificstartDate:q,specificendDate:M,specificeDescription:V,specificStatus:b,card:D}}},re={class:"q-pa-md text-center"},ce=s(" NEW LEAVE "),de={key:0,class:"q-pa-md row items-start q-gutter-md"},ne=s("Unknown"),ie={key:1,class:"q-pa-lg flex flex-center"},ue={class:"q-pa-md q-gutter-sm"},me=s("Start Date"),fe=s("End Date"),_e=s("Description"),pe=s("Unknown");function ve(h,m,y,a,k,S){return r(),n(te,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:e(()=>[P("div",re,[t(N,{color:"positive","no-caps":"",onClick:m[0]||(m[0]=l=>a.gotoAction())},{default:e(()=>[t(g,{left:"",size:"xl",name:"open_in_new"}),ce]),_:1})]),a.totalcount?(r(),Y("div",de,[(r(!0),Y(H,null,J(a.getData,(l,D)=>(r(),n(L,{flat:"",bordered:"",class:"my-card",key:l.id,onClick:Q=>a.openwindow(l.id,l.executive,l.start_date,l.end_date,l.description,l.status)},{default:e(()=>[t(I,null,{default:e(()=>[t(_,{class:"bg-grey-2 text-bold"},{default:e(()=>[t(c,null,{default:e(()=>[t(o,null,{default:e(()=>[s(d(l.executive),1)]),_:2},1024),t(o,{caption:""},{default:e(()=>[s(d(l.start_date),1)]),_:2},1024),t(o,null,{default:e(()=>[l.status==="New"?(r(),n(u,{key:0,color:"blue"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):l.status==="Progress"?(r(),n(u,{key:1,color:"secondary"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):l.status==="Accepted"?(r(),n(u,{key:2,color:"positive"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):l.status==="Rejected"?(r(),n(u,{key:3,color:"negative"},{default:e(()=>[s(d(l.status),1)]),_:2},1024)):(r(),n(u,{key:4,color:"primary"},{default:e(()=>[ne]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):B("",!0),a.totalcount?(r(),Y("div",ie,[t(X,{modelValue:a.page,"onUpdate:modelValue":m[1]||(m[1]=l=>a.page=l),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):B("",!0),P("div",ue,[t(ee,{modelValue:a.card,"onUpdate:modelValue":m[2]||(m[2]=l=>a.card=l)},{default:e(()=>[t(L,{class:"my-card",style:{"max-width":"400px"}},{default:e(()=>[t(I,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(_,null,{default:e(()=>[t(c,{avatar:""},{default:e(()=>[t(T,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(c,{top:"",class:"col-7 gt-sm"},{default:e(()=>[t(o),t(o),t(o,{lines:"1"},{default:e(()=>[s(d(a.specificExecutive),1)]),_:1})]),_:1})]),_:1}),t(Z),t(_,null,{default:e(()=>[t(c,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(g,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(c,{class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[me]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[s(d(a.specificstartDate),1)]),_:1})]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(c,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(g,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(c,{top:"",class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[fe]),_:1})]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[s(d(a.specificendDate),1)]),_:1})]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(c,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(g,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(c,{top:"",class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[_e]),_:1})]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-leftr"},{default:e(()=>[s(d(a.specificeDescription),1)]),_:1})]),_:1})]),_:1}),t(_,null,{default:e(()=>[t(c,{top:"",class:"col-2 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm text-weight-medium"})]),_:1}),t(c,{class:"col-3 q-pa-md q-gutter-xl"},{default:e(()=>[a.specificStatus==="New"?(r(),n(u,{key:0,color:"blue"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Progress"?(r(),n(u,{key:1,color:"secondary"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(r(),n(u,{key:2,color:"positive"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):a.specificStatus==="Rejected"?(r(),n(u,{key:3,color:"negative"},{default:e(()=>[s(d(a.specificStatus),1)]),_:1})):(r(),n(u,{key:4,color:"primary"},{default:e(()=>[pe]),_:1}))]),_:1}),t(c,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),t($,{align:"right"},{default:e(()=>[W(t(N,{flat:"",label:"Close",color:"negative"},null,512),[[ae]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Ue=z(oe,[["render",ve],["__scopeId","data-v-5a8280f4"]]);export{Ue as default};
