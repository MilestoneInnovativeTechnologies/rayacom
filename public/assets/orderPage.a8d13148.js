import{Q as d}from"./QItemLabel.2807a71a.js";import{a as c,Q as l,b as q}from"./QList.ea411345.js";import{Q as V}from"./QInput.16cb8938.js";import{_ as O,r as f,K as p,O as _,N as t,aq as P,J as A,M as e,L as Y,Y as L,R as n,S as y,Q as M,T as R,W as Q,P as U,ar as H,B as C,X as T}from"./index.01a4d7f9.js";import{Q as S}from"./use-prevent-scroll.6331d8db.js";import{Q as J}from"./QCardSection.e0fbcc93.js";import{d as E,Q as F,a as K,C as w}from"./ClosePopup.5f0da1f4.js";import{Q as W}from"./QCard.c6908caf.js";import{Q as X}from"./QPage.5a5bbeae.js";import{u as j}from"./use-quasar.6021430a.js";import{u as z}from"./order.2728bd89.js";import{post as G}from"./axios.055b09b4.js";import"./use-dark.7da541fb.js";import"./format.c860d4da.js";import"./master.02c82b39.js";import"./lodash.e6c87188.js";z();const Z={setup(D){const r=j(),v=P(),a=A(),i=f(JSON.parse(v.params.myproducts)),x=10001,s=f(""),m=function(){var u=g.value;i.value.splice(u,1),o.value=!1},o=f(!1),g=f(null),I=function(u){o.value=!0,g.value=u};let b,k;const B=function(){b=Date.now(),k=E.formatDate(b,"YYYY-MM-DD HH:mm:ss");var u=i.value.some(function(N){return N.quantity===0});u||(G("order","store",{customer:x,date:k,narration:s.value,items:i.value}),i.length=0,h("Order saved Successfully"),a.push({name:"DASHBOARD"}))},h=function(u){r.notify({type:"positive",message:u,icon:"cloud_done",position:"top-right",timeout:1e3})};return{myproducts:i,removeItem:m,confirm:o,confirmBox:I,confirmOrder:B,notes:s,positivemsg:h}}},$=n("#"),ee=n("Item"),te=n("Quantity"),ae=n("Total Items:"),oe=n("Notes"),le=T("span",{class:"q-ml-sm"},"Are you sure you want to delete?",-1);function se(D,r,v,a,i,x){return p(),_(X,{padding:"",class:"flex flex-center column q-gutter-y-xl"},{default:t(()=>[e(q,{bordered:""},{default:t(()=>[e(c,{clickable:"",class:"text-subtitle2 bg-deep-orange-10 text-white"},{default:t(()=>[e(l,{class:"text-white"},{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[$]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[ee]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[te]),_:1})]),_:1}),e(l,{class:"text-white",side:""})]),_:1}),(p(!0),Y(R,null,L(a.myproducts,(s,m)=>(p(),_(c,{clickable:"",key:s.id},{default:t(()=>[e(l,{class:"text-black",side:""},{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[n(y(m+1),1)]),_:2},1024)]),_:2},1024),e(l,null,{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[n(y(s.itemname),1)]),_:2},1024)]),_:2},1024),e(l,{side:"",top:""},{default:t(()=>[e(V,{outlined:"",dense:"",maxlength:"4",style:{"max-width":"60px"},modelValue:a.myproducts[m].quantity,"onUpdate:modelValue":o=>a.myproducts[m].quantity=o,modelModifiers:{number:!0},mask:"#","fill-mask":"0","reverse-fill-mask":"",rules:[o=>o!==null&&o!==""&&parseInt(o)!=NaN||"Please type a number",o=>o>0||"Please type a real number"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),e(l,{avatar:"",side:"",top:""},{default:t(()=>[e(M,{name:"cancel",onClick:o=>a.confirmBox(m),class:"cursor-pointer"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),e(S),e(c,{clickable:"",class:"text-subtitle2"},{default:t(()=>[e(l,null,{default:t(()=>[ae]),_:1}),e(l,null,{default:t(()=>[n(y(a.myproducts.length),1)]),_:1})]),_:1}),e(S),e(c,{clickable:"",class:"text-subtitle2"},{default:t(()=>[e(l,null,{default:t(()=>[oe]),_:1}),e(l,null,{default:t(()=>[e(V,{outlined:"",modelValue:a.notes,"onUpdate:modelValue":r[0]||(r[0]=s=>a.notes=s),type:"text",maxlength:"500",autogrow:"",counter:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a.myproducts.length?(p(),_(Q,{key:0,color:"positive",label:"Save",type:"submit",icon:"camera_enhance",onClick:r[1]||(r[1]=s=>a.confirmOrder())})):U("",!0),e(K,{modelValue:a.confirm,"onUpdate:modelValue":r[3]||(r[3]=s=>a.confirm=s),persistent:""},{default:t(()=>[e(W,null,{default:t(()=>[e(J,{class:"row items-center"},{default:t(()=>[e(H,{icon:"delete",color:"primary","text-color":"white"}),le]),_:1}),e(F,{align:"right"},{default:t(()=>[C(e(Q,{flat:"",label:"Cancel",color:"primary"},null,512),[[w]]),C(e(Q,{flat:"",label:"Delete",color:"primary",onClick:r[2]||(r[2]=s=>a.removeItem())},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ke=O(Z,[["render",se]]);export{ke as default};
