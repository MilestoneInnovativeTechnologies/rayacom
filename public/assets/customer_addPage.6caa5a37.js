import{a8 as w,B as j,r as b,Y as h,aI as A,E,H as r,C as P,G as t,Q as n,M as Q,N as z}from"./index.8d7e61fd.js";import{Q as m}from"./QInput.0fdaf5de.js";import{Q as C}from"./QSelect.a4017f62.js";import{Q as x}from"./QPage.12dd21c8.js";import{post as V}from"./axios.980293f3.js";import{u as S}from"./master.58f94054.js";import{u as U}from"./use-quasar.7d209305.js";import"./use-dark.678b0dd2.js";import"./format.c860d4da.js";import"./QItem.d2090226.js";import"./QItemLabel.4b045cb7.js";import"./QMenu.f3a6a76b.js";import"./position-engine.fd7b7ee1.js";import"./selection.4ec6e38e.js";import"./use-portal.0314865a.js";import"./scroll.25b4c155.js";import"./use-model-toggle.3fd02ce3.js";import"./QDialog.500a4fb3.js";import"./use-prevent-scroll.1269f3f5.js";import"./lodash.1b69ab06.js";const y=S(),I={props:["id"],setup(p){const s=U(),c=j(),o=b(p.id),i=b(y.AREA),d=[],e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;for(let l in i.value)d.push({label:i.value[l].name,value:i.value[l].id});const a=h({id:"",name:"",password:"",email:"",phone:"",area:"",address:""});A(()=>{if(o.value==0)a.id=a.name=a.password=a.email=a.phone=a.area=a.address="";else{let l=y.CUSTOMER[o.value];a.id=o.value,a.name=l.name,a.password=l.password,a.email=l.email,a.phone=l.phone,a.area=l.area.value,a.address=l.address}});const v=function(){return e.test(a.email)||"Invalid email"};let u;const g=function(){if(a.name!=""&&a.password!=""&&a.phone!=""&&e.test(a.email)&&a.area.value!=""&&a.address!=""){console.warn(a);let l=_.omit(a,["area"]);l.area=a.area.value,o.value>0?(V("master","update",l),u="Your Item have updated successfully"):(V("customer","store",l),u="Your have added a new item successfully"),f(u),c.push({name:"ADMINCUSTOMERS"})}},f=function(l){s.notify({type:"positive",message:l,icon:"cloud_done",position:"top-right",timeout:2e3})};return{obj:a,save:g,positivemsg:f,isValidEmail:v,options:d}}},M=z("br",null,null,-1);function N(p,s,c,o,i,d){return P(),E(x,{padding:"",class:"flex column q-gutter-y-sm"},{default:r(()=>[t(m,{outlined:"",label:"Name and Surname",modelValue:o.obj.name,"onUpdate:modelValue":s[0]||(s[0]=e=>o.obj.name=e),type:"text","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Name"]},{append:r(()=>[t(n,{name:"account_box"})]),_:1},8,["modelValue","rules"]),t(m,{outlined:"",modelValue:o.obj.password,"onUpdate:modelValue":s[1]||(s[1]=e=>o.obj.password=e),type:"password",label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Password",e=>e.length>5||"Minimum length is 6"]},{append:r(()=>[t(n,{name:"visibility_off"})]),_:1},8,["modelValue","rules"]),t(m,{outlined:"",modelValue:o.obj.email,"onUpdate:modelValue":s[2]||(s[2]=e=>o.obj.email=e),type:"email",label:"Email","lazy-rules":"",rules:[e=>!!e||"Please type Email",o.isValidEmail]},{append:r(()=>[t(n,{name:"email"})]),_:1},8,["modelValue","rules"]),t(m,{outlined:"",modelValue:o.obj.phone,"onUpdate:modelValue":s[3]||(s[3]=e=>o.obj.phone=e),type:"tel",label:"Contact number",mask:"(###) ### - ######","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Contact number"]},{append:r(()=>[t(n,{name:"settings_phone"})]),_:1},8,["modelValue","rules"]),t(C,{outlined:"",modelValue:o.obj.area,"onUpdate:modelValue":s[4]||(s[4]=e=>o.obj.area=e),options:o.options,label:"Area"},null,8,["modelValue","options"]),M,t(m,{outlined:"",modelValue:o.obj.address,"onUpdate:modelValue":s[5]||(s[5]=e=>o.obj.address=e),type:"text",label:"Address",autogrow:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Address"]},{append:r(()=>[t(n,{name:"home"})]),_:1},8,["modelValue","rules"]),t(Q,{color:"positive",label:"Submit",onClick:o.save,icon:"camera_enhance"},null,8,["onClick"])]),_:1})}var oe=w(I,[["render",N]]);export{oe as default};
