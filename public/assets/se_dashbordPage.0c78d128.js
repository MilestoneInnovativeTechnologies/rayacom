import{a8 as ue,B as ne,k as i,r as _,E as n,H as e,C as u,N as U,G as t,Q as y,I as a,J as s,D as C,K as R,P as F,t as K,ap as L,F as D,M as ie,aq as me}from"./index.519e6511.js";import{a as p,Q as r}from"./QItem.dbe0fd3c.js";import{Q as d}from"./QItemLabel.95c271f7.js";import{Q as v}from"./QList.ee2f0220.js";import{Q as h}from"./QCard.39c5907a.js";import{a as fe,Q as _e}from"./QToolbar.080a901a.js";import{Q as m}from"./QBadge.a3efd72d.js";import{Q as pe}from"./QPagination.908aa05f.js";import{Q as H}from"./QSeparator.8305d860.js";import{Q as ve}from"./QSelect.3a01accf.js";import{Q as he}from"./QCardSection.a10ea186.js";import{Q as ge}from"./QCardActions.2803e26a.js";import{Q as ye}from"./QDialog.4aa07f16.js";import{Q as be}from"./QPage.68727071.js";import{C as xe}from"./ClosePopup.20672703.js";import{u as ke}from"./use-quasar.c19bc2e1.js";import{u as we}from"./order.3b2eb02b.js";import{d as Qe}from"./date.bd456e4c.js";import{post as Ce}from"./axios.98808b05.js";import"./use-dark.e60f4681.js";import"./QInput.3be0fd5f.js";import"./format.c860d4da.js";import"./QMenu.ceebb96e.js";import"./position-engine.6301699e.js";import"./selection.e65ce004.js";import"./use-portal.0839ed11.js";import"./scroll.1e188d5c.js";import"./use-model-toggle.02b9d1d7.js";import"./use-prevent-scroll.d8f1a98f.js";import"./master.8d9550d1.js";import"./lodash.1b69ab06.js";const g=we(),De={setup(){const P=ne(),f=ke();let b,l;const x=i(()=>Object.values(g.all).filter(c=>c.status!="Delivered"&&c.status!="Cancelled").reverse()),q=i(()=>Object.keys(x.value).length),o=i(()=>Object.values(g.all).filter(c=>c.status=="New").reverse()),k=i(()=>Object.values(g.all).filter(c=>c.status=="Viewed").reverse()),I=i(()=>Object.values(g.all).filter(c=>c.status=="Accepted").reverse()),W=i(()=>Object.values(g.all).filter(c=>c.status=="Packed").reverse()),G=i(()=>Object.values(g.all).filter(c=>c.status=="Dispatched").reverse()),J=i(()=>Object.keys(o.value).length),X=i(()=>Object.keys(k.value).length),Z=i(()=>Object.keys(I.value).length),$=i(()=>Object.keys(W.value).length),ee=i(()=>Object.keys(G.value).length);let S,A,w=_(null);const te=i(()=>(b=(Y.value-1)*Q.value,l=b+Q.value,S=Object.values(x.value).slice(b,l),A=S.map(c=>(c.status,{id:c.id,date:Qe.formatDate(c.date,"MMMM D, YYYY "),narration:c.narration,customer:c.customer.name,status:c.status,items:c.items})),A)),ae=function(){P.push({name:"ITEM"})},E=function(){Ce("order","status",{order:V.value,status:w.value}).then(console.log),B("Order status updated Successfully")};let N=_(!1),j=_(""),M=_(""),V=_(""),T=_(""),O=_("");const le=function(c,re,de,z,ce){M.value=c,V.value=re,j.value=ce,T.value=de,z=="New"?(O.value=w.value="Viewed",E()):O.value=w.value=z,N.value=!0},B=function(c){f.notify({type:"positive",message:c,icon:"cloud_done",position:"top-right",timeout:1e3})};let Y=_(1),oe=_(1);const Q=_(5),se=i(()=>Math.ceil(q.value/Q.value));return{MYORDERS:x,newCount:J,viewedCount:X,acceptedCount:Z,packedCount:$,dispatchedCount:ee,totalcount:q,page:Y,currentPage:oe,totalPages:Q,maxVal:se,getOrders:te,gotoItempage:ae,showitems:le,specificItems:j,specificId:V,specificCustomer:M,specificDate:T,specificStatus:O,card:N,model:w,options:["Accepted","Packed","Dispatched","Delivered","Cancelled"],updateStatus:E,positivemsg:B}}},qe={class:"q-pa-md row items-start q-gutter-md"},Ve=a("New"),Oe=a("Viewed"),Pe=a("Accepted"),Ie=a("Packed"),Se=a("Dispatched"),Ae={key:0,class:"q-pa-md",style:{width:"80vw","max-width":"350px"}},Ee=a("Dashboard"),Ne=a("Unknown"),je={key:1,class:"q-pa-lg flex flex-center"},Me={class:"q-pa-md q-gutter-sm"},Te=a("Unknown"),Be=a("#"),Ye=a("Item"),ze=a("Quantity"),Ue=a("FOC"),Re=a("\xA0"),Fe=a("Total Items");function Ke(P,f,b,l,x,q){return u(),n(be,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:e(()=>[U("div",qe,[t(h,{class:"my-card text-white",style:{background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)",width:"80vw"}},{default:e(()=>[t(v,null,{default:e(()=>[t(p,{clickable:""},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"local_bar",size:"md"})]),_:1}),t(r,null,{default:e(()=>[t(d,{class:"text-h5 text-bold text-white"},{default:e(()=>[a(s(l.newCount),1)]),_:1}),t(d,{caption:""},{default:e(()=>[Ve]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(h,{class:"my-card",style:{background:"radial-gradient(circle, #f5b38b 0%, rgb(162,66,6) 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(p,{clickable:""},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"travel_explore",size:"md"})]),_:1}),t(r,null,{default:e(()=>[t(d,{class:"text-h5 text-bold text-white"},{default:e(()=>[a(s(l.viewedCount),1)]),_:1}),t(d,{caption:""},{default:e(()=>[Oe]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(h,{class:"my-card",style:{background:"radial-gradient(circle, #ee9bfa 0%, rgb(83,2,94) 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(p,{clickable:""},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"done_all",size:"md"})]),_:1}),t(r,null,{default:e(()=>[t(d,{class:"text-h5 text-bold text-white"},{default:e(()=>[a(s(l.acceptedCount),1)]),_:1}),t(d,{caption:""},{default:e(()=>[Pe]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(h,{class:"my-card",style:{background:"radial-gradient(circle, rgba(250,237,118,0.93) 0%, rgb(140,129,7) 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(p,{clickable:""},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"work",size:"md"})]),_:1}),t(r,null,{default:e(()=>[t(d,{class:"text-h5 text-bold text-white"},{default:e(()=>[a(s(l.packedCount),1)]),_:1}),t(d,{caption:""},{default:e(()=>[Ie]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(h,{class:"my-card",style:{background:"radial-gradient(circle, #86f6ed 0%, #046558 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(p,{clickable:""},{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"local_shipping",size:"md"})]),_:1}),t(r,null,{default:e(()=>[t(d,{class:"text-h5 text-bold text-white"},{default:e(()=>[a(s(l.dispatchedCount),1)]),_:1}),t(d,{caption:""},{default:e(()=>[Se]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),l.totalcount?(u(),C("div",Ae,[t(_e,{class:"bg-brand text-white shadow-2"},{default:e(()=>[t(fe,null,{default:e(()=>[Ee]),_:1})]),_:1}),l.totalcount?(u(),n(v,{key:0,bordered:"",padding:"",class:"rounded-borders",style:{"max-width":"350px"}},{default:e(()=>[(u(!0),C(R,null,F(l.getOrders,(o,k)=>K((u(),n(p,{clickable:"",key:o.id,onClick:I=>l.showitems(o.customer,o.id,o.date,o.status,o.items)},{default:e(()=>[t(r,{avatar:"",top:""},{default:e(()=>[t(L,{color:"brand","text-color":"white"},{default:e(()=>[a(s(o.customer.charAt(0)),1)]),_:2},1024)]),_:2},1024),t(r,null,{default:e(()=>[t(d,null,{default:e(()=>[a(s(o.customer),1)]),_:2},1024),t(d,{caption:""},{default:e(()=>[a(s(o.date),1)]),_:2},1024),t(d,{caption:""},{default:e(()=>[a(s(o.narration),1)]),_:2},1024)]),_:2},1024),t(r,{side:"",top:""},{default:e(()=>[o.status==="New"?(u(),n(m,{key:0,color:"blue"},{default:e(()=>[a(s(o.status),1)]),_:2},1024)):o.status==="Viewed"?(u(),n(m,{key:1,color:"secondary"},{default:e(()=>[a(s(o.status),1)]),_:2},1024)):o.status==="Accepted"?(u(),n(m,{key:2,color:"accent"},{default:e(()=>[a(s(o.status),1)]),_:2},1024)):o.status==="Packed"?(u(),n(m,{key:3,color:"info"},{default:e(()=>[a(s(o.status),1)]),_:2},1024)):o.status==="Dispatched"?(u(),n(m,{key:4,color:"blue-grey"},{default:e(()=>[a(s(o.status),1)]),_:2},1024)):(u(),n(m,{key:5,color:"primary"},{default:e(()=>[Ne]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[me]])),128))]),_:1})):D("",!0)])):D("",!0),l.totalcount?(u(),C("div",je,[t(pe,{modelValue:l.page,"onUpdate:modelValue":f[0]||(f[0]=o=>l.page=o),min:l.currentPage,max:l.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):D("",!0),U("div",Me,[t(ye,{modelValue:l.card,"onUpdate:modelValue":f[3]||(f[3]=o=>l.card=o)},{default:e(()=>[t(h,{style:{width:"400px"}},{default:e(()=>[t(v,{bordered:"",class:"rounded-borders"},{default:e(()=>[t(p,null,{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(L,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(r,{top:""},{default:e(()=>[t(d,{lines:"1"},{default:e(()=>[a(s(l.specificCustomer),1)]),_:1}),t(d,{lines:"2"},{default:e(()=>[a(s(l.specificDate),1)]),_:1})]),_:1}),t(r,{side:""},{default:e(()=>[l.model==="New"?(u(),n(m,{key:0,color:"blue"},{default:e(()=>[a(s(l.model),1)]),_:1})):l.model==="Viewed"?(u(),n(m,{key:1,color:"secondary"},{default:e(()=>[a(s(l.model),1)]),_:1})):l.model==="Accepted"?(u(),n(m,{key:2,color:"accent"},{default:e(()=>[a(s(l.model),1)]),_:1})):l.model==="Packed"?(u(),n(m,{key:3,color:"info"},{default:e(()=>[a(s(l.model),1)]),_:1})):l.model==="Dispatched"?(u(),n(m,{key:4,color:"blue-grey"},{default:e(()=>[a(s(l.model),1)]),_:1})):l.model==="Delivered"?(u(),n(m,{key:5,color:"positive"},{default:e(()=>[a(s(l.model),1)]),_:1})):l.model==="Cancelled"?(u(),n(m,{key:6,color:"negative"},{default:e(()=>[a(s(l.model),1)]),_:1})):(u(),n(m,{key:7,color:"primary"},{default:e(()=>[Te]),_:1}))]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(d,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[Be]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[Ye]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[ze]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[Ue]),_:1})]),_:1})]),_:1}),t(H),(u(!0),C(R,null,F(l.specificItems,(o,k)=>(u(),n(p,null,{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(d,{class:"q-mt-sm"},{default:e(()=>[a(s(k+1),1)]),_:2},1024)]),_:2},1024),t(r,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm"},{default:e(()=>[a(s(o.item.name),1)]),_:2},1024)]),_:2},1024),t(r,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[a(s(o.quantity),1)]),_:2},1024)]),_:2},1024),t(r,{top:""},{default:e(()=>[o.foc>0?(u(),n(d,{key:0,class:"q-mt-sm flex-center text-center"},{default:e(()=>[a(s(o.foc),1)]),_:2},1024)):D("",!0)]),_:2},1024)]),_:2},1024))),256)),t(H),t(p,null,{default:e(()=>[t(r,{avatar:""},{default:e(()=>[t(d,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[Re]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[Fe]),_:1})]),_:1}),t(r,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[a(s(l.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(he,null,{default:e(()=>[t(ve,{filled:"",modelValue:l.model,"onUpdate:modelValue":[f[1]||(f[1]=o=>l.model=o),f[2]||(f[2]=o=>l.updateStatus())],options:l.options,label:"Status"},null,8,["modelValue","options"])]),_:1}),t(ge,{align:"right"},{default:e(()=>[K(t(ie,{flat:"",label:"Close",color:"negative"},null,512),[[xe]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var wt=ue(De,[["render",Ke],["__scopeId","data-v-1e83d86a"]]);export{wt as default};
