import{a8 as z,B as G,k as g,r as f,E as c,H as t,C as l,N as S,G as e,Q as H,M,D as b,P as N,t as O,ap as E,I as o,J as r,K as R,F as J,aq as W}from"./index.8d7e61fd.js";import{Q as i}from"./QItemLabel.4b045cb7.js";import{a as h,Q as d}from"./QItem.d2090226.js";import{Q as n}from"./QBadge.68cbc97a.js";import{Q as B}from"./QList.5e2b7bfb.js";import{Q as X}from"./QPagination.2286f097.js";import{Q as Y}from"./QSeparator.1fdea069.js";import{Q as Z}from"./QCardActions.dacc32d4.js";import{Q as $}from"./QCard.9e71421a.js";import{Q as tt}from"./QDialog.500a4fb3.js";import{Q as et}from"./QPage.12dd21c8.js";import{C as at}from"./ClosePopup.77ae0838.js";import{u as st}from"./use-quasar.7d209305.js";import{u as ot}from"./order.2c304010.js";import{d as lt}from"./date.52e73b47.js";import"./use-dark.678b0dd2.js";import"./QInput.0fdaf5de.js";import"./format.c860d4da.js";import"./use-prevent-scroll.1269f3f5.js";import"./scroll.25b4c155.js";import"./use-model-toggle.3fd02ce3.js";import"./use-portal.0314865a.js";import"./master.58f94054.js";import"./lodash.1b69ab06.js";const rt=ot(),ct={setup(){const w=G();st();let m,k,a;const _=g(()=>rt.all.reverse()),v=g(()=>{let u=[];for(let x in _.value)m=_.value[x].status,m!="Delivered"&&m!="Cancelled"&&u.push(_.value[x]);return u}),s=g(()=>Object.keys(v.value).length);let p,Q;const A=g(()=>(k=(P.value-1)*y.value,a=k+y.value,p=Object.values(v.value).slice(k,a),Q=p.map(u=>(u.status,{id:u.id,date:lt.formatDate(u.date,"MMMM d, YYYY "),narration:u.narration,status:u.status,items:u.items})),Q)),U=function(){w.push({name:"ITEM"})};let q=f(!1),D=f(""),I=f(""),V=f(""),C=f("");const L=function(u,x,F,K){I.value=u,D.value=K,V.value=x,C.value=F,q.value=!0};let P=f(1),T=f(1);const y=f(5),j=g(()=>Math.ceil(s.value/y.value));return{ORDERS:_,MYORDERS:v,totalcount:s,page:P,currentPage:T,totalPages:y,maxVal:j,getOrders:A,gotoItempage:U,showitems:L,specificItems:D,specificId:I,specificDate:V,specificStatus:C,card:q}}},it={class:"row justify-end side"},dt=o(" NEW ORDER "),nt=o("No Order"),ut=o("Dashboard"),mt=o("Unknown"),ft={key:0,class:"q-pa-lg flex flex-center"},_t={class:"q-pa-md q-gutter-sm"},pt={class:"text-weight-bold"},gt=o("Unknown"),ht=o("#"),kt=o("Item"),vt=o("Quantity"),yt=o("Total Items");function xt(w,m,k,a,_,v){return l(),c(et,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:t(()=>[S("div",it,[e(M,{color:"positive","no-caps":"",onClick:m[0]||(m[0]=s=>a.gotoItempage())},{default:t(()=>[e(H,{left:"",size:"xl",name:"open_in_new"}),dt]),_:1})]),e(B,{bordered:"",padding:"",class:"rounded-borders"},{default:t(()=>[a.totalcount===0?(l(),c(i,{key:0,header:""},{default:t(()=>[nt]),_:1})):(l(),c(i,{key:1,header:""},{default:t(()=>[ut]),_:1})),(l(!0),b(R,null,N(a.getOrders,(s,p)=>O((l(),c(h,{clickable:"",key:s.id,onClick:Q=>a.showitems(s.id,s.date,s.status,s.items)},{default:t(()=>[e(d,{avatar:"",top:""},{default:t(()=>[e(E,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),e(d,null,{default:t(()=>[e(i,{lines:"1"},{default:t(()=>[o(r(s.id),1)]),_:2},1024),e(i,{caption:""},{default:t(()=>[o(r(s.date),1)]),_:2},1024),e(i,{caption:""},{default:t(()=>[o(r(s.narration),1)]),_:2},1024)]),_:2},1024),e(d,{side:"",top:""},{default:t(()=>[s.status==="New"?(l(),c(n,{key:0,color:"blue"},{default:t(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Viewed"?(l(),c(n,{key:1,color:"secondary"},{default:t(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Accepted"?(l(),c(n,{key:2,color:"accent"},{default:t(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Packed"?(l(),c(n,{key:3,color:"info"},{default:t(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Dispatched"?(l(),c(n,{key:4,color:"blue-grey"},{default:t(()=>[o(r(s.status),1)]),_:2},1024)):(l(),c(n,{key:5,color:"primary"},{default:t(()=>[mt]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[W]])),128))]),_:1}),a.totalcount?(l(),b("div",ft,[e(X,{modelValue:a.page,"onUpdate:modelValue":m[1]||(m[1]=s=>a.page=s),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):J("",!0),S("div",_t,[e(tt,{modelValue:a.card,"onUpdate:modelValue":m[2]||(m[2]=s=>a.card=s)},{default:t(()=>[e($,{class:"my-card",style:{width:"400px"}},{default:t(()=>[e(B,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:t(()=>[e(h,null,{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(E,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),e(d,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{lines:"1"},{default:t(()=>[o(r(a.specificDate),1)]),_:1}),e(i,{caption:"",lines:"2"},{default:t(()=>[S("span",pt,r(a.specificId),1)]),_:1}),e(i,{caption:"",lines:"1"},{default:t(()=>[a.specificStatus==="New"?(l(),c(n,{key:0,color:"blue"},{default:t(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(l(),c(n,{key:1,color:"secondary"},{default:t(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(l(),c(n,{key:2,color:"accent"},{default:t(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Packed"?(l(),c(n,{key:3,color:"info"},{default:t(()=>[o(r(a.specificStatus),1)]),_:1})):w.model==="Dispatched"?(l(),c(n,{key:4,color:"blue-grey"},{default:t(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Delivered"?(l(),c(n,{key:5,color:"positive"},{default:t(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Cancelled"?(l(),c(n,{key:6,color:"negative"},{default:t(()=>[o(r(a.specificStatus),1)]),_:1})):(l(),c(n,{key:7,color:"primary"},{default:t(()=>[gt]),_:1}))]),_:1})]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(d,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[ht]),_:1})]),_:1}),e(d,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[kt]),_:1})]),_:1}),e(d,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[vt]),_:1})]),_:1})]),_:1}),e(Y),(l(!0),b(R,null,N(a.specificItems,(s,p)=>(l(),c(h,null,{default:t(()=>[e(d,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm"},{default:t(()=>[o(r(p+1),1)]),_:2},1024)]),_:2},1024),e(d,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm"},{default:t(()=>[o(r(s.item.name),1)]),_:2},1024)]),_:2},1024),e(d,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm flex-center text-center"},{default:t(()=>[o(r(s.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),e(Y),e(h,null,{default:t(()=>[e(d,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"})]),_:1}),e(d,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[yt]),_:1})]),_:1}),e(d,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[o(r(a.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(Z,{align:"right"},{default:t(()=>[O(e(M,{flat:"",label:"Close",color:"negative"},null,512),[[at]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var zt=z(ct,[["render",xt]]);export{zt as default};
