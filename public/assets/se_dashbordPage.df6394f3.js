import{ai as ce,J as ne,t as i,r as p,M as n,P as e,K as c,Y as z,O as t,R as y,S as l,T as d,ah as g,L as Q,U as R,_ as L,B as K,as as W,N as O,Q as F,al as ie,X as me,at as fe,au as _e}from"./index.d755ac14.js";import{a as f,Q as s}from"./QItem.66a42e1c.js";import{Q as r}from"./QItemLabel.780cbcc6.js";import{Q as v}from"./QList.1c77fae5.js";import{a as pe,Q as ve}from"./QToolbar.8288db38.js";import{Q as m}from"./QBadge.73220a47.js";import{Q as ge}from"./QPagination.e76403d2.js";import{Q as be}from"./QSelect.f8cd7eb0.js";import{Q as ye}from"./QPage.0b6c8760.js";import{C as he}from"./ClosePopup.bea0ea49.js";import{u as xe}from"./use-quasar.87192af1.js";import{u as ke}from"./order.beb5b52a.js";import{d as we}from"./date.7fc66f0f.js";import{post as Ce}from"./axios.f3978ac2.js";import"./format.c860d4da.js";import"./QMenu.9f2c7ca2.js";import"./position-engine.185136e8.js";import"./selection.d9f7dc9e.js";import"./master.05480c04.js";import"./lodash.1e9e3f94.js";const b=ke(),Qe={setup(){const P=ne(),_=xe();let h,a;const x=i(()=>Object.values(b.all).filter(u=>u.status!="Delivered"&&u.status!="Cancelled").reverse()),D=i(()=>Object.keys(x.value).length),o=i(()=>Object.values(b.all).filter(u=>u.status=="New").reverse()),k=i(()=>Object.values(b.all).filter(u=>u.status=="Viewed").reverse()),I=i(()=>Object.values(b.all).filter(u=>u.status=="Accepted").reverse()),H=i(()=>Object.values(b.all).filter(u=>u.status=="Packed").reverse()),J=i(()=>Object.values(b.all).filter(u=>u.status=="Dispatched").reverse()),X=i(()=>Object.keys(o.value).length),G=i(()=>Object.keys(k.value).length),Z=i(()=>Object.keys(I.value).length),$=i(()=>Object.keys(H.value).length),ee=i(()=>Object.keys(J.value).length);let S,j,w=p(null);const te=i(()=>(h=(B.value-1)*C.value,a=h+C.value,S=Object.values(x.value).slice(h,a),j=S.map(u=>(u.status,{id:u.id,date:we.formatDate(u.date,"MMMM D, YYYY "),narration:u.narration,customer:u.customer.name,status:u.status,items:u.items})),j)),ae=function(){P.push({name:"ITEM"})},A=function(){Ce("order","status",{order:q.value,status:w.value}).then(console.log),Y("Order status updated Successfully")};let E=p(!1),N=p(""),M=p(""),q=p(""),T=p(""),V=p("");const le=function(u,de,re,U,ue){M.value=u,q.value=de,N.value=ue,T.value=re,U=="New"?(V.value=w.value="Viewed",A()):V.value=w.value=U,E.value=!0},Y=function(u){_.notify({type:"positive",message:u,icon:"cloud_done",position:"top-right",timeout:1e3})};let B=p(1),oe=p(1);const C=p(5),se=i(()=>Math.ceil(D.value/C.value));return{MYORDERS:x,newCount:X,viewedCount:G,acceptedCount:Z,packedCount:$,dispatchedCount:ee,totalcount:D,page:B,currentPage:oe,totalPages:C,maxVal:se,getOrders:te,gotoItempage:ae,showitems:le,specificItems:N,specificId:q,specificCustomer:M,specificDate:T,specificStatus:V,card:E,model:w,options:["Accepted","Packed","Dispatched","Delivered","Cancelled"],updateStatus:A,positivemsg:Y}}},De={class:"q-pa-md row items-start q-gutter-md"},qe={key:0,class:"q-pa-md",style:{width:"80vw","max-width":"350px"}},Ve={key:1,class:"q-pa-lg flex flex-center"},Oe={class:"q-pa-md q-gutter-sm"};function Pe(P,_,h,a,x,D){return c(),n(ye,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:e(()=>[z("div",De,[t(g,{class:"my-card text-white",style:{background:"radial-gradient(circle, #35a2ff 0%, #014a88 100%)",width:"80vw"}},{default:e(()=>[t(v,null,{default:e(()=>[t(f,{clickable:""},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"local_bar",size:"md"})]),_:1}),t(s,null,{default:e(()=>[t(r,{class:"text-h5 text-bold text-white"},{default:e(()=>[l(d(a.newCount),1)]),_:1}),t(r,{caption:""},{default:e(()=>[l("New")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{class:"my-card",style:{background:"radial-gradient(circle, #f5b38b 0%, rgb(162,66,6) 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(f,{clickable:""},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"travel_explore",size:"md"})]),_:1}),t(s,null,{default:e(()=>[t(r,{class:"text-h5 text-bold text-white"},{default:e(()=>[l(d(a.viewedCount),1)]),_:1}),t(r,{caption:""},{default:e(()=>[l("Viewed")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{class:"my-card",style:{background:"radial-gradient(circle, #ee9bfa 0%, rgb(83,2,94) 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(f,{clickable:""},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"done_all",size:"md"})]),_:1}),t(s,null,{default:e(()=>[t(r,{class:"text-h5 text-bold text-white"},{default:e(()=>[l(d(a.acceptedCount),1)]),_:1}),t(r,{caption:""},{default:e(()=>[l("Accepted")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{class:"my-card",style:{background:"radial-gradient(circle, rgba(250,237,118,0.93) 0%, rgb(140,129,7) 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(f,{clickable:""},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"work",size:"md"})]),_:1}),t(s,null,{default:e(()=>[t(r,{class:"text-h5 text-bold text-white"},{default:e(()=>[l(d(a.packedCount),1)]),_:1}),t(r,{caption:""},{default:e(()=>[l("Packed")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{class:"my-card",style:{background:"radial-gradient(circle, #86f6ed 0%, #046558 100%)"}},{default:e(()=>[t(v,null,{default:e(()=>[t(f,{clickable:""},{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(y,{color:"primary",name:"local_shipping",size:"md"})]),_:1}),t(s,null,{default:e(()=>[t(r,{class:"text-h5 text-bold text-white"},{default:e(()=>[l(d(a.dispatchedCount),1)]),_:1}),t(r,{caption:""},{default:e(()=>[l("Dispatched")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),a.totalcount?(c(),Q("div",qe,[t(ve,{class:"bg-brand text-white shadow-2"},{default:e(()=>[t(pe,null,{default:e(()=>[l("Dashboard")]),_:1})]),_:1}),a.totalcount?(c(),n(v,{key:0,bordered:"",padding:"",class:"rounded-borders",style:{"max-width":"350px"}},{default:e(()=>[(c(!0),Q(R,null,L(a.getOrders,(o,k)=>K((c(),n(f,{clickable:"",key:o.id,onClick:I=>a.showitems(o.customer,o.id,o.date,o.status,o.items)},{default:e(()=>[t(s,{avatar:"",top:""},{default:e(()=>[t(W,{color:"brand","text-color":"white"},{default:e(()=>[l(d(o.customer.charAt(0)),1)]),_:2},1024)]),_:2},1024),t(s,null,{default:e(()=>[t(r,null,{default:e(()=>[l(d(o.customer),1)]),_:2},1024),t(r,{caption:""},{default:e(()=>[l(d(o.date),1)]),_:2},1024),t(r,{caption:""},{default:e(()=>[l(d(o.narration),1)]),_:2},1024)]),_:2},1024),t(s,{side:"",top:""},{default:e(()=>[o.status==="New"?(c(),n(m,{key:0,color:"blue"},{default:e(()=>[l(d(o.status),1)]),_:2},1024)):o.status==="Viewed"?(c(),n(m,{key:1,color:"secondary"},{default:e(()=>[l(d(o.status),1)]),_:2},1024)):o.status==="Accepted"?(c(),n(m,{key:2,color:"accent"},{default:e(()=>[l(d(o.status),1)]),_:2},1024)):o.status==="Packed"?(c(),n(m,{key:3,color:"info"},{default:e(()=>[l(d(o.status),1)]),_:2},1024)):o.status==="Dispatched"?(c(),n(m,{key:4,color:"blue-grey"},{default:e(()=>[l(d(o.status),1)]),_:2},1024)):(c(),n(m,{key:5,color:"primary"},{default:e(()=>[l("Unknown")]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[_e]])),128))]),_:1})):O("",!0)])):O("",!0),a.totalcount?(c(),Q("div",Ve,[t(ge,{modelValue:a.page,"onUpdate:modelValue":_[0]||(_[0]=o=>a.page=o),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):O("",!0),z("div",Oe,[t(fe,{modelValue:a.card,"onUpdate:modelValue":_[3]||(_[3]=o=>a.card=o)},{default:e(()=>[t(g,{style:{width:"400px"}},{default:e(()=>[t(v,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(f,null,{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(W,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(s,{top:""},{default:e(()=>[t(r,{lines:"1"},{default:e(()=>[l(d(a.specificCustomer),1)]),_:1}),t(r,{lines:"2"},{default:e(()=>[l(d(a.specificDate),1)]),_:1})]),_:1}),t(s,{side:""},{default:e(()=>[a.model==="New"?(c(),n(m,{key:0,color:"blue"},{default:e(()=>[l(d(a.model),1)]),_:1})):a.model==="Viewed"?(c(),n(m,{key:1,color:"secondary"},{default:e(()=>[l(d(a.model),1)]),_:1})):a.model==="Accepted"?(c(),n(m,{key:2,color:"accent"},{default:e(()=>[l(d(a.model),1)]),_:1})):a.model==="Packed"?(c(),n(m,{key:3,color:"info"},{default:e(()=>[l(d(a.model),1)]),_:1})):a.model==="Dispatched"?(c(),n(m,{key:4,color:"blue-grey"},{default:e(()=>[l(d(a.model),1)]),_:1})):a.model==="Delivered"?(c(),n(m,{key:5,color:"positive"},{default:e(()=>[l(d(a.model),1)]),_:1})):a.model==="Cancelled"?(c(),n(m,{key:6,color:"negative"},{default:e(()=>[l(d(a.model),1)]),_:1})):(c(),n(m,{key:7,color:"primary"},{default:e(()=>[l("Unknown")]),_:1}))]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("#")]),_:1})]),_:1}),t(s,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("Item")]),_:1})]),_:1}),t(s,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[l("Quantity")]),_:1})]),_:1})]),_:1}),t(F),(c(!0),Q(R,null,L(a.specificItems,(o,k)=>(c(),n(f,null,{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(r,{class:"q-mt-sm"},{default:e(()=>[l(d(k+1),1)]),_:2},1024)]),_:2},1024),t(s,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm"},{default:e(()=>[l(d(o.item.name),1)]),_:2},1024)]),_:2},1024),t(s,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[l(d(o.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),t(F),t(f,null,{default:e(()=>[t(s,{avatar:""},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("\xA0")]),_:1})]),_:1}),t(s,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("Total Items")]),_:1})]),_:1}),t(s,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[l(d(a.specificItems.length),1)]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(s,{top:"",class:"col-2 gt-sm"},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium"})]),_:1}),t(s,{top:"",class:"col-7 gt-sm"},{default:e(()=>[t(r,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[t(be,{filled:"",modelValue:a.model,"onUpdate:modelValue":[_[1]||(_[1]=o=>a.model=o),_[2]||(_[2]=o=>a.updateStatus())],options:a.options,label:"Status"},null,8,["modelValue","options"])]),_:1})]),_:1}),t(s,{top:""},{default:e(()=>[t(r,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),t(ie,{align:"right"},{default:e(()=>[K(t(me,{flat:"",label:"Close",color:"negative"},null,512),[[he]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Ge=ce(Qe,[["render",Pe],["__scopeId","data-v-26d68a51"]]);export{Ge as default};
