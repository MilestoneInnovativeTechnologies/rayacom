import{a as T,Q as U}from"./QToolbar.692181af.js";import{a8 as K,k as V,r as u,E as c,H as t,C as o,N as x,G as e,D as w,P as I,t as P,ap as M,I as l,J as r,K as Y,F as N,M as L,aq as F}from"./index.8d7e61fd.js";import{a as p,Q as n}from"./QItem.d2090226.js";import{Q as d}from"./QItemLabel.4b045cb7.js";import{Q as i}from"./QBadge.68cbc97a.js";import{Q as O}from"./QList.5e2b7bfb.js";import{Q as H}from"./QPagination.2286f097.js";import{Q as B}from"./QSeparator.1fdea069.js";import{Q as G}from"./QCardActions.dacc32d4.js";import{Q as J}from"./QCard.9e71421a.js";import{Q as j}from"./QDialog.500a4fb3.js";import{Q as z}from"./QPage.12dd21c8.js";import{C as W}from"./ClosePopup.77ae0838.js";import{u as X}from"./order.2c304010.js";import{d as Z}from"./date.52e73b47.js";import"./use-dark.678b0dd2.js";import"./QInput.0fdaf5de.js";import"./format.c860d4da.js";import"./use-prevent-scroll.1269f3f5.js";import"./scroll.25b4c155.js";import"./use-model-toggle.3fd02ce3.js";import"./use-portal.0314865a.js";import"./master.58f94054.js";import"./lodash.1b69ab06.js";const $=X(),tt={setup(){let g,m;const Q=V(()=>$.all.reverse());let a=u(Q.value),S=Object.values(a.value).length;const b=V(()=>{g=(v.value-1)*k.value,m=(v.value-1)*k.value+k.value;let y=a.value.slice(g,m).map(f=>({id:f.id,date:Z.formatDate(f.date,"MMMM d, YYYY "),narration:f.narration,status:f.status,items:f.items}));return console.log(y),y});let s=u(!1),_=u(""),h=u(""),q=u(""),D=u("");const E=function(C,y,f,R){h.value=C,_.value=R,q.value=y,D.value=f,s.value=!0};let v=u(1),A=u(1);const k=u(5);return{MYORDERS:a,totalcount:S,page:v,currentPage:A,totalPages:k,getOrders:b,showitems:E,specificItems:_,specificId:h,specificDate:q,specificStatus:D,card:s}}},et={class:"q-pa-md"},at=l("Order History"),st=l("Unknown"),lt={key:0,class:"q-pa-lg flex flex-center"},ot={class:"q-pa-md q-gutter-sm"},rt={class:"text-weight-bold"},ct=l("Unknown"),it=l("#"),dt=l("Item"),nt=l("Quantity"),ut=l("Total Items");function mt(g,m,Q,a,S,b){return o(),c(z,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:t(()=>[x("div",et,[e(U,{class:"bg-brand text-white shadow-2"},{default:t(()=>[e(T,null,{default:t(()=>[at]),_:1})]),_:1}),a.totalcount?(o(),c(O,{key:0,bordered:"",padding:"",class:"rounded-borders",style:{"max-width":"350px"}},{default:t(()=>[(o(!0),w(Y,null,I(a.getOrders,(s,_)=>P((o(),c(p,{clickable:"",key:s.id,onClick:h=>a.showitems(s.id,s.date,s.status,s.items)},{default:t(()=>[e(n,{avatar:"",top:""},{default:t(()=>[e(M,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(n,null,{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[l(r(s.id),1)]),_:2},1024),e(d,{caption:""},{default:t(()=>[l(r(s.start_date),1)]),_:2},1024),e(d,{caption:""},{default:t(()=>[l(r(s.narration),1)]),_:2},1024)]),_:2},1024),e(n,{side:""},{default:t(()=>[s.status==="New"?(o(),c(i,{key:0,color:"blue"},{default:t(()=>[l(r(s.status),1)]),_:2},1024)):s.status==="Viewed"?(o(),c(i,{key:1,color:"secondary"},{default:t(()=>[l(r(s.status),1)]),_:2},1024)):s.status==="Accepted"?(o(),c(i,{key:2,color:"accent"},{default:t(()=>[l(r(s.status),1)]),_:2},1024)):s.status==="Packed"?(o(),c(i,{key:3,color:"info"},{default:t(()=>[l(r(s.status),1)]),_:2},1024)):s.status==="Dispatched"?(o(),c(i,{key:4,color:"blue-grey"},{default:t(()=>[l(r(s.status),1)]),_:2},1024)):s.status==="Delivered"?(o(),c(i,{key:5,color:"positive"},{default:t(()=>[l(r(s.status),1)]),_:2},1024)):s.status==="Cancelled"?(o(),c(i,{key:6,color:"negative"},{default:t(()=>[l(r(s.status),1)]),_:2},1024)):(o(),c(i,{key:7,color:"primary"},{default:t(()=>[st]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[F]])),128))]),_:1})):N("",!0)]),a.totalcount?(o(),w("div",lt,[e(H,{modelValue:a.page,"onUpdate:modelValue":m[0]||(m[0]=s=>a.page=s),min:a.currentPage,max:Math.ceil(a.totalcount/a.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):N("",!0),x("div",ot,[e(j,{modelValue:a.card,"onUpdate:modelValue":m[1]||(m[1]=s=>a.card=s)},{default:t(()=>[e(J,{class:"my-card",style:{width:"400px"}},{default:t(()=>[e(O,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:t(()=>[e(p,null,{default:t(()=>[e(n,{avatar:""},{default:t(()=>[e(M,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{lines:"1"},{default:t(()=>[l(r(a.specificDate),1)]),_:1}),e(d,{caption:"",lines:"2"},{default:t(()=>[x("span",rt,r(a.specificId),1)]),_:1}),e(d,{caption:"",lines:"1"},{default:t(()=>[a.specificStatus==="New"?(o(),c(i,{key:0,color:"blue"},{default:t(()=>[l(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(o(),c(i,{key:1,color:"secondary"},{default:t(()=>[l(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(o(),c(i,{key:2,color:"accent"},{default:t(()=>[l(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Packed"?(o(),c(i,{key:3,color:"info"},{default:t(()=>[l(r(a.specificStatus),1)]),_:1})):g.model==="Dispatched"?(o(),c(i,{key:4,color:"blue-grey"},{default:t(()=>[l(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Delivered"?(o(),c(i,{key:5,color:"positive"},{default:t(()=>[l(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Cancelled"?(o(),c(i,{key:6,color:"negative"},{default:t(()=>[l(r(a.specificStatus),1)]),_:1})):(o(),c(i,{key:7,color:"primary"},{default:t(()=>[ct]),_:1}))]),_:1})]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(n,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[it]),_:1})]),_:1}),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[dt]),_:1})]),_:1}),e(n,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[nt]),_:1})]),_:1})]),_:1}),e(B),(o(!0),w(Y,null,I(a.specificItems,(s,_)=>(o(),c(p,null,{default:t(()=>[e(n,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm"},{default:t(()=>[l(r(_+1),1)]),_:2},1024)]),_:2},1024),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm"},{default:t(()=>[l(r(s.item.name),1)]),_:2},1024)]),_:2},1024),e(n,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm flex-center text-center"},{default:t(()=>[l(r(s.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),e(B),e(p,null,{default:t(()=>[e(n,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"})]),_:1}),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[ut]),_:1})]),_:1}),e(n,{top:""},{default:t(()=>[e(d,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[l(r(a.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(G,{align:"right"},{default:t(()=>[P(e(L,{flat:"",label:"Close",color:"negative"},null,512),[[W]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Et=K(tt,[["render",mt]]);export{Et as default};
