import{a8 as W,B as X,k as p,r as m,E as i,H as e,C as l,N as Q,G as t,Q as M,M as q,D,P as N,t as Y,ap as A,I as o,J as r,K as B,F as C,aq as Z}from"./index.519e6511.js";import{Q as c}from"./QItemLabel.95c271f7.js";import{a as v,Q as d}from"./QItem.dbe0fd3c.js";import{Q as u}from"./QBadge.a3efd72d.js";import{Q as F}from"./QList.ee2f0220.js";import{Q as $}from"./QPagination.908aa05f.js";import{Q as T}from"./QSeparator.8305d860.js";import{Q as ee}from"./QCardActions.2803e26a.js";import{Q as te}from"./QCard.39c5907a.js";import{Q as ae}from"./QDialog.4aa07f16.js";import{Q as oe}from"./QPage.68727071.js";import{C as se}from"./ClosePopup.20672703.js";import{u as le}from"./use-quasar.c19bc2e1.js";import{u as re}from"./order.3b2eb02b.js";import{d as ie}from"./date.bd456e4c.js";import"./use-dark.e60f4681.js";import"./QInput.3be0fd5f.js";import"./format.c860d4da.js";import"./use-prevent-scroll.d8f1a98f.js";import"./scroll.1e188d5c.js";import"./use-model-toggle.02b9d1d7.js";import"./use-portal.0839ed11.js";import"./master.8d9550d1.js";import"./lodash.1b69ab06.js";const ce=re(),de={setup(){const k=X();le();let f,y,a;const g=p(()=>ce.all.reverse()),x=p(()=>{let n=[];for(let _ in g.value)f=g.value[_].status,f!="Delivered"&&f!="Cancelled"&&n.push(g.value[_]);return n}),s=p(()=>Object.keys(x.value).length);let h,S;const U=p(()=>(y=(R.value-1)*w.value,a=y+w.value,h=Object.values(x.value).slice(y,a),S=h.map(n=>(n.status,{id:n.id,date:ie.formatDate(n.date,"MMMM D, YYYY "),narration:n.narration,status:n.status,items:n.items})),S)),L=function(){k.push({name:"OFFER"})},z=function(){k.push({name:"ITEM"})};let I=m(!1),b=m(""),O=m(""),V=m(""),E=m("");const K=function(n,_,H,J){O.value=n,b.value=J,V.value=_,E.value=H,I.value=!0},P=p(()=>{let n=0;return b.value.map(_=>n+=_.foc),n});console.log(P);let R=m(1),j=m(1);const w=m(5),G=p(()=>Math.ceil(s.value/w.value));return{ORDERS:g,MYORDERS:x,totalcount:s,page:R,currentPage:j,totalPages:w,maxVal:G,getOrders:U,gotoItempage:z,gotoOfferpage:L,showitems:K,specificItems:b,specificId:O,specificDate:V,specificStatus:E,card:I,offerqty:P}}},ne={class:"row justify-end side"},ue=o(" TODAY OFFER "),fe={class:"row justify-end side"},me=o(" NEW ORDER "),_e=o("The best products is waiting to be order. So start shopping now."),pe=o("Dashboard"),ge=o("Unknown"),he={key:0,class:"q-pa-lg flex flex-center"},ve={class:"q-pa-md q-gutter-sm"},ke={class:"text-weight-bold"},ye=o("Unknown"),xe=o("#"),we=o("Item"),Qe=o("Quantity"),Se=o("FOC"),be=o("\xA0"),qe=o("Total Items");function De(k,f,y,a,g,x){return l(),i(oe,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:e(()=>[Q("div",ne,[t(q,{color:"positive","no-caps":"",onClick:f[0]||(f[0]=s=>a.gotoOfferpage())},{default:e(()=>[t(M,{left:"",size:"xl",name:"shop"}),ue]),_:1})]),Q("div",fe,[t(q,{color:"positive","no-caps":"",onClick:f[1]||(f[1]=s=>a.gotoItempage())},{default:e(()=>[t(M,{left:"",size:"xl",name:"open_in_new"}),me]),_:1})]),t(F,{bordered:"",padding:"",class:"rounded-borders",style:{width:"80vw","max-width":"350px"}},{default:e(()=>[a.totalcount===0?(l(),i(c,{key:0,header:""},{default:e(()=>[_e]),_:1})):(l(),i(c,{key:1,header:""},{default:e(()=>[pe]),_:1})),(l(!0),D(B,null,N(a.getOrders,(s,h)=>Y((l(),i(v,{clickable:"",key:s.id,onClick:S=>a.showitems(s.id,s.date,s.status,s.items)},{default:e(()=>[t(d,{avatar:"",top:""},{default:e(()=>[t(A,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),t(d,null,{default:e(()=>[t(c,{lines:"1"},{default:e(()=>[o(r(s.id),1)]),_:2},1024),t(c,{caption:""},{default:e(()=>[o(r(s.date),1)]),_:2},1024),t(c,{caption:""},{default:e(()=>[o(r(s.narration),1)]),_:2},1024)]),_:2},1024),t(d,{side:"",top:""},{default:e(()=>[s.status==="New"?(l(),i(u,{key:0,color:"blue"},{default:e(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Viewed"?(l(),i(u,{key:1,color:"secondary"},{default:e(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Accepted"?(l(),i(u,{key:2,color:"accent"},{default:e(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Packed"?(l(),i(u,{key:3,color:"info"},{default:e(()=>[o(r(s.status),1)]),_:2},1024)):s.status==="Dispatched"?(l(),i(u,{key:4,color:"blue-grey"},{default:e(()=>[o(r(s.status),1)]),_:2},1024)):(l(),i(u,{key:5,color:"primary"},{default:e(()=>[ge]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[Z]])),128))]),_:1}),a.totalcount?(l(),D("div",he,[t($,{modelValue:a.page,"onUpdate:modelValue":f[2]||(f[2]=s=>a.page=s),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):C("",!0),Q("div",ve,[t(ae,{modelValue:a.card,"onUpdate:modelValue":f[3]||(f[3]=s=>a.card=s)},{default:e(()=>[t(te,{class:"my-card",style:{width:"400px"}},{default:e(()=>[t(F,{bordered:"",class:"rounded-borders"},{default:e(()=>[t(v,null,{default:e(()=>[t(d,{avatar:""},{default:e(()=>[t(A,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),t(d,{top:""},{default:e(()=>[t(c,{lines:"1"},{default:e(()=>[o(r(a.specificDate),1)]),_:1}),t(c,{caption:"",lines:"2"},{default:e(()=>[Q("span",ke,r(a.specificId),1)]),_:1}),t(c,{caption:"",lines:"1"},{default:e(()=>[a.specificStatus==="New"?(l(),i(u,{key:0,color:"blue"},{default:e(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(l(),i(u,{key:1,color:"secondary"},{default:e(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(l(),i(u,{key:2,color:"accent"},{default:e(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Packed"?(l(),i(u,{key:3,color:"info"},{default:e(()=>[o(r(a.specificStatus),1)]),_:1})):k.model==="Dispatched"?(l(),i(u,{key:4,color:"blue-grey"},{default:e(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Delivered"?(l(),i(u,{key:5,color:"positive"},{default:e(()=>[o(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Cancelled"?(l(),i(u,{key:6,color:"negative"},{default:e(()=>[o(r(a.specificStatus),1)]),_:1})):(l(),i(u,{key:7,color:"primary"},{default:e(()=>[ye]),_:1}))]),_:1})]),_:1})]),_:1}),t(v,null,{default:e(()=>[t(d,{avatar:""},{default:e(()=>[t(c,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[xe]),_:1})]),_:1}),t(d,{top:""},{default:e(()=>[t(c,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[we]),_:1})]),_:1}),t(d,{top:""},{default:e(()=>[t(c,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[Qe]),_:1})]),_:1}),t(d,{top:""},{default:e(()=>[a.offerqty>0?(l(),i(c,{key:0,class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[Se]),_:1})):C("",!0)]),_:1})]),_:1}),t(T),(l(!0),D(B,null,N(a.specificItems,(s,h)=>(l(),i(v,null,{default:e(()=>[t(d,{avatar:""},{default:e(()=>[t(c,{class:"q-mt-sm"},{default:e(()=>[o(r(h+1),1)]),_:2},1024)]),_:2},1024),t(d,{top:""},{default:e(()=>[t(c,{class:"q-mt-sm"},{default:e(()=>[o(r(s.item.name),1)]),_:2},1024)]),_:2},1024),t(d,{top:""},{default:e(()=>[t(c,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[o(r(s.quantity),1)]),_:2},1024)]),_:2},1024),t(d,{top:""},{default:e(()=>[s.foc>0?(l(),i(c,{key:0,class:"q-mt-sm flex-center text-center"},{default:e(()=>[o(r(s.foc),1)]),_:2},1024)):C("",!0)]),_:2},1024)]),_:2},1024))),256)),t(T),t(v,null,{default:e(()=>[t(d,{avatar:""},{default:e(()=>[t(c,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[be]),_:1})]),_:1}),t(d,{top:""},{default:e(()=>[t(c,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[qe]),_:1})]),_:1}),t(d,{top:""},{default:e(()=>[t(c,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[o(r(a.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(ee,{align:"right"},{default:e(()=>[Y(t(q,{flat:"",label:"Close",color:"negative"},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Ze=W(de,[["render",De]]);export{Ze as default};
