import{Q as I,a as Y}from"./QToolbar.f6252fc7.js";import{ai as R,t as Q,r as n,M as c,P as e,K as r,Y as S,O as t,S as l,L as b,_ as q,B as M,as as N,T as o,U as B,N as A,ah as F,Q as O,al as H,X,at as z,au as G}from"./index.8ca15aea.js";import{a as p,Q as i}from"./QItem.444016e9.js";import{Q as d}from"./QItemLabel.5771a04c.js";import{Q as u}from"./QBadge.e3c4b0f0.js";import{Q as T}from"./QList.428a5f0b.js";import{Q as J}from"./QPagination.5d576056.js";import{Q as W}from"./QPage.a0c24181.js";import{C as Z}from"./ClosePopup.555721be.js";import{u as j}from"./order.0741cb5a.js";import{d as $}from"./date.19ebf348.js";import"./format.c860d4da.js";import"./master.e3dfadde.js";import"./lodash.1e9e3f94.js";const ee=j(),te={setup(){let g,m;const y=Q(()=>ee.all.reverse()),s=Q(()=>y.value.length),C=Q(()=>{g=(w.value-1)*k.value,m=(w.value-1)*k.value+k.value;let v=y.value.slice(g,m).map(f=>({id:f.id,date:$.formatDate(f.date,"MMMM D, YYYY "),customer:f.customer.name,narration:f.narration,status:f.status,items:f.items}));return console.log(v),v});let h=n(!1),a=n(""),_=n(""),x=n(""),D=n(""),V=n("");const U=function(P,v,f,L,K){_.value=P,a.value=L,x.value=v,D.value=f,V.value=K,h.value=!0};let w=n(1),E=n(1);const k=n(5);return{MYORDERS:y,totalcount:s,page:w,currentPage:E,totalPages:k,getOrders:C,showitems:U,specificItems:a,specificId:_,specificDate:x,specificStatus:D,specificCustomer:V,card:h}}},ae={class:"q-pa-md",style:{width:"80vw","max-width":"350px"}},le={key:0,class:"q-pa-lg flex flex-center"},se={class:"q-pa-md q-gutter-sm"},oe={class:"text-weight-bold"};function re(g,m,y,s,C,h){return r(),c(W,{padding:"",class:"flex-center column q-col-gutter-y-lg"},{default:e(()=>[S("div",ae,[s.totalcount?(r(),c(I,{key:0,class:"bg-brand text-white shadow-2"},{default:e(()=>[t(Y,null,{default:e(()=>[l("Order History")]),_:1})]),_:1})):(r(),c(I,{key:1,class:"bg-grey-5 text-white shadow-2"},{default:e(()=>[t(Y,null,{default:e(()=>[l("No records...")]),_:1})]),_:1})),s.totalcount?(r(),c(T,{key:2,bordered:"",padding:"",class:"rounded-borders"},{default:e(()=>[(r(!0),b(B,null,q(s.getOrders,(a,_)=>M((r(),c(p,{clickable:"",key:a.id,onClick:x=>s.showitems(a.id,a.date,a.status,a.items,a.customer)},{default:e(()=>[t(i,{avatar:"",top:""},{default:e(()=>[t(N,{color:"brand","text-color":"white"},{default:e(()=>[l(o(a.customer.charAt(0)),1)]),_:2},1024)]),_:2},1024),t(i,null,{default:e(()=>[t(d,{lines:"1"},{default:e(()=>[l(o(a.id),1)]),_:2},1024),t(d,null,{default:e(()=>[l(o(a.customer),1)]),_:2},1024),t(d,{caption:""},{default:e(()=>[l(o(a.date),1)]),_:2},1024),t(d,{caption:""},{default:e(()=>[l(o(a.narration),1)]),_:2},1024)]),_:2},1024),t(i,{side:"",top:""},{default:e(()=>[a.status==="New"?(r(),c(u,{key:0,color:"blue"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Viewed"?(r(),c(u,{key:1,color:"secondary"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Accepted"?(r(),c(u,{key:2,color:"accent"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Packed"?(r(),c(u,{key:3,color:"info"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Dispatched"?(r(),c(u,{key:4,color:"blue-grey"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Delivered"?(r(),c(u,{key:5,color:"positive"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Cancelled"?(r(),c(u,{key:6,color:"negative"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):(r(),c(u,{key:7,color:"primary"},{default:e(()=>[l("Unknown")]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[G]])),128))]),_:1})):A("",!0)]),s.totalcount?(r(),b("div",le,[t(J,{modelValue:s.page,"onUpdate:modelValue":m[0]||(m[0]=a=>s.page=a),min:s.currentPage,max:Math.ceil(s.totalcount/s.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):A("",!0),S("div",se,[t(z,{modelValue:s.card,"onUpdate:modelValue":m[1]||(m[1]=a=>s.card=a)},{default:e(()=>[t(F,{class:"my-card",style:{width:"400px"}},{default:e(()=>[t(T,{bordered:"",class:"rounded-borders"},{default:e(()=>[t(p,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(N,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(i,{top:""},{default:e(()=>[t(d,{lines:"1"},{default:e(()=>[l(o(s.specificDate),1)]),_:1}),t(d,null,{default:e(()=>[l(o(s.specificCustomer),1)]),_:1}),t(d,{caption:""},{default:e(()=>[S("span",oe,o(s.specificId),1)]),_:1})]),_:1}),t(i,{side:""},{default:e(()=>[s.specificStatus==="New"?(r(),c(u,{key:0,color:"blue"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Viewed"?(r(),c(u,{key:1,color:"secondary"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Accepted"?(r(),c(u,{key:2,color:"accent"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Packed"?(r(),c(u,{key:3,color:"info"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):g.model==="Dispatched"?(r(),c(u,{key:4,color:"blue-grey"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Delivered"?(r(),c(u,{key:5,color:"positive"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Cancelled"?(r(),c(u,{key:6,color:"negative"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):(r(),c(u,{key:7,color:"primary"},{default:e(()=>[l("Unknown")]),_:1}))]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(d,{class:"text-weight-medium"},{default:e(()=>[l("#")]),_:1})]),_:1}),t(i,{tops:""},{default:e(()=>[t(d,{class:"text-weight-medium"},{default:e(()=>[l("Item")]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(d,{class:"text-weight-medium text-center"},{default:e(()=>[l("Quantity")]),_:1})]),_:1})]),_:1}),t(O),(r(!0),b(B,null,q(s.specificItems,(a,_)=>(r(),c(p,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(d,{class:"q-mt-sm"},{default:e(()=>[l(o(_+1),1)]),_:2},1024)]),_:2},1024),t(i,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm"},{default:e(()=>[l(o(a.item.name),1)]),_:2},1024)]),_:2},1024),t(i,{top:""},{default:e(()=>[t(d,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[l(o(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),t(O),t(p,null,{default:e(()=>[t(i,{top:""},{default:e(()=>[t(d,{class:"text-weight-medium"},{default:e(()=>[l(" \xA0")]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(d,{class:"text-weight-medium"},{default:e(()=>[l("Total Items")]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(d,{class:"text-weight-medium text-center"},{default:e(()=>[l(o(s.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(H,{align:"right"},{default:e(()=>[M(t(X,{flat:"",label:"Close",color:"negative"},null,512),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var xe=R(te,[["render",re]]);export{xe as default};
