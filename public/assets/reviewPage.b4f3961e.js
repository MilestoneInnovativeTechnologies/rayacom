import{a8 as j,B as F,k as _,r as i,E as u,H as t,C as r,N as I,G as e,Q as k,M as P,D as h,K as O,P as z,I as l,J as n,F as N,ap as G,t as H}from"./index.246a4b9a.js";import{Q as s}from"./QItemLabel.e6fa0dc1.js";import{Q as f}from"./QBadge.fbb9c512.js";import{Q as J}from"./QCardSection.c1ec1a83.js";import{Q as A}from"./QCard.fc586c7a.js";import{Q as X}from"./QPagination.7c56899a.js";import{a as v,Q as c}from"./QItem.899e600d.js";import{Q as Z}from"./QSeparator.265b03cf.js";import{Q as $}from"./QList.36addd93.js";import{Q as ee}from"./QCardActions.dab7d62d.js";import{Q as te}from"./QDialog.731c9919.js";import{Q as ae}from"./QPage.d4defc19.js";import{C as oe}from"./ClosePopup.7f3f20ff.js";import{u as le}from"./review.22172862.js";import{d as B}from"./date.fd5a70cf.js";import"./use-dark.b88f123a.js";import"./QInput.19c0c42c.js";import"./format.c860d4da.js";import"./use-prevent-scroll.b4d5fbe2.js";import"./scroll.606ee28b.js";import"./use-model-toggle.4c9c2223.js";import"./use-portal.f505e8fd.js";import"./master.9f86e441.js";import"./lodash.1e9e3f94.js";import"./order.ffac0f74.js";const se=le(),re={setup(){const b=F();let d,g;const a=_(()=>Object.values(se.reviews).reverse()),x=_(()=>Object.values(a.value).length),C=_(()=>(d=(Q.value-1)*p.value,g=(Q.value-1)*p.value+p.value,a.value.slice(d,g).map(m=>({id:m.id,customer:m.customer,type:m.type,created_at:B.formatDate(m.created_at,"MMMM D, YYYY "),comment:m.comment,status:m.status,items:m.items})))),o=function(){b.push({name:"REVIEWADD"})};let y=i(!1),w=i(""),V=i(""),q=i(""),D=i(""),S=i(""),Y=i("");const R=function(E,M,m,W,K,L){w.value=E,V.value=M,q.value=m,D.value=B.formatDate(W,"DD-MM-YYYY"),S.value=K,Y.value=L,y.value=!0};let Q=i(1),T=i(1);const p=i(10),U=_(()=>Math.ceil(x/p.value));return{MYREVIEWS:a,totalcount:x,page:Q,currentPage:T,totalPages:p,maxVal:U,getData:C,gotoAction:o,openwindow:R,specificId:w,specificCustomer:V,specificType:q,specificcreateDate:D,specificComment:S,specificStatus:Y,card:y}}},ce={class:"q-pa-md text-center"},ie=l(" NEW REVIEW "),ne={key:0,class:"q-pa-xs row items-start q-gutter-md"},de=l("Unknown"),me={key:1,class:"q-pa-lg flex flex-center"},ue={class:"q-pa-md q-gutter-sm"},fe=l("Type"),pe=l("Comment"),_e=l("Unknown");function ve(b,d,g,a,x,C){return r(),u(ae,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:t(()=>[I("div",ce,[e(P,{color:"positive","no-caps":"",onClick:d[0]||(d[0]=o=>a.gotoAction())},{default:t(()=>[e(k,{left:"",size:"xl",name:"open_in_new"}),ie]),_:1})]),a.totalcount?(r(),h("div",ne,[(r(!0),h(O,null,z(a.getData,(o,y)=>(r(),u(A,{flat:"",bordered:"",class:"my-card",key:o.id,onClick:w=>a.openwindow(o.id,o.customer.name,o.type,o.created_at,o.comment,o.status)},{default:t(()=>[e(J,{class:"bg-brand text-white"},{default:t(()=>[e(s,{class:"Subtitle 2 text-weight-bolder"},{default:t(()=>[l(n(o.created_at),1)]),_:2},1024),e(s,null,{default:t(()=>[l(n(o.type),1)]),_:2},1024),e(s,null,{default:t(()=>[o.status==="New"?(r(),u(f,{key:0,color:"blue"},{default:t(()=>[l(n(o.status),1)]),_:2},1024)):o.status==="Viewed"?(r(),u(f,{key:1,color:"secondary"},{default:t(()=>[l(n(o.status),1)]),_:2},1024)):(r(),u(f,{key:2,color:"primary"},{default:t(()=>[de]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):N("",!0),a.totalcount?(r(),h("div",me,[e(X,{modelValue:a.page,"onUpdate:modelValue":d[1]||(d[1]=o=>a.page=o),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):N("",!0),I("div",ue,[e(te,{modelValue:a.card,"onUpdate:modelValue":d[2]||(d[2]=o=>a.card=o)},{default:t(()=>[e(A,{class:"my-card",style:{"max-width":"400px"}},{default:t(()=>[e($,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:t(()=>[e(v,null,{default:t(()=>[e(c,{avatar:""},{default:t(()=>[e(G,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),e(c,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(s,{lines:"1"},{default:t(()=>[l(n(a.specificCustomer),1)]),_:1}),e(s,{lines:"2"}),e(s,{caption:"",lines:"3"},{default:t(()=>[l(n(a.specificcreateDate),1)]),_:1})]),_:1})]),_:1}),e(Z),e(v,null,{default:t(()=>[e(c,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(k,{color:"primary",name:"lens"})]),_:1})]),_:1}),e(c,{top:"",class:"col-4 gt-sm"},{default:t(()=>[e(s,{class:"q-mt-sm"},{default:t(()=>[fe]),_:1})]),_:1}),e(c,{top:""},{default:t(()=>[e(s,{class:"q-mt-sm flex-center text-left"},{default:t(()=>[l(n(a.specificType),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(c,{class:"col-1 gt-sm"},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(k,{color:"primary",name:"lens"})]),_:1})]),_:1}),e(c,{top:"",class:"col-4 gt-sm"},{default:t(()=>[e(s,{class:"q-mt-sm"},{default:t(()=>[pe]),_:1})]),_:1}),e(c,{top:""},{default:t(()=>[e(s,{class:"q-mt-sm flex-center text-left"},{default:t(()=>[l(n(a.specificComment),1)]),_:1})]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(c,{top:"",class:"col-2 gt-sm"},{default:t(()=>[e(s,{class:"q-mt-sm text-weight-medium"})]),_:1}),e(c,{class:"col-3 q-pa-md q-gutter-xl"},{default:t(()=>[a.specificStatus==="New"?(r(),u(f,{key:0,color:"blue"},{default:t(()=>[l(n(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(r(),u(f,{key:1,color:"secondary"},{default:t(()=>[l(n(a.specificStatus),1)]),_:1})):(r(),u(f,{key:2,color:"primary"},{default:t(()=>[_e]),_:1}))]),_:1}),e(c,{top:""},{default:t(()=>[e(s,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),e(ee,{align:"right"},{default:t(()=>[H(e(P,{flat:"",label:"Close",color:"negative"},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Ke=j(re,[["render",ve],["__scopeId","data-v-1816dab4"]]);export{Ke as default};
