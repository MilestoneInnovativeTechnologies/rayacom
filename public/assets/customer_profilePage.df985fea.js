import{aj as f,K as y,r as c,t as V,N as g,R as s,L as v,P as o,S as r,al as n,Y as P}from"./index.04c464b8.js";import{Q as b}from"./QPage.b0d4ff95.js";import{post as w}from"./axios.58db161c.js";import{u as z}from"./master.f1b7f5d6.js";import{u as A}from"./use-quasar.1595dcc1.js";import"./lodash.1e9e3f94.js";const x=z(),h={setup(){const d=A(),l=y(),u=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;c(null);const a=c(AUTH_DATA),t=V(()=>x.CUSTOMER[a.value]),i=function(){return u.test(t.value.email)||"Invalid email"},e=function(){if(t.value.name!=""&&t.value.password!=""&&t.value.phone!=""&&u.test(t.value.email)&&t.value.address!=""){console.warn(t.value);let m=_.omit(t.value,["area"]);w("master","update",m),p("Your profile have updated succesfully"),l.push({name:"PROFILE"})}},p=function(m){d.notify({type:"positive",message:m,icon:"cloud_done",position:"top-right",timeout:2e3})};return{customer:t,isValidEmail:i,updateMyself:e,positivemsg:p}}};function U(d,l,u,a,t,i){return v(),g(b,{padding:"",class:"flex column q-gutter-y-sm"},{default:s(()=>[o(n,{outlined:"",label:"Name and Surname",modelValue:a.customer.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.customer.name=e),type:"text","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Name"]},{append:s(()=>[o(r,{name:"account_box"})]),_:1},8,["modelValue","rules"]),o(n,{outlined:"",modelValue:a.customer.password,"onUpdate:modelValue":l[1]||(l[1]=e=>a.customer.password=e),type:"password",label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Password",e=>e.length>5||"Minimum length is 6"]},{append:s(()=>[o(r,{name:"visibility_off"})]),_:1},8,["modelValue","rules"]),o(n,{outlined:"",modelValue:a.customer.email,"onUpdate:modelValue":l[2]||(l[2]=e=>a.customer.email=e),type:"email",label:"Email","lazy-rules":"",rules:[e=>!!e||"Please type Email",a.isValidEmail]},{append:s(()=>[o(r,{name:"email"})]),_:1},8,["modelValue","rules"]),o(n,{outlined:"",modelValue:a.customer.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>a.customer.phone=e),type:"tel",label:"Contact number",mask:"## ##########","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Contact number"]},{append:s(()=>[o(r,{name:"settings_phone"})]),_:1},8,["modelValue","rules"]),o(n,{outlined:"",modelValue:a.customer.address,"onUpdate:modelValue":l[4]||(l[4]=e=>a.customer.address=e),type:"text",label:"Address",autogrow:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Address"]},{append:s(()=>[o(r,{name:"home"})]),_:1},8,["modelValue","rules"]),o(P,{color:"positive",label:"Submit",onClick:a.updateMyself,icon:"camera_enhance"},null,8,["onClick"])]),_:1})}var M=f(h,[["render",U]]);export{M as default};
