import{a as L,Q as K}from"./QToolbar.8288db38.js";import{ai as R,t as S,r as n,M as c,P as e,K as r,L as x,O as t,S as l,U as P,_ as V,B as Y,as as I,T as o,N as M,Y as F,ah as H,Q as B,al as X,X as j,at as z,au as G}from"./index.d755ac14.js";import{a as p,Q as i}from"./QItem.66a42e1c.js";import{Q as u}from"./QItemLabel.780cbcc6.js";import{Q as d}from"./QBadge.73220a47.js";import{Q as N}from"./QList.1c77fae5.js";import{Q as J}from"./QPagination.e76403d2.js";import{Q as W}from"./QPage.0b6c8760.js";import{C as Z}from"./ClosePopup.bea0ea49.js";import{u as $}from"./order.beb5b52a.js";import{d as ee}from"./date.7fc66f0f.js";import"./master.05480c04.js";import"./axios.f3978ac2.js";import"./format.c860d4da.js";import"./lodash.1e9e3f94.js";const te=$(),ae={setup(){let g,m;const v=S(()=>te.all.reverse()),s=S(()=>Object.keys(v.value).length),b=S(()=>{g=(Q.value-1)*y.value,m=(Q.value-1)*y.value+y.value;let k=v.value.slice(g,m).map(f=>({id:f.id,date:ee.formatDate(f.date,"MMMM D, YYYY "),customer:f.customer.name,narration:f.narration,status:f.status,items:f.items}));return console.log(k),k});let h=n(!1),a=n(""),_=n(""),w=n(""),q=n(""),C=n("");const O=function(D,k,f,U,E){_.value=D,a.value=U,w.value=k,q.value=f,C.value=E,h.value=!0};let Q=n(1),A=n(1),T=n(null);const y=n(5);return{MYORDERS:v,totalcount:s,page:Q,currentPage:A,nextPage:T,totalPages:y,getOrders:b,showitems:O,specificItems:a,specificId:_,specificDate:w,specificStatus:q,specificCustomer:C,card:h}}},le={key:0,class:"q-pa-md",style:{width:"80vw","max-width":"350px"}},se={key:1,class:"q-pa-lg flex flex-center"},oe={class:"q-pa-md q-gutter-sm"};function re(g,m,v,s,b,h){return r(),c(W,{padding:"",class:"flex-center column q-col-gutter-y-lg"},{default:e(()=>[s.totalcount?(r(),x("div",le,[t(K,{class:"bg-brand text-white shadow-2"},{default:e(()=>[t(L,null,{default:e(()=>[l("Order History")]),_:1})]),_:1}),t(N,{bordered:"",padding:"",class:"rounded-borders"},{default:e(()=>[(r(!0),x(P,null,V(s.getOrders,(a,_)=>Y((r(),c(p,{clickable:"",key:a.id,onClick:w=>s.showitems(a.id,a.date,a.status,a.items,a.customer)},{default:e(()=>[t(i,{avatar:"",top:""},{default:e(()=>[t(I,{color:"brand","text-color":"white"},{default:e(()=>[l(o(a.customer.charAt(0)),1)]),_:2},1024)]),_:2},1024),t(i,null,{default:e(()=>[t(u,null,{default:e(()=>[l(o(a.customer),1)]),_:2},1024),t(u,{caption:""},{default:e(()=>[l(o(a.date),1)]),_:2},1024),t(u,{caption:""},{default:e(()=>[l(o(a.narration),1)]),_:2},1024)]),_:2},1024),t(i,{side:""},{default:e(()=>[a.status==="New"?(r(),c(d,{key:0,color:"blue"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Viewed"?(r(),c(d,{key:1,color:"secondary"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Accepted"?(r(),c(d,{key:2,color:"accent"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Packed"?(r(),c(d,{key:3,color:"info"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Dispatched"?(r(),c(d,{key:4,color:"blue-grey"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Delivered"?(r(),c(d,{key:5,color:"positive"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):a.status==="Cancelled"?(r(),c(d,{key:6,color:"negative"},{default:e(()=>[l(o(a.status),1)]),_:2},1024)):(r(),c(d,{key:7,color:"primary"},{default:e(()=>[l("Unknown")]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[G]])),128))]),_:1})])):M("",!0),s.totalcount?(r(),x("div",se,[t(J,{modelValue:s.page,"onUpdate:modelValue":m[0]||(m[0]=a=>s.page=a),min:s.currentPage,max:Math.ceil(s.totalcount/s.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"brand"},null,8,["modelValue","min","max"])])):M("",!0),F("div",oe,[t(z,{modelValue:s.card,"onUpdate:modelValue":m[1]||(m[1]=a=>s.card=a)},{default:e(()=>[t(H,{class:"my-card",style:{width:"400px"}},{default:e(()=>[t(N,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(p,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(I,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(i,{top:""},{default:e(()=>[t(u,{lines:"1"},{default:e(()=>[l(o(s.specificCustomer),1)]),_:1}),t(u,{lines:"1"},{default:e(()=>[l(o(s.specificDate),1)]),_:1}),t(u,{side:""},{default:e(()=>[s.specificStatus==="New"?(r(),c(d,{key:0,color:"blue"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Viewed"?(r(),c(d,{key:1,color:"secondary"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Accepted"?(r(),c(d,{key:2,color:"accent"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Packed"?(r(),c(d,{key:3,color:"info"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):g.model==="Dispatched"?(r(),c(d,{key:4,color:"blue-grey"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Delivered"?(r(),c(d,{key:5,color:"positive"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):s.specificStatus==="Cancelled"?(r(),c(d,{key:6,color:"negative"},{default:e(()=>[l(o(s.specificStatus),1)]),_:1})):(r(),c(d,{key:7,color:"primary"},{default:e(()=>[l("Unknown")]),_:1}))]),_:1})]),_:1})]),_:1}),t(p,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(u,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("#")]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(u,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("Item")]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(u,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[l("Quantity")]),_:1})]),_:1})]),_:1}),t(B),(r(!0),x(P,null,V(s.specificItems,(a,_)=>(r(),c(p,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(u,{class:"q-mt-sm"},{default:e(()=>[l(o(_+1),1)]),_:2},1024)]),_:2},1024),t(i,{top:""},{default:e(()=>[t(u,{class:"q-mt-sm"},{default:e(()=>[l(o(a.item.name),1)]),_:2},1024)]),_:2},1024),t(i,{top:""},{default:e(()=>[t(u,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[l(o(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),t(B),t(p,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(u,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("\xA0")]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(u,{class:"q-mt-sm text-weight-medium"},{default:e(()=>[l("Total Items")]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(u,{class:"q-mt-sm text-weight-medium text-center"},{default:e(()=>[l(o(s.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(X,{align:"right"},{default:e(()=>[Y(t(j,{flat:"",label:"Close",color:"negative"},null,512),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var we=R(ae,[["render",re]]);export{we as default};
