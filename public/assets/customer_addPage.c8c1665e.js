import{a8 as g,B as w,r as f,Y as h,aI as j,E as A,H as t,C as E,G as s,Q as n,M as P,N as Q}from"./index.519e6511.js";import{Q as m}from"./QInput.3be0fd5f.js";import{Q as z}from"./QSelect.3a01accf.js";import{Q as C}from"./QPage.68727071.js";import{post as b}from"./axios.98808b05.js";import{u as x}from"./master.8d9550d1.js";import{u as S}from"./use-quasar.c19bc2e1.js";import"./use-dark.e60f4681.js";import"./format.c860d4da.js";import"./QItem.dbe0fd3c.js";import"./QItemLabel.95c271f7.js";import"./QMenu.ceebb96e.js";import"./position-engine.6301699e.js";import"./selection.e65ce004.js";import"./use-portal.0839ed11.js";import"./scroll.1e188d5c.js";import"./use-model-toggle.02b9d1d7.js";import"./QDialog.4aa07f16.js";import"./use-prevent-scroll.d8f1a98f.js";import"./lodash.1b69ab06.js";const V=x(),U={setup(){const p=S(),l=w(),r=f(history.state.id),a=f(V.AREA),i=[],d=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;for(let o in a.value)i.push({label:a.value[o].name,value:a.value[o].id});const e=h({id:"",name:"",password:"",email:"",phone:"",area:"",address:""});j(()=>{if(r.value==0)e.id=e.name=e.password=e.email=e.phone=e.area=e.address="";else{let o=V.CUSTOMER[r.value];e.id=r.value,e.name=o.name,e.password=o.password,e.email=o.email,e.phone=o.phone,e.area=o.area.value,e.address=o.address}});const y=function(){return d.test(e.email)||"Invalid email"};let u;const v=function(){if(e.name!=""&&e.password!=""&&e.phone!=""&&d.test(e.email)&&e.area.value!=""&&e.address!=""){console.warn(e);let o=_.omit(e,["area"]);o.area=e.area.value,r.value>0?(b("master","update",o),u="Your have updated a customer successfully"):(b("customer","store",o),u="Your have added a new customer successfully"),c(u),l.push({name:"ADMINCUSTOMERS"})}},c=function(o){p.notify({type:"positive",message:o,icon:"cloud_done",position:"top-right",timeout:2e3})};return{obj:e,save:v,positivemsg:c,isValidEmail:y,options:i}}},I=Q("br",null,null,-1);function M(p,l,r,a,i,d){return E(),A(C,{padding:"",class:"flex column q-gutter-y-sm"},{default:t(()=>[s(m,{outlined:"",label:"Name and Surname",modelValue:a.obj.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.obj.name=e),type:"text","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Name"]},{append:t(()=>[s(n,{name:"account_box"})]),_:1},8,["modelValue","rules"]),s(m,{outlined:"",modelValue:a.obj.email,"onUpdate:modelValue":l[1]||(l[1]=e=>a.obj.email=e),type:"email",label:"Email","lazy-rules":"",rules:[e=>!!e||"Please type Email",a.isValidEmail]},{append:t(()=>[s(n,{name:"email"})]),_:1},8,["modelValue","rules"]),s(m,{outlined:"",modelValue:a.obj.password,"onUpdate:modelValue":l[2]||(l[2]=e=>a.obj.password=e),type:"password",label:"Password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Password",e=>e.length>5||"Minimum length is 6"]},{append:t(()=>[s(n,{name:"visibility_off"})]),_:1},8,["modelValue","rules"]),s(m,{outlined:"",modelValue:a.obj.phone,"onUpdate:modelValue":l[3]||(l[3]=e=>a.obj.phone=e),label:"Contact number",mask:"## ##########","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Contact number"]},{append:t(()=>[s(n,{name:"settings_phone"})]),_:1},8,["modelValue","rules"]),s(z,{outlined:"",modelValue:a.obj.area,"onUpdate:modelValue":l[4]||(l[4]=e=>a.obj.area=e),options:a.options,label:"Area"},null,8,["modelValue","options"]),I,s(m,{outlined:"",modelValue:a.obj.address,"onUpdate:modelValue":l[5]||(l[5]=e=>a.obj.address=e),type:"text",label:"Address",autogrow:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type Address"]},{append:t(()=>[s(n,{name:"home"})]),_:1},8,["modelValue","rules"]),s(P,{color:"positive",label:"Submit",onClick:a.save,icon:"camera_enhance"},null,8,["onClick"])]),_:1})}var ae=g(U,[["render",M]]);export{ae as default};
