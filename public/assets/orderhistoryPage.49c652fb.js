import{a as E,Q as L}from"./QToolbar.eb504f84.js";import{_ as U,f as V,r as u,K as o,M as r,P as t,X as x,O as e,L as w,Y as P,B as I,ar as Y,R as l,S as c,T as M,N as O,W as K,aC as F}from"./index.d6457b73.js";import{b as B,a as p,Q as n}from"./QList.897f5f28.js";import{Q as i}from"./QItemLabel.13f0d541.js";import{Q as d}from"./QBadge.19eee772.js";import{Q as H}from"./QPagination.3e247450.js";import{Q as N}from"./use-prevent-scroll.89f8fa80.js";import{d as W,Q as X,a as j,C as z}from"./ClosePopup.4c518b74.js";import{Q as G}from"./QCard.ad2da122.js";import{Q as J}from"./QPage.7224c028.js";import{u as Z}from"./order.f826452f.js";import"./use-dark.ad354b4e.js";import"./QInput.9a83388a.js";import"./format.c860d4da.js";import"./master.88af1675.js";import"./lodash.e6c87188.js";const $=Z(),tt={setup(){let g,f;const Q=V(()=>$.all.reverse());let a=u(Q.value),S=Object.values(a.value).length;const b=V(()=>{g=(v.value-1)*y.value,f=(v.value-1)*y.value+y.value;let h=a.value.slice(g,f).map(m=>({id:m.id,date:W.formatDate(m.date,"MMMM d, YYYY "),narration:m.narration,status:m.status,items:m.items}));return console.log(h),h});let s=u(!1),_=u(""),k=u(""),q=u(""),C=u("");const R=function(D,h,m,A){k.value=D,_.value=A,q.value=h,C.value=m,s.value=!0};let v=u(1),T=u(1);const y=u(5);return{MYORDERS:a,totalcount:S,page:v,currentPage:T,totalPages:y,getOrders:b,showitems:R,specificItems:_,specificId:k,specificDate:q,specificStatus:C,card:s}}},et={class:"q-pa-md"},at=l("Order History"),st=l("Unknown"),lt={key:0,class:"q-pa-lg flex flex-center"},ot={class:"q-pa-md q-gutter-sm"},ct={class:"text-weight-bold"},rt=l("Unknown"),dt=l("#"),it=l("Item"),nt=l("Quantity"),ut=l("Total Items");function ft(g,f,Q,a,S,b){return o(),r(J,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:t(()=>[x("div",et,[e(L,{class:"bg-secondary text-white shadow-2"},{default:t(()=>[e(E,null,{default:t(()=>[at]),_:1})]),_:1}),a.totalcount?(o(),r(B,{key:0,bordered:"",padding:"",class:"rounded-borders",style:{"max-width":"350px"}},{default:t(()=>[(o(!0),w(M,null,P(a.getOrders,(s,_)=>I((o(),r(p,{clickable:"",key:s.id,onClick:k=>a.showitems(s.id,s.date,s.status,s.items)},{default:t(()=>[e(n,{avatar:"",top:""},{default:t(()=>[e(Y,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),e(n,null,{default:t(()=>[e(i,{lines:"1"},{default:t(()=>[l(c(s.id),1)]),_:2},1024),e(i,{caption:""},{default:t(()=>[l(c(s.date),1)]),_:2},1024),e(i,{caption:""},{default:t(()=>[l(c(s.narration),1)]),_:2},1024)]),_:2},1024),e(n,{side:""},{default:t(()=>[s.status==="New"?(o(),r(d,{key:0,color:"blue"},{default:t(()=>[l(c(s.status),1)]),_:2},1024)):s.status==="Viewed"?(o(),r(d,{key:1,color:"secondary"},{default:t(()=>[l(c(s.status),1)]),_:2},1024)):s.status==="Accepted"?(o(),r(d,{key:2,color:"accent"},{default:t(()=>[l(c(s.status),1)]),_:2},1024)):s.status==="Packed"?(o(),r(d,{key:3,color:"info"},{default:t(()=>[l(c(s.status),1)]),_:2},1024)):s.status==="Dispatched"?(o(),r(d,{key:4,color:"blue-grey"},{default:t(()=>[l(c(s.status),1)]),_:2},1024)):s.status==="Delivered"?(o(),r(d,{key:5,color:"positive"},{default:t(()=>[l(c(s.status),1)]),_:2},1024)):s.status==="Cancelled"?(o(),r(d,{key:6,color:"negative"},{default:t(()=>[l(c(s.status),1)]),_:2},1024)):(o(),r(d,{key:7,color:"primary"},{default:t(()=>[st]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[F]])),128))]),_:1})):O("",!0)]),a.totalcount?(o(),w("div",lt,[e(H,{modelValue:a.page,"onUpdate:modelValue":f[0]||(f[0]=s=>a.page=s),min:a.currentPage,max:Math.ceil(a.totalcount/a.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):O("",!0),x("div",ot,[e(j,{modelValue:a.card,"onUpdate:modelValue":f[1]||(f[1]=s=>a.card=s)},{default:t(()=>[e(G,{class:"my-card",style:{width:"400px"}},{default:t(()=>[e(B,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:t(()=>[e(p,null,{default:t(()=>[e(n,{avatar:""},{default:t(()=>[e(Y,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{lines:"1"},{default:t(()=>[l(c(a.specificDate),1)]),_:1}),e(i,{caption:"",lines:"2"},{default:t(()=>[x("span",ct,c(a.specificId),1)]),_:1}),e(i,{caption:"",lines:"1"},{default:t(()=>[a.specificStatus==="New"?(o(),r(d,{key:0,color:"blue"},{default:t(()=>[l(c(a.specificStatus),1)]),_:1})):a.specificStatus==="Viewed"?(o(),r(d,{key:1,color:"secondary"},{default:t(()=>[l(c(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(o(),r(d,{key:2,color:"accent"},{default:t(()=>[l(c(a.specificStatus),1)]),_:1})):a.specificStatus==="Packed"?(o(),r(d,{key:3,color:"info"},{default:t(()=>[l(c(a.specificStatus),1)]),_:1})):g.model==="Dispatched"?(o(),r(d,{key:4,color:"blue-grey"},{default:t(()=>[l(c(a.specificStatus),1)]),_:1})):a.specificStatus==="Delivered"?(o(),r(d,{key:5,color:"positive"},{default:t(()=>[l(c(a.specificStatus),1)]),_:1})):a.specificStatus==="Cancelled"?(o(),r(d,{key:6,color:"negative"},{default:t(()=>[l(c(a.specificStatus),1)]),_:1})):(o(),r(d,{key:7,color:"primary"},{default:t(()=>[rt]),_:1}))]),_:1})]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(n,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[dt]),_:1})]),_:1}),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[it]),_:1})]),_:1}),e(n,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[nt]),_:1})]),_:1})]),_:1}),e(N),(o(!0),w(M,null,P(a.specificItems,(s,_)=>(o(),r(p,null,{default:t(()=>[e(n,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm"},{default:t(()=>[l(c(_+1),1)]),_:2},1024)]),_:2},1024),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm"},{default:t(()=>[l(c(s.item.name),1)]),_:2},1024)]),_:2},1024),e(n,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm flex-center text-center"},{default:t(()=>[l(c(s.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),e(N),e(p,null,{default:t(()=>[e(n,{top:"",class:"col-1 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"})]),_:1}),e(n,{top:"",class:"col-7 gt-sm"},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium"},{default:t(()=>[ut]),_:1})]),_:1}),e(n,{top:""},{default:t(()=>[e(i,{class:"q-mt-sm text-weight-medium text-center"},{default:t(()=>[l(c(a.specificItems.length),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(X,{align:"right"},{default:t(()=>[I(e(K,{flat:"",label:"Close",color:"negative"},null,512),[[z]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Vt=U(tt,[["render",ft]]);export{Vt as default};
