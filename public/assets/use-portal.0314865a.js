import{q as _,m as b,r as c,w as x,k as g,aw as r,Z as q,u as w,ax as I,ay as S,az as T}from"./index.8d7e61fd.js";import{r as y,b as k}from"./QInput.0fdaf5de.js";function R(){let e;return _(()=>{e=void 0}),{registerTick(t){e=t,b(()=>{e===t&&(e(),e=void 0)})},removeTick(){e=void 0}}}const $={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function M(e,t){const n=c(t.value);return x(t,s=>{b(()=>{n.value=s})}),{transition:g(()=>"q-transition--"+(n.value===!0?e.transitionHide:e.transitionShow)),transitionStyle:g(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const l=[];function O(e){return l.find(t=>t.__qPortalInnerRef.value!==null&&t.__qPortalInnerRef.value.contains(e))}function D(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return r(e)}else if(e.__qPortalInnerRef!==void 0){const n=r(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=r(e)}while(e!=null)}function N(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortalInnerRef!==void 0){if(n--,e.$options.name==="QMenu"){e=D(e,t);continue}e.hide(t)}e=r(e)}}function Q(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function j(e,t,n,s){const o=c(!1),i=c(!1);let a=null;const u={},d=s===!0&&Q(e);function h(f){if(f===!0){y(u),i.value=!0;return}i.value=!1,o.value===!1&&(d===!1&&a===null&&(a=S()),o.value=!0,l.push(e.proxy),k(u))}function p(f){if(i.value=!1,f!==!0)return;y(u),o.value=!1;const P=l.indexOf(e.proxy);P>-1&&l.splice(P,1),a!==null&&(T(a),a=null)}return q(()=>{p(!0)}),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:h,hidePortal:p,portalIsActive:o,portalIsAccessible:i,renderPortal:()=>d===!0?n():o.value===!0?[w(I,{to:a},n())]:void 0}}export{R as a,j as b,N as c,M as d,D as e,O as g,l as p,$ as u};
