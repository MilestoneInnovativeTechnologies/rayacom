import{c as W,r as b,a as i,w as X,h as I,a1 as Z,j as G,V as U,m as H,a9 as $,_ as p,K as B,W as P,a8 as O,N as M,M as F,Z as z,X as ee,O as D,J as te,Q as ae,L as ne,S as le,aa as ie,ab as ue}from"./index.d512a950.js";import{Q as J}from"./QInput.e174cb15.js";import{Q as oe,a as de}from"./QCard.96b1da05.js";import{u as se,a as re}from"./use-dark.147c19a5.js";import{b as ce}from"./format.801e7424.js";import{u as me}from"./master.e076252f.js";var fe=W({name:"QPagination",props:{...se,modelValue:{type:Number,required:!0},min:{type:Number,default:1},max:{type:Number,required:!0},color:{type:String,default:"primary"},textColor:String,activeColor:String,activeTextColor:String,inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},maxPages:{type:Number,default:0,validator:e=>e>=0},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,dense:Boolean,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:s}){const{proxy:c}=G(),{$q:t}=c,w=re(e,t),m=b(null),n=i({get:()=>e.modelValue,set:a=>{if(a=parseInt(a,10),e.disable||isNaN(a))return;const l=ce(a,e.min,e.max);e.modelValue!==l&&s("update:modelValue",l)}});X(()=>e.min+e.max,()=>{n.value=e.modelValue});function f(a,l){return[!0,!1].includes(a)?a:l}const N=i(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),q=i(()=>n.value+" / "+e.max),Q=i(()=>f(e.boundaryLinks,e.input)),v=i(()=>f(e.boundaryNumbers,!e.input)),j=i(()=>f(e.directionLinks,e.input)),g=i(()=>f(e.ellipses,!e.input)),S=i(()=>{const a=[e.iconFirst||t.iconSet.pagination.first,e.iconPrev||t.iconSet.pagination.prev,e.iconNext||t.iconSet.pagination.next,e.iconLast||t.iconSet.pagination.last];return t.lang.rtl===!0?a.reverse():a}),E=i(()=>e.disable===!0?{"aria-disabled":"true"}:{}),k=i(()=>({round:e.round,rounded:e.rounded,outline:e.outline,unelevated:e.unelevated,push:e.push,glossy:e.glossy,dense:e.dense,padding:e.padding,color:e.color,flat:!0,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),o=i(()=>({flat:e.flat,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor}));function y(a){n.value=a}function h(a){n.value=n.value+a}function L(){n.value=m.value,m.value=null}function u(a,l){const x={...k.value,...a};return l!==void 0&&(e.toFn!==void 0?x.to=e.toFn(l):x.onClick=()=>y(l)),I(U,x)}return Object.assign(c,{set:y,setByOffset:h}),()=>{const a=[],l=[],x=[];if(Q.value&&(a.push(u({key:"bls",disable:e.disable||e.modelValue<=e.min,icon:S.value[0]},e.min)),l.unshift(u({key:"ble",disable:e.disable||e.modelValue>=e.max,icon:S.value[3]},e.max))),j.value&&(a.push(u({key:"bdp",disable:e.disable||e.modelValue<=e.min,icon:S.value[1]},e.modelValue-1)),l.unshift(u({key:"bdn",disable:e.disable||e.modelValue>=e.max,icon:S.value[2]},e.modelValue+1))),e.input===!0)x.push(I(J,{class:"inline",style:{width:`${q.value.length/1.5}em`},type:"number",dense:!0,value:m.value,disable:e.disable,dark:w.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:q.value,min:e.min,max:e.max,"onUpdate:modelValue"(r){m.value=r},onKeyup(r){Z(r,13)===!0&&L()},onBlur:L}));else{let r=Math.max(e.maxPages,1+(g.value?2:0)+(v.value?2:0)),_=e.min,V=e.max,K=!1,T=!1,Y=!1,A=!1;e.maxPages&&r<e.max-e.min+1&&(r=1+Math.floor(r/2)*2,_=Math.max(e.min,Math.min(e.max-r+1,e.modelValue-Math.floor(r/2))),V=Math.min(e.max,_+r-1),v.value&&(Y=!0,_+=1),g.value&&_>e.min+(v.value?1:0)&&(K=!0,_+=1),v.value&&(A=!0,V-=1),g.value&&V<e.max-(v.value?1:0)&&(T=!0,V-=1));const C={minWidth:`${Math.max(2,String(e.max).length)}em`};if(Y){const d=e.min===e.modelValue;a.push(u({key:"bns",style:C,disable:e.disable,flat:!d,label:e.min,...d?o.value:{}},e.min))}if(A){const d=e.max===e.modelValue;l.unshift(u({key:"bne",style:C,disable:e.disable,flat:!d,label:e.max,...d?o.value:{}},e.max))}K&&a.push(u({key:"bes",style:C,disable:e.disable,label:"\u2026",ripple:!1},_-1)),T&&l.unshift(u({key:"bee",style:C,disable:e.disable,label:"\u2026",ripple:!1},V+1));for(let d=_;d<=V;d++){const R={key:`bpg${d}`,style:C,disable:e.disable,label:d};d===e.modelValue&&Object.assign(R,o.value),x.push(u(R,d))}}return I("div",{class:N.value,...E.value},[a,I("div",{class:"row justify-center"},[x]),l])}}});function ve(){return H($)}const be=me(),ge=be.ITEM,ye={setup(){const e=ve(),s=te(),c=b([]);let t,w,m=b(ge);const n=b(""),f=i(()=>{if(n.value==="")return Object.values(m.value);{let o=n.value.toLowerCase();return Object.values(m.value).filter(y=>y.name.toLowerCase().indexOf(o)>-1)}}),N=i(()=>f.value.length),q=i(()=>(t=(g.value-1)*k.value,w=(g.value-1)*k.value+k.value,f.value.slice(t,w).map(h=>h))),Q=function(o,y){var h="",L=c.value.some(function(u){return u.id===o});L?(c.value.find(u=>u.id===o).qty+=1,h="Item quantity updated"):(c.value.push({id:o,item:y,qty:1}),h="New item added"),v(h)},v=function(o){e.notify({type:"positive",message:o,position:"top-right",timeout:800})},j=function(){s.push({name:"ORDER",params:{myproducts:JSON.stringify(c.value)}})};let g=b(1),S=b(1),E=b(null);const k=b(10);return{MYITEMS:m,search:n,searchResult:f,myitemsLength:N,page:g,currentPage:S,nextPage:E,totalPages:k,getData:q,positivemsg:v,myproducts:c,selectedProducts:Q,order:j}}},he=e=>(ie("data-v-d8abdf3a"),e=e(),ue(),e),xe={class:"q-pa-md",style:{}},_e={class:"q-gutter-md"},Se=he(()=>O("div",null,null,-1)),ke={key:0,class:"q-pa-md row items-start q-gutter-md"},Ve={class:"Subtitle 2 text-weight-bolder"},Be={key:1,class:"q-pa-lg flex flex-center"},we={key:2,class:"q-pa-md q-gutter-sm"};function Ce(e,s,c,t,w,m){return B(),P(z,null,[O("div",xe,[O("div",_e,[Se,M(J,{modelValue:t.search,"onUpdate:modelValue":s[0]||(s[0]=n=>t.search=n),debounce:"500",filled:"",placeholder:"Search"},{append:F(()=>[M(ae,{name:"search"})]),_:1},8,["modelValue"])])]),t.myitemsLength?(B(),P("div",ke,[(B(!0),P(z,null,ee(t.getData,(n,f)=>(B(),ne(de,{flat:"",bordered:"",class:"my-card",key:n.id,onClick:N=>t.selectedProducts(n.id,n.name)},{default:F(()=>[M(oe,{class:"bg-deep-orange-10 text-white"},{default:F(()=>[O("div",Ve,le(n.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):D("",!0),t.myitemsLength?(B(),P("div",Be,[M(fe,{modelValue:t.page,"onUpdate:modelValue":s[1]||(s[1]=n=>t.page=n),min:t.currentPage,max:Math.ceil(t.myitemsLength/t.totalPages),"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):D("",!0),t.myproducts.length?(B(),P("div",we,[M(U,{unelevated:"",rounded:"",color:"positive",label:"Proceed","icon-right":"send",class:"full-width",onClick:s[2]||(s[2]=n=>t.order())})])):D("",!0)],64)}var Oe=p(ye,[["render",Ce],["__scopeId","data-v-d8abdf3a"]]);export{Oe as default};
