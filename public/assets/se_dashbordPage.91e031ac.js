import{a as hl,Q as gl}from"./QToolbar.eb504f84.js";import{c as Ge,ac as Sl,ad as yl,f as w,C as bl,h as A,Q as Ye,ae as wl,aC as Wt,g as De,A as ye,r as T,a1 as Nt,v as Re,n as Se,t as Ct,w as ie,o as xl,a as Qe,z as pl,l as it,q as _l,y as Cl,D as kl,al as Vl,aB as ql,e as Ml,af as Al,aD as El,ai as Tl,aj as zl,ah as Il,aE as Ol,aF as Pe,x as Oe,am as Bl,I as Fl,_ as Hl,K as N,M as J,P as g,J as Pl,X as nt,O as y,L as at,Y as kt,B as Vt,ar as qt,R as O,S as R,T as Mt,N as At,W as Ll}from"./index.d6457b73.js";import{Q as Y,a as _e,b as Et}from"./QList.897f5f28.js";import{Q as j}from"./QItemLabel.13f0d541.js";import{Q as oe}from"./QBadge.19eee772.js";import{Q as Rl}from"./QPagination.3e247450.js";import{i as Dl,u as Ql,a as Wl,b as Nl,c as Kl,g as jl,Q as Tt}from"./use-prevent-scroll.89f8fa80.js";import{u as st,c as Kt,d as jt,e as Ut,b as Ul,f as Yl,g as $l,h as zt,i as Xl}from"./QInput.9a83388a.js";import{u as Yt,a as $t}from"./use-dark.ad354b4e.js";import{c as Jl}from"./selection.35504d8c.js";import{p as It,u as Gl,b as Zl,c as eo,e as to,f as lo,r as oo,g as Ot,h as no,i as ao,a as Xt,d as uo,Q as io,C as ro}from"./ClosePopup.4c518b74.js";import{n as Bt}from"./format.c860d4da.js";import{Q as so}from"./QCard.ad2da122.js";import{Q as co}from"./QPage.7224c028.js";import{u as fo}from"./use-quasar.9b155934.js";import{u as vo}from"./order.f826452f.js";import{post as mo}from"./axios.adcd4f46.js";import"./master.88af1675.js";import"./lodash.e6c87188.js";var ho=Ge({name:"QField",inheritAttrs:!1,props:st,emits:Kt,setup(){return jt(Ut())}});const go={xs:8,sm:10,md:14,lg:20,xl:24};var So=Ge({name:"QChip",props:{...Yt,...Sl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:a}){const{proxy:{$q:l}}=De(),s=$t(e,l),u=yl(e,go),n=w(()=>e.selected===!0||e.icon!==void 0),m=w(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),h=w(()=>e.iconRemove||l.iconSet.chip.remove),S=w(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),r=w(()=>{const q=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(q?` text-${q} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(S.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),V=w(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function E(q){q.keyCode===13&&i(q)}function i(q){e.disable||(a("update:selected",!e.selected),a("click",q))}function z(q){(q.keyCode===void 0||q.keyCode===13)&&(ye(q),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function D(){const q=[];S.value===!0&&q.push(A("div",{class:"q-focus-helper"})),n.value===!0&&q.push(A(Ye,{class:"q-chip__icon q-chip__icon--left",name:m.value}));const G=e.label!==void 0?[A("div",{class:"ellipsis"},[e.label])]:void 0;return q.push(A("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},wl(o.default,G))),e.iconRight&&q.push(A(Ye,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&q.push(A(Ye,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...V.value,onClick:z,onKeyup:z})),q}return()=>{if(e.modelValue===!1)return;const q={class:r.value,style:u.value};return S.value===!0&&Object.assign(q,V.value,{onClick:i,onKeyup:E}),bl("div",q,D(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Wt,e.ripple]])}}});const yo={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function bo({showing:e,avoidEmit:o,configureAnchorEl:a}){const{props:l,proxy:s,emit:u}=De(),n=T(null);let m;function h(i){return n.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const S={};a===void 0&&(Object.assign(S,{hide(i){s.hide(i)},toggle(i){s.toggle(i),i.qAnchorHandled=!0},toggleKey(i){Nt(i,13)===!0&&S.toggle(i)},contextClick(i){s.hide(i),Re(i),Se(()=>{s.show(i),i.qAnchorHandled=!0})},prevent:Re,mobileTouch(i){if(S.mobileCleanup(i),h(i)!==!0)return;s.hide(i),n.value.classList.add("non-selectable");const z=i.target;Ct(S,"anchor",[[z,"touchmove","mobileCleanup","passive"],[z,"touchend","mobileCleanup","passive"],[z,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),m=setTimeout(()=>{s.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){n.value.classList.remove("non-selectable"),clearTimeout(m),e.value===!0&&i!==void 0&&Jl()}}),a=function(i=l.contextMenu){if(l.noParentEvent===!0||n.value===null)return;let z;i===!0?s.$q.platform.is.mobile===!0?z=[[n.value,"touchstart","mobileTouch","passive"]]:z=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:z=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],Ct(S,"anchor",z)});function r(){pl(S,"anchor")}function V(i){for(n.value=i;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;a()}function E(){if(l.target===!1||l.target===""||s.$el.parentNode===null)n.value=null;else if(l.target===!0)V(s.$el.parentNode);else{let i=l.target;if(typeof l.target=="string")try{i=document.querySelector(l.target)}catch{i=void 0}i!=null?(n.value=i.$el||i,a()):(n.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return ie(()=>l.contextMenu,i=>{n.value!==null&&(r(),a(i))}),ie(()=>l.target,()=>{n.value!==null&&r(),E()}),ie(()=>l.noParentEvent,i=>{n.value!==null&&(i===!0?r():a())}),xl(()=>{E(),o!==!0&&l.modelValue===!0&&n.value===null&&u("update:modelValue",!1)}),Qe(()=>{clearTimeout(m),r()}),{anchorEl:n,canShow:h,anchorEvents:S}}function wo(e,o){const a=T(null);let l;function s(m,h){const S=`${h!==void 0?"add":"remove"}EventListener`,r=h!==void 0?h:l;m!==window&&m[S]("scroll",r,it.passive),window[S]("scroll",r,it.passive),l=h}function u(){a.value!==null&&(s(a.value),a.value=null)}const n=ie(()=>e.noParentEvent,()=>{a.value!==null&&(u(),o())});return Qe(n),{localScrollTarget:a,unconfigureScrollTarget:u,changeScrollEvent:s}}let Jt;const{notPassiveCapture:$e}=it,Ce=[];function Xe(e){clearTimeout(Jt);const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let a=It.length-1;for(;a>=0;){const l=It[a].$;if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;a--}for(let l=Ce.length-1;l>=0;l--){const s=Ce[l];if((s.anchorEl.value===null||s.anchorEl.value.contains(o)===!1)&&(o===document.body||s.innerRef.value!==null&&s.innerRef.value.contains(o)===!1))e.qClickOutside=!0,s.onClickOutside(e);else return}}function xo(e){Ce.push(e),Ce.length===1&&(document.addEventListener("mousedown",Xe,$e),document.addEventListener("touchstart",Xe,$e))}function Ft(e){const o=Ce.findIndex(a=>a===e);o>-1&&(Ce.splice(o,1),Ce.length===0&&(clearTimeout(Jt),document.removeEventListener("mousedown",Xe,$e),document.removeEventListener("touchstart",Xe,$e)))}let Ht,Pt;function Lt(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function po(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const rt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{rt[`${e}#ltr`]=e,rt[`${e}#rtl`]=e});function Rt(e,o){const a=e.split(" ");return{vertical:a[0],horizontal:rt[`${a[1]}#${o===!0?"rtl":"ltr"}`]}}function _o(e,o){let{top:a,left:l,right:s,bottom:u,width:n,height:m}=e.getBoundingClientRect();return o!==void 0&&(a-=o[1],l-=o[0],u+=o[1],s+=o[0],n+=o[0],m+=o[1]),{top:a,left:l,right:s,bottom:u,width:n,height:m,middle:l+(s-l)/2,center:a+(u-a)/2}}function Co(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function ko(e){if(_l.is.ios===!0&&window.visualViewport!==void 0){const m=document.body.style,{offsetLeft:h,offsetTop:S}=window.visualViewport;h!==Ht&&(m.setProperty("--q-pe-left",h+"px"),Ht=h),S!==Pt&&(m.setProperty("--q-pe-top",S+"px"),Pt=S)}let o;const{scrollLeft:a,scrollTop:l}=e.el;if(e.absoluteOffset===void 0)o=_o(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:m,left:h}=e.anchorEl.getBoundingClientRect(),S=m+e.absoluteOffset.top,r=h+e.absoluteOffset.left;o={top:S,left:r,width:1,height:1,right:r+1,center:S,middle:r,bottom:S+1}}let s={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(s.minWidth=o.width+"px",e.cover===!0&&(s.minHeight=o.height+"px")),Object.assign(e.el.style,s);const u=Co(e.el),n={top:o[e.anchorOrigin.vertical]-u[e.selfOrigin.vertical],left:o[e.anchorOrigin.horizontal]-u[e.selfOrigin.horizontal]};Vo(n,o,u,e.anchorOrigin,e.selfOrigin),s={top:n.top+"px",left:n.left+"px"},n.maxHeight!==void 0&&(s.maxHeight=n.maxHeight+"px",o.height>n.maxHeight&&(s.minHeight=s.maxHeight)),n.maxWidth!==void 0&&(s.maxWidth=n.maxWidth+"px",o.width>n.maxWidth&&(s.minWidth=s.maxWidth)),Object.assign(e.el.style,s),e.el.scrollTop!==l&&(e.el.scrollTop=l),e.el.scrollLeft!==a&&(e.el.scrollLeft=a)}function Vo(e,o,a,l,s){const u=a.bottom,n=a.right,m=Dl(),h=window.innerHeight-m,S=document.body.clientWidth;if(e.top<0||e.top+u>h)if(s.vertical==="center")e.top=o[l.vertical]>h/2?Math.max(0,h-u):0,e.maxHeight=Math.min(u,h);else if(o[l.vertical]>h/2){const r=Math.min(h,l.vertical==="center"?o.center:l.vertical===s.vertical?o.bottom:o.top);e.maxHeight=Math.min(u,r),e.top=Math.max(0,r-u)}else e.top=Math.max(0,l.vertical==="center"?o.center:l.vertical===s.vertical?o.top:o.bottom),e.maxHeight=Math.min(u,h-e.top);if(e.left<0||e.left+n>S)if(e.maxWidth=Math.min(n,S),s.horizontal==="middle")e.left=o[l.horizontal]>S/2?Math.max(0,S-n):0;else if(o[l.horizontal]>S/2){const r=Math.min(S,l.horizontal==="middle"?o.middle:l.horizontal===s.horizontal?o.right:o.left);e.maxWidth=Math.min(n,r),e.left=Math.max(0,r-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?o.middle:l.horizontal===s.horizontal?o.left:o.right),e.maxWidth=Math.min(n,S-e.left)}var qo=Ge({name:"QMenu",inheritAttrs:!1,props:{...yo,...Ql,...Yt,...Gl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Lt},self:{type:String,validator:Lt},offset:{type:Array,validator:po},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Wl,"click","escape-key"],setup(e,{slots:o,emit:a,attrs:l}){let s=null,u,n,m;const h=De(),{proxy:S}=h,{$q:r}=S,V=T(null),E=T(!1),i=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),z=$t(e,r),{registerTick:D,removeTick:q}=Zl(),{registerTimeout:G,removeTimeout:K}=Nl(),{transition:te,transitionStyle:L}=eo(e,E),{localScrollTarget:F,changeScrollEvent:le,unconfigureScrollTarget:ve}=wo(e,B),{anchorEl:$,canShow:me}=bo({showing:E}),{hide:P}=Kl({showing:E,canShow:me,handleShow:d,handleHide:b,hideOnRouteChange:i,processOnMount:!0}),{showPortal:X,hidePortal:re,renderPortal:he}=to(h,V,k),ne={anchorEl:$,innerRef:V,onClickOutside(x){if(e.persistent!==!0&&E.value===!0)return P(x),(x.type==="touchstart"||x.target.classList.contains("q-dialog__backdrop"))&&ye(x),!0}},de=w(()=>Rt(e.anchor||(e.cover===!0?"center middle":"bottom start"),r.lang.rtl)),fe=w(()=>e.cover===!0?de.value:Rt(e.self||"top start",r.lang.rtl)),ke=w(()=>(e.square===!0?" q-menu--square":"")+(z.value===!0?" q-menu--dark q-dark":"")),be=w(()=>e.autoClose===!0?{onClick:U}:{}),ge=w(()=>E.value===!0&&e.persistent!==!0);ie(ge,x=>{x===!0?(ao(C),xo(ne)):(Ot(C),Ft(ne))});function f(){Ul(()=>{let x=V.value;x&&x.contains(document.activeElement)!==!0&&(x=x.querySelector("[autofocus], [data-autofocus]")||x,x.focus({preventScroll:!0}))})}function d(x){if(q(),K(),s=e.noRefocus===!1?document.activeElement:null,lo(M),X(),B(),u=void 0,x!==void 0&&(e.touchPosition||e.contextMenu)){const se=Cl(x);if(se.left!==void 0){const{top:we,left:ae}=$.value.getBoundingClientRect();u={left:se.left-ae,top:se.top-we}}}n===void 0&&(n=ie(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,Q)),e.noFocus!==!0&&document.activeElement.blur(),D(()=>{Q(),e.noFocus!==!0&&f()}),G(()=>{r.platform.is.ios===!0&&(m=e.autoClose,V.value.click()),Q(),X(!0),a("show",x)},e.transitionDuration)}function b(x){q(),K(),re(),_(!0),s!==null&&(x===void 0||x.qClickOutside!==!0)&&(s.focus(),s=null),G(()=>{re(!0),a("hide",x)},e.transitionDuration)}function _(x){u=void 0,n!==void 0&&(n(),n=void 0),(x===!0||E.value===!0)&&(oo(M),ve(),Ft(ne),Ot(C)),x!==!0&&(s=null)}function B(){($.value!==null||e.scrollTarget!==void 0)&&(F.value=jl($.value,e.scrollTarget),le(F.value,Q))}function U(x){m!==!0?(no(S,x),a("click",x)):m=!1}function M(x){ge.value===!0&&e.noFocus!==!0&&ql(V.value,x.target)!==!0&&f()}function C(x){a("escape-key"),P(x)}function Q(){const x=V.value;x===null||$.value===null||ko({el:x,offset:e.offset,anchorEl:$.value,anchorOrigin:de.value,selfOrigin:fe.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function k(){return A(Vl,{name:te.value,appear:!0},()=>E.value===!0?A("div",{...l,ref:V,tabindex:-1,class:["q-menu q-position-engine scroll"+ke.value,l.class],style:[l.style,L.value],...be.value},kl(o.default)):null)}return Qe(_),Object.assign(S,{focus:f,updatePosition:Q}),he}});let Je=!1;{const e=document.createElement("div"),o=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",o.style.width="1000px",o.style.height="1px",document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,Je=e.scrollLeft>=0,e.remove()}const ce=1e3,Mo=["start","center","end","start-force","center-force","end-force"],Gt=Array.prototype.filter,Ao=window.getComputedStyle(document.body).overflowAnchor===void 0?Ml:function(e,o){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const a=e.children||[];Gt.call(a,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const l=a[o];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function Be(e,o){return e+o}function ut(e,o,a,l,s,u,n,m){const h=e===window?document.scrollingElement||document.documentElement:e,S=s===!0?"offsetWidth":"offsetHeight",r={scrollStart:0,scrollViewSize:-n-m,scrollMaxSize:0,offsetStart:-n,offsetEnd:-m};if(s===!0?(e===window?(r.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r.scrollViewSize+=document.documentElement.clientWidth):(r.scrollStart=h.scrollLeft,r.scrollViewSize+=h.clientWidth),r.scrollMaxSize=h.scrollWidth,u===!0&&(r.scrollStart=(Je===!0?r.scrollMaxSize-r.scrollViewSize:0)-r.scrollStart)):(e===window?(r.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,r.scrollViewSize+=document.documentElement.clientHeight):(r.scrollStart=h.scrollTop,r.scrollViewSize+=h.clientHeight),r.scrollMaxSize=h.scrollHeight),a!==null)for(let V=a.previousElementSibling;V!==null;V=V.previousElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetStart+=V[S]);if(l!==null)for(let V=l.nextElementSibling;V!==null;V=V.nextElementSibling)V.classList.contains("q-virtual-scroll--skip")===!1&&(r.offsetEnd+=V[S]);if(o!==e){const V=h.getBoundingClientRect(),E=o.getBoundingClientRect();s===!0?(r.offsetStart+=E.left-V.left,r.offsetEnd-=E.width):(r.offsetStart+=E.top-V.top,r.offsetEnd-=E.height),e!==window&&(r.offsetStart+=r.scrollStart),r.offsetEnd+=r.scrollMaxSize-r.offsetStart}return r}function Dt(e,o,a,l){o==="end"&&(o=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(l===!0&&(o=(Je===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):a===!0?(l===!0&&(o=(Je===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Le(e,o,a,l){if(a>=l)return 0;const s=o.length,u=Math.floor(a/ce),n=Math.floor((l-1)/ce)+1;let m=e.slice(u,n).reduce(Be,0);return a%ce!==0&&(m-=o.slice(u*ce,a).reduce(Be,0)),l%ce!==0&&l!==s&&(m-=o.slice(l,n*ce).reduce(Be,0)),m}const Eo={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},To={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Eo};function zo({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:a,virtualScrollItemSizeComputed:l}){const s=De(),{props:u,emit:n,proxy:m}=s,{$q:h}=m;let S,r,V,E=[],i;const z=T(0),D=T(0),q=T({}),G=T(null),K=T(null),te=T(null),L=T({from:0,to:0}),F=w(()=>u.tableColspan!==void 0?u.tableColspan:100);l===void 0&&(l=w(()=>u.virtualScrollItemSize));const le=w(()=>l.value+";"+u.virtualScrollHorizontal),ve=w(()=>le.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);ie(ve,()=>{fe()}),ie(le,$);function $(){de(r,!0)}function me(d){de(d===void 0?r:d)}function P(d,b){const _=o();if(_==null||_.nodeType===8)return;const B=ut(_,a(),G.value,K.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);V!==B.scrollViewSize&&fe(B.scrollViewSize),re(_,B,Math.min(e.value-1,Math.max(0,parseInt(d,10)||0)),0,Mo.indexOf(b)>-1?b:r>-1&&d>r?"end":"start")}function X(){const d=o();if(d==null||d.nodeType===8)return;const b=ut(d,a(),G.value,K.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),_=e.value-1,B=b.scrollMaxSize-b.offsetStart-b.offsetEnd-D.value;if(S===b.scrollStart)return;if(b.scrollMaxSize<=0){re(d,b,0,0);return}V!==b.scrollViewSize&&fe(b.scrollViewSize),he(L.value.from);const U=Math.floor(b.scrollMaxSize-Math.max(b.scrollViewSize,b.offsetEnd)-Math.min(i[_],b.scrollViewSize/2));if(U>0&&Math.ceil(b.scrollStart)>=U){re(d,b,_,b.scrollMaxSize-b.offsetEnd-E.reduce(Be,0));return}let M=0,C=b.scrollStart-b.offsetStart,Q=C;if(C<=B&&C+b.scrollViewSize>=z.value)C-=z.value,M=L.value.from,Q=C;else for(let k=0;C>=E[k]&&M<_;k++)C-=E[k],M+=ce;for(;C>0&&M<_;)C-=i[M],C>-b.scrollViewSize?(M++,Q=C):Q=i[M]+C;re(d,b,M,Q)}function re(d,b,_,B,U){const M=typeof U=="string"&&U.indexOf("-force")>-1,C=M===!0?U.replace("-force",""):U,Q=C!==void 0?C:"start";let k=Math.max(0,_-q.value[Q]),x=k+q.value.total;x>e.value&&(x=e.value,k=Math.max(0,x-q.value.total)),S=b.scrollStart;const se=k!==L.value.from||x!==L.value.to;if(se===!1&&C===void 0){be(_);return}const{activeElement:we}=document,ae=te.value;se===!0&&ae!==null&&ae!==we&&ae.contains(we)===!0&&(ae.addEventListener("focusout",ne),setTimeout(()=>{ae!==null&&ae.removeEventListener("focusout",ne)})),Ao(ae,_-k);const We=C!==void 0?i.slice(k,_).reduce(Be,0):0;if(se===!0){const Ve=x>=L.value.from&&k<=L.value.to?L.value.to:x;L.value={from:k,to:Ve},z.value=Le(E,i,0,k),D.value=Le(E,i,x,e.value),requestAnimationFrame(()=>{L.value.to!==x&&S===b.scrollStart&&(L.value={from:L.value.from,to:x},D.value=Le(E,i,x,e.value))})}requestAnimationFrame(()=>{if(S!==b.scrollStart)return;se===!0&&he(k);const Ve=i.slice(k,_).reduce(Be,0),qe=Ve+b.offsetStart+z.value,Ne=qe+i[_];let Fe=qe+B;if(C!==void 0){const ue=Ve-We,Z=b.scrollStart+ue;Fe=M!==!0&&Z<qe&&Ne<Z+b.scrollViewSize?Z:C==="end"?Ne-b.scrollViewSize:qe-(C==="start"?0:Math.round((b.scrollViewSize-i[_])/2))}S=Fe,Dt(d,Fe,u.virtualScrollHorizontal,h.lang.rtl),be(_)})}function he(d){const b=te.value;if(b){const _=Gt.call(b.children,k=>k.classList&&k.classList.contains("q-virtual-scroll--skip")===!1),B=_.length,U=u.virtualScrollHorizontal===!0?k=>k.getBoundingClientRect().width:k=>k.offsetHeight;let M=d,C,Q;for(let k=0;k<B;){for(C=U(_[k]),k++;k<B&&_[k].classList.contains("q-virtual-scroll--with-prev")===!0;)C+=U(_[k]),k++;Q=C-i[M],Q!==0&&(i[M]+=Q,E[Math.floor(M/ce)]+=Q),M++}}}function ne(){te.value!==null&&te.value!==void 0&&te.value.focus()}function de(d,b){const _=1*l.value;(b===!0||Array.isArray(i)===!1)&&(i=[]);const B=i.length;i.length=e.value;for(let M=e.value-1;M>=B;M--)i[M]=_;const U=Math.floor((e.value-1)/ce);E=[];for(let M=0;M<=U;M++){let C=0;const Q=Math.min((M+1)*ce,e.value);for(let k=M*ce;k<Q;k++)C+=i[k];E.push(C)}r=-1,S=void 0,z.value=Le(E,i,0,L.value.from),D.value=Le(E,i,L.value.to,e.value),d>=0?(he(L.value.from),Se(()=>{P(d)})):ge()}function fe(d){if(d===void 0&&typeof window!="undefined"){const C=o();C!=null&&C.nodeType!==8&&(d=ut(C,a(),G.value,K.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}V=d;const b=parseFloat(u.virtualScrollSliceRatioBefore)||0,_=parseFloat(u.virtualScrollSliceRatioAfter)||0,B=1+b+_,U=d===void 0||d<=0?1:Math.ceil(d/l.value),M=Math.max(1,U,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/B));q.value={total:Math.ceil(M*B),start:Math.ceil(M*b),center:Math.ceil(M*(.5+b)),end:Math.ceil(M*(1+b)),view:U}}function ke(d,b){const _=u.virtualScrollHorizontal===!0?"width":"height",B={["--q-virtual-scroll-item-"+_]:l.value+"px"};return[d==="tbody"?A(d,{class:"q-virtual-scroll__padding",key:"before",ref:G},[A("tr",[A("td",{style:{[_]:`${z.value}px`,...B},colspan:F.value})])]):A(d,{class:"q-virtual-scroll__padding",key:"before",ref:G,style:{[_]:`${z.value}px`,...B}}),A(d,{class:"q-virtual-scroll__content",key:"content",ref:te,tabindex:-1},b.flat()),d==="tbody"?A(d,{class:"q-virtual-scroll__padding",key:"after",ref:K},[A("tr",[A("td",{style:{[_]:`${D.value}px`,...B},colspan:F.value})])]):A(d,{class:"q-virtual-scroll__padding",key:"after",ref:K,style:{[_]:`${D.value}px`,...B}})]}function be(d){r!==d&&(u.onVirtualScroll!==void 0&&n("virtual-scroll",{index:d,from:L.value.from,to:L.value.to-1,direction:d<r?"decrease":"increase",ref:m}),r=d)}fe();const ge=Al(X,h.platform.is.ios===!0?120:35);El(()=>{fe()});let f=!1;return Tl(()=>{f=!0}),zl(()=>{if(f!==!0)return;const d=o();S!==void 0&&d!==void 0&&d!==null&&d.nodeType!==8?Dt(d,S,u.virtualScrollHorizontal,h.lang.rtl):P(r)}),Qe(()=>{ge.cancel()}),Object.assign(m,{scrollTo:P,reset:$,refresh:me}),{virtualScrollSliceRange:L,virtualScrollSliceSizeComputed:q,setVirtualScrollSize:fe,onVirtualScrollEvt:ge,localResetVirtualScroll:de,padVirtualScroll:ke,scrollTo:P,reset:$,refresh:me}}const Qt=e=>["add","add-unique","toggle"].includes(e),Io=".*+?^${}()|[]\\",Oo=Object.keys(st);var Bo=Ge({name:"QSelect",inheritAttrs:!1,props:{...To,...Yl,...st,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Qt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Kt,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:o,emit:a}){const{proxy:l}=De(),{$q:s}=l,u=T(!1),n=T(!1),m=T(-1),h=T(""),S=T(!1),r=T(!1);let V,E,i,z,D,q,G,K,te;const L=T(null),F=T(null),le=T(null),ve=T(null),$=T(null),me=$l(e),P=Xl(bt),X=w(()=>Array.isArray(e.options)?e.options.length:0),re=w(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:he,virtualScrollSliceSizeComputed:ne,localResetVirtualScroll:de,padVirtualScroll:fe,onVirtualScrollEvt:ke,scrollTo:be,setVirtualScrollSize:ge}=zo({virtualScrollLength:X,getVirtualScrollTarget:ll,getVirtualScrollEl:St,virtualScrollItemSizeComputed:re}),f=Ut(),d=w(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,v=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const c=e.mapOptions===!0&&E!==void 0?E:[],p=v.map(H=>tl(H,c));return e.modelValue===null&&t===!0?p.filter(H=>H!==null):p}return v}),b=w(()=>{const t={};return Oo.forEach(v=>{const c=e[v];c!==void 0&&(t[v]=c)}),t}),_=w(()=>e.optionsDark===null?f.isDark.value:e.optionsDark),B=w(()=>zt(d.value)),U=w(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||d.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),M=w(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),C=w(()=>X.value===0),Q=w(()=>d.value.map(t=>Z.value(t)).join(", ")),k=w(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),x=w(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||d.value.some(k.value))),se=w(()=>f.focused.value===!0?e.tabindex:-1),we=w(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-owns":`${f.targetUid.value}_lb`,"aria-controls":`${f.targetUid.value}_lb`};return m.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${m.value}`),t}),ae=w(()=>{const t={id:`${f.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return m.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${m.value}`),t}),We=w(()=>d.value.map((t,v)=>({index:v,opt:t,html:k.value(t),selected:!0,removeAtIndex:el,toggleOption:xe,tabindex:se.value}))),Ve=w(()=>{if(X.value===0)return[];const{from:t,to:v}=he.value;return e.options.slice(t,v).map((c,p)=>{const H=Me.value(c)===!0,I=t+p,W={clickable:!0,active:!1,activeClass:Fe.value,manualFocus:!0,focused:!1,disable:H,tabindex:-1,dense:e.optionsDense,dark:_.value,role:"option",id:`${f.targetUid.value}_${I}`,onClick:()=>{xe(c)}};return H!==!0&&(tt(c)===!0&&(W.active=!0),m.value===I&&(W.focused=!0),W["aria-selected"]=W.active===!0?"true":"false",s.platform.is.desktop===!0&&(W.onMousemove=()=>{u.value===!0&&Ae(I)})),{index:I,opt:c,html:k.value(c),label:Z.value(c),selected:W.active,focused:W.focused,toggleOption:xe,setOptionIndex:Ae,itemProps:W}})}),qe=w(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),Ne=w(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Fe=w(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ue=w(()=>et(e.optionValue,"value")),Z=w(()=>et(e.optionLabel,"label")),Me=w(()=>et(e.optionDisable,"disable")),Ke=w(()=>d.value.map(t=>ue.value(t))),Zt=w(()=>{const t={onInput:bt,onChange:P,onKeydown:gt,onKeyup:mt,onKeypress:ht,onFocus:ft,onClick(v){i===!0&&Oe(v)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=P,t});ie(d,t=>{E=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&f.innerLoading.value!==!0&&(n.value!==!0&&u.value!==!0||B.value!==!0)&&(z!==!0&&Ie(),(n.value===!0||u.value===!0)&&Ee(""))},{immediate:!0}),ie(()=>e.fillInput,Ie),ie(u,lt),ie(X,ml);function ct(t){return e.emitValue===!0?ue.value(t):t}function Ze(t){if(t>-1&&t<d.value.length)if(e.multiple===!0){const v=e.modelValue.slice();a("remove",{index:t,value:v.splice(t,1)[0]}),a("update:modelValue",v)}else a("update:modelValue",null)}function el(t){Ze(t),f.focus()}function dt(t,v){const c=ct(t);if(e.multiple!==!0){e.fillInput===!0&&He(Z.value(t),!0,!0),a("update:modelValue",c);return}if(d.value.length===0){a("add",{index:0,value:c}),a("update:modelValue",e.multiple===!0?[c]:c);return}if(v===!0&&tt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const p=e.modelValue.slice();a("add",{index:p.length,value:c}),p.push(c),a("update:modelValue",p)}function xe(t,v){if(f.editable.value!==!0||t===void 0||Me.value(t)===!0)return;const c=ue.value(t);if(e.multiple!==!0){v!==!0&&(He(e.fillInput===!0?Z.value(t):"",!0,!0),pe()),F.value!==null&&F.value.focus(),(d.value.length===0||Pe(ue.value(d.value[0]),c)!==!0)&&a("update:modelValue",e.emitValue===!0?c:t);return}if((i!==!0||S.value===!0)&&f.focus(),ft(),d.value.length===0){const I=e.emitValue===!0?c:t;a("add",{index:0,value:I}),a("update:modelValue",e.multiple===!0?[I]:I);return}const p=e.modelValue.slice(),H=Ke.value.findIndex(I=>Pe(I,c));if(H>-1)a("remove",{index:H,value:p.splice(H,1)[0]});else{if(e.maxValues!==void 0&&p.length>=e.maxValues)return;const I=e.emitValue===!0?c:t;a("add",{index:p.length,value:I}),p.push(I)}a("update:modelValue",p)}function Ae(t){if(s.platform.is.desktop!==!0)return;const v=t>-1&&t<X.value?t:-1;m.value!==v&&(m.value=v)}function je(t=1,v){if(u.value===!0){let c=m.value;do c=Bt(c+t,-1,X.value-1);while(c!==-1&&c!==m.value&&Me.value(e.options[c])===!0);m.value!==c&&(Ae(c),be(c),v!==!0&&e.useInput===!0&&e.fillInput===!0&&Ue(c>=0?Z.value(e.options[c]):q))}}function tl(t,v){const c=p=>Pe(ue.value(p),t);return e.options.find(c)||v.find(c)||t}function et(t,v){const c=t!==void 0?t:v;return typeof c=="function"?c:p=>p!==null&&typeof p=="object"&&c in p?p[c]:p}function tt(t){const v=ue.value(t);return Ke.value.find(c=>Pe(c,v))!==void 0}function ft(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===Q.value)&&F.value.select()}function vt(t){Nt(t,27)===!0&&u.value===!0&&(Oe(t),pe(),Ie()),a("keyup",t)}function mt(t){const{value:v}=t.target;if(t.keyCode!==void 0){vt(t);return}if(t.target.value="",clearTimeout(V),Ie(),typeof v=="string"&&v.length>0){const c=v.toLocaleLowerCase(),p=I=>{const W=e.options.find(ee=>I.value(ee).toLocaleLowerCase()===c);return W===void 0?!1:(d.value.indexOf(W)===-1?xe(W):pe(),!0)},H=I=>{p(ue)!==!0&&(p(Z)===!0||I===!0||Ee(v,!0,()=>H(!0)))};H()}else f.clearValue(t)}function ht(t){a("keypress",t)}function gt(t){if(a("keydown",t),Bl(t)===!0)return;const v=h.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),c=t.shiftKey!==!0&&e.multiple!==!0&&(m.value>-1||v===!0);if(t.keyCode===27){Re(t);return}if(t.keyCode===9&&c===!1){Te();return}if(t.target===void 0||t.target.id!==f.targetUid.value)return;if(t.keyCode===40&&f.innerLoading.value!==!0&&u.value===!1){ye(t),ze();return}if(t.keyCode===8&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ze(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(ye(t),m.value=-1,je(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ne.value!==void 0&&(ye(t),m.value=Math.max(-1,Math.min(X.value,m.value+(t.keyCode===33?-1:1)*ne.value.view)),je(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ye(t),je(t.keyCode===38?-1:1,e.multiple));const p=X.value;if((K===void 0||te<Date.now())&&(K=""),p>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||K.length>0)){u.value!==!0&&ze(t);const H=t.key.toLocaleLowerCase(),I=K.length===1&&K[0]===H;te=Date.now()+1500,I===!1&&(ye(t),K+=H);const W=new RegExp("^"+K.split("").map(ot=>Io.indexOf(ot)>-1?"\\"+ot:ot).join(".*"),"i");let ee=m.value;if(I===!0||ee<0||W.test(Z.value(e.options[ee]))!==!0)do ee=Bt(ee+1,-1,p-1);while(ee!==m.value&&(Me.value(e.options[ee])===!0||W.test(Z.value(e.options[ee]))!==!0));m.value!==ee&&Se(()=>{Ae(ee),be(ee),ee>=0&&e.useInput===!0&&e.fillInput===!0&&Ue(Z.value(e.options[ee]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||K!=="")&&(t.keyCode!==9||c===!1))){if(t.keyCode!==9&&ye(t),m.value>-1&&m.value<p){xe(e.options[m.value]);return}if(v===!0){const H=(I,W)=>{if(W){if(Qt(W)!==!0)return}else W=e.newValueMode;if(I==null)return;He("",e.multiple!==!0,!0),(W==="toggle"?xe:dt)(I,W==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),pe())};if(e.onNewValue!==void 0?a("new-value",h.value,H):H(h.value),e.multiple!==!0)return}u.value===!0?Te():f.innerLoading.value!==!0&&ze()}}function St(){return i===!0?$.value:le.value!==null&&le.value.__qPortalInnerRef.value!==null?le.value.__qPortalInnerRef.value:void 0}function ll(){return St()}function ol(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?We.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?We.value.map((t,v)=>A(So,{key:"option-"+v,removable:f.editable.value===!0&&Me.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:se.value,onRemove(){t.removeAtIndex(v)}},()=>A("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:Z.value(t.opt)}))):[A("span",{[x.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:Q.value})]}function yt(){if(C.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:h.value}):void 0;const t=o.option!==void 0?o.option:c=>A(_e,{key:c.index,...c.itemProps},()=>A(Y,()=>A(j,()=>A("span",{[c.html===!0?"innerHTML":"textContent"]:c.label}))));let v=fe("div",Ve.value.map(t));return o["before-options"]!==void 0&&(v=o["before-options"]().concat(v)),Fl(o["after-options"],v)}function nl(t,v){const c=v===!0?{...we.value,...f.splitAttrs.attributes.value}:void 0,p={ref:v===!0?F:void 0,key:"i_t",class:U.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...c,id:v===!0?f.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Zt.value};return t!==!0&&i===!0&&(Array.isArray(p.class)===!0?p.class=[...p.class,"no-pointer-events"]:p.class+=" no-pointer-events"),A("input",p)}function bt(t){clearTimeout(V),!(t&&t.target&&t.target.qComposing===!0)&&(Ue(t.target.value||""),z=!0,q=h.value,f.focused.value!==!0&&(i!==!0||S.value===!0)&&f.focus(),e.onFilter!==void 0&&(V=setTimeout(()=>{Ee(h.value)},e.inputDebounce)))}function Ue(t){h.value!==t&&(h.value=t,a("input-value",t))}function He(t,v,c){z=c!==!0,e.useInput===!0&&(Ue(t),(v===!0||c!==!0)&&(q=t),v!==!0&&Ee(t))}function Ee(t,v,c){if(e.onFilter===void 0||v!==!0&&f.focused.value!==!0)return;f.innerLoading.value===!0?a("filter-abort"):(f.innerLoading.value=!0,r.value=!0),t!==""&&e.multiple!==!0&&d.value.length>0&&z!==!0&&t===Z.value(d.value[0])&&(t="");const p=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);clearTimeout(D),D=p,a("filter",t,(H,I)=>{(v===!0||f.focused.value===!0)&&D===p&&(clearTimeout(D),typeof H=="function"&&H(),r.value=!1,Se(()=>{f.innerLoading.value=!1,f.editable.value===!0&&(v===!0?u.value===!0&&pe():u.value===!0?lt(!0):u.value=!0),typeof I=="function"&&Se(()=>{I(l)}),typeof c=="function"&&Se(()=>{c(l)})}))},()=>{f.focused.value===!0&&D===p&&(clearTimeout(D),f.innerLoading.value=!1,r.value=!1),u.value===!0&&(u.value=!1)})}function al(){return A(qo,{ref:le,class:M.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&C.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:_.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ne.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ae.value,onScrollPassive:ke,onBeforeShow:xt,onBeforeHide:ul,onShow:il},yt)}function ul(t){pt(t),Te()}function il(){ge()}function rl(t){Oe(t),F.value!==null&&F.value.focus(),S.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function sl(t){Oe(t),Se(()=>{S.value=!1})}function cl(){const t=[A(ho,{class:`col-auto ${f.fieldClass.value}`,...b.value,for:f.targetUid.value,dark:_.value,square:!0,loading:r.value,itemAligned:!1,filled:!0,stackLabel:h.value.length>0,...f.splitAttrs.listeners.value,onFocus:rl,onBlur:sl},{...o,rawControl:()=>f.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(A("div",{ref:$,class:M.value+" scroll",style:e.popupContentStyle,...ae.value,onClick:Re,onScrollPassive:ke},yt())),A(Xt,{ref:ve,modelValue:n.value,position:e.useInput===!0?"top":void 0,transitionShow:G,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:xt,onBeforeHide:dl,onHide:fl,onShow:vl},()=>A("div",{class:"q-select__dialog"+(_.value===!0?" q-select__dialog--dark q-dark":"")+(S.value===!0?" q-select__dialog--focused":"")},t))}function dl(t){pt(t),ve.value!==null&&ve.value.__updateRefocusTarget(f.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),f.focused.value=!1}function fl(t){pe(),f.focused.value===!1&&a("blur",t),Ie()}function vl(){const t=document.activeElement;(t===null||t.id!==f.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),ge()}function Te(){n.value!==!0&&(m.value=-1,u.value===!0&&(u.value=!1),f.focused.value===!1&&(clearTimeout(D),D=void 0,f.innerLoading.value===!0&&(a("filter-abort"),f.innerLoading.value=!1,r.value=!1)))}function ze(t){f.editable.value===!0&&(i===!0?(f.onControlFocusin(t),n.value=!0,Se(()=>{f.focus()})):f.focus(),e.onFilter!==void 0?Ee(h.value):(C.value!==!0||o["no-option"]!==void 0)&&(u.value=!0))}function pe(){n.value=!1,Te()}function Ie(){e.useInput===!0&&He(e.multiple!==!0&&e.fillInput===!0&&d.value.length>0&&Z.value(d.value[0])||"",!0,!0)}function lt(t){let v=-1;if(t===!0){if(d.value.length>0){const c=ue.value(d.value[0]);v=e.options.findIndex(p=>Pe(ue.value(p),c))}de(v)}Ae(v)}function ml(t,v){u.value===!0&&f.innerLoading.value===!1&&(de(-1,!0),Se(()=>{u.value===!0&&f.innerLoading.value===!1&&(t>v?de():lt(!0))}))}function wt(){n.value===!1&&le.value!==null&&le.value.updatePosition()}function xt(t){t!==void 0&&Oe(t),a("popup-show",t),f.hasPopupOpen=!0,f.onControlFocusin(t)}function pt(t){t!==void 0&&Oe(t),a("popup-hide",t),f.hasPopupOpen=!1,f.onControlFocusout(t)}function _t(){i=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||C.value===!1:!0),G=s.platform.is.ios===!0&&i===!0&&e.useInput===!0?"fade":e.transitionShow}return Il(_t),Ol(wt),_t(),Qe(()=>{clearTimeout(V)}),Object.assign(l,{showPopup:ze,hidePopup:pe,removeAtIndex:Ze,add:dt,toggleOption:xe,getOptionIndex:()=>m.value,setOptionIndex:Ae,moveOptionSelection:je,filter:Ee,updateMenuPosition:wt,updateInputValue:He,isOptionSelected:tt,getEmittingOptionValue:ct,isOptionDisabled:(...t)=>Me.value.apply(null,t)===!0,getOptionValue:(...t)=>ue.value.apply(null,t),getOptionLabel:(...t)=>Z.value.apply(null,t)}),Object.assign(f,{innerValue:d,fieldClass:w(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:L,targetRef:F,hasValue:B,showPopup:ze,floatingLabel:w(()=>e.hideSelected!==!0&&B.value===!0||h.value.length>0||zt(e.displayValue)),getControlChild:()=>{if(f.editable.value!==!1&&(n.value===!0||C.value!==!0||o["no-option"]!==void 0))return i===!0?cl():al();f.hasPopupOpen===!0&&(f.hasPopupOpen=!1)},controlEvents:{onFocusin(t){f.onControlFocusin(t)},onFocusout(t){f.onControlFocusout(t,()=>{Ie(),Te()})},onClick(t){if(Re(t),i!==!0&&u.value===!0){Te(),F.value!==null&&F.value.focus();return}ze(t)}},getControl:t=>{const v=ol(),c=t===!0||n.value!==!0||i!==!0;if(e.useInput===!0)v.push(nl(t,c));else if(f.editable.value===!0){const H=c===!0?we.value:void 0;v.push(A("input",{ref:c===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:c===!0?f.targetUid.value:void 0,readonly:!0,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,...H,onKeydown:gt,onKeyup:vt,onKeypress:ht})),c===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&v.push(A("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:mt}))}if(me.value!==void 0&&e.disable!==!0&&Ke.value.length>0){const H=Ke.value.map(I=>A("option",{value:I,selected:!0}));v.push(A("select",{class:"hidden",name:me.value,multiple:e.multiple},H))}const p=e.useInput===!0||c!==!0?void 0:f.splitAttrs.attributes.value;return A("div",{class:"q-field__native row items-center",...p},v)},getInnerAppend:()=>e.loading!==!0&&r.value!==!0&&e.hideDropdownIcon!==!0?[A(Ye,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:qe.value})]:null}),jt(f)}});const Fo=vo(),Ho={setup(){const e=Pl(),o=fo();let a,l,s;const u=w(()=>Fo.all),n=w(()=>{let P=[];for(let X in u.value)a=u.value[X].status,a!="Delivered"&&a!="Cancelled"&&P.push(u.value[X]);return P.reverse()}),m=w(()=>Object.keys(n.value).length);let h,S,r=T(null);const V=w(()=>(l=(le.value-1)*$.value,s=l+$.value,h=Object.values(n.value).slice(l,s),S=h.map(P=>(P.status,{id:P.id,date:uo.formatDate(P.date,"MMMM d, YYYY "),narration:P.narration,customer:P.customer.name,status:P.status,items:P.items})),S)),E=function(){e.push({name:"ITEM"})},i=function(){mo("order","status",{order:G.value,status:r.value}).then(console.log),F("Order status updated Successfully")};let z=T(!1),D=T(""),q=T(""),G=T(""),K=T(""),te=T("");const L=function(P,X,re,he,ne){console.log(ne),q.value=P,G.value=X,D.value=ne,K.value=re,te.value=r.value=he,z.value=!0},F=function(P){o.notify({type:"positive",message:P,icon:"cloud_done",position:"top-right",timeout:2e3})};let le=T(1),ve=T(1);const $=T(5),me=w(()=>Math.ceil(m.value/$.value));return{ORDERS:u,MYORDERS:n,totalcount:m,page:le,currentPage:ve,totalPages:$,maxVal:me,getOrders:V,gotoItempage:E,showitems:L,specificItems:D,specificId:G,specificCustomer:q,specificDate:K,specificStatus:te,card:z,model:r,options:["New","Viewed","Accepted","Packed","Dispatched","Delivered","Cancelled"],updateStatus:i,positivemsg:F}}},Po={class:"q-pa-md"},Lo=O("Dashboard"),Ro=O("Unknown"),Do={key:0,class:"q-pa-lg flex flex-center"},Qo={class:"q-pa-md q-gutter-sm"},Wo={class:"text-weight-bold"},No=O("Unknown"),Ko=O("#"),jo=O("Item"),Uo=O("Quantity"),Yo=O("Total Items");function $o(e,o,a,l,s,u){return N(),J(co,{padding:"",class:"flex flex-center column q-gutter-y-sm"},{default:g(()=>[nt("div",Po,[y(gl,{class:"bg-secondary text-white shadow-2"},{default:g(()=>[y(hl,null,{default:g(()=>[Lo]),_:1})]),_:1}),l.totalcount?(N(),J(Et,{key:0,bordered:"",padding:"",class:"rounded-borders",style:{"max-width":"350px"}},{default:g(()=>[(N(!0),at(Mt,null,kt(l.getOrders,(n,m)=>Vt((N(),J(_e,{clickable:"",key:n.id,onClick:h=>l.showitems(n.customer,n.id,n.date,n.status,n.items)},{default:g(()=>[y(Y,{avatar:"",top:""},{default:g(()=>[y(qt,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),y(Y,null,{default:g(()=>[y(j,{lines:"1"},{default:g(()=>[O(R(n.customer),1)]),_:2},1024),y(j,{lines:"1"},{default:g(()=>[O(R(n.id),1)]),_:2},1024),y(j,{caption:""},{default:g(()=>[O(R(n.date),1)]),_:2},1024),y(j,{caption:""},{default:g(()=>[O(R(n.narration),1)]),_:2},1024)]),_:2},1024),y(Y,{side:"",top:""},{default:g(()=>[n.status==="New"?(N(),J(oe,{key:0,color:"blue"},{default:g(()=>[O(R(n.status),1)]),_:2},1024)):n.status==="Viewed"?(N(),J(oe,{key:1,color:"secondary"},{default:g(()=>[O(R(n.status),1)]),_:2},1024)):n.status==="Accepted"?(N(),J(oe,{key:2,color:"accent"},{default:g(()=>[O(R(n.status),1)]),_:2},1024)):n.status==="Packed"?(N(),J(oe,{key:3,color:"info"},{default:g(()=>[O(R(n.status),1)]),_:2},1024)):n.status==="Dispatched"?(N(),J(oe,{key:4,color:"blue-grey"},{default:g(()=>[O(R(n.status),1)]),_:2},1024)):(N(),J(oe,{key:5,color:"primary"},{default:g(()=>[Ro]),_:1}))]),_:2},1024)]),_:2},1032,["onClick"])),[[Wt]])),128))]),_:1})):At("",!0)]),l.totalcount?(N(),at("div",Do,[y(Rl,{modelValue:l.page,"onUpdate:modelValue":o[0]||(o[0]=n=>l.page=n),min:l.currentPage,max:l.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):At("",!0),nt("div",Qo,[y(Xt,{modelValue:l.card,"onUpdate:modelValue":o[3]||(o[3]=n=>l.card=n)},{default:g(()=>[y(so,{class:"my-card",style:{width:"400px"}},{default:g(()=>[y(Et,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:g(()=>[y(_e,null,{default:g(()=>[y(Y,{avatar:""},{default:g(()=>[y(qt,{icon:"fact_check",color:"deep-orange-10","text-color":"white"})]),_:1}),y(Y,{top:"",class:"col-7 gt-sm"},{default:g(()=>[y(j,{lines:"1"},{default:g(()=>[O(R(l.specificCustomer),1)]),_:1}),y(j,{lines:"2"},{default:g(()=>[O(R(l.specificDate),1)]),_:1}),y(j,{caption:"",lines:"3"},{default:g(()=>[nt("span",Wo,R(l.specificId),1)]),_:1})]),_:1}),y(Y,{side:""},{default:g(()=>[l.model==="New"?(N(),J(oe,{key:0,color:"blue"},{default:g(()=>[O(R(l.model),1)]),_:1})):l.model==="Viewed"?(N(),J(oe,{key:1,color:"secondary"},{default:g(()=>[O(R(l.model),1)]),_:1})):l.model==="Accepted"?(N(),J(oe,{key:2,color:"accent"},{default:g(()=>[O(R(l.model),1)]),_:1})):l.model==="Packed"?(N(),J(oe,{key:3,color:"info"},{default:g(()=>[O(R(l.model),1)]),_:1})):l.model==="Dispatched"?(N(),J(oe,{key:4,color:"blue-grey"},{default:g(()=>[O(R(l.model),1)]),_:1})):l.model==="Delivered"?(N(),J(oe,{key:5,color:"positive"},{default:g(()=>[O(R(l.model),1)]),_:1})):l.model==="Cancelled"?(N(),J(oe,{key:6,color:"negative"},{default:g(()=>[O(R(l.model),1)]),_:1})):(N(),J(oe,{key:7,color:"primary"},{default:g(()=>[No]),_:1}))]),_:1})]),_:1}),y(_e,null,{default:g(()=>[y(Y,{top:"",class:"col-1 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium"},{default:g(()=>[Ko]),_:1})]),_:1}),y(Y,{top:"",class:"col-7 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium"},{default:g(()=>[jo]),_:1})]),_:1}),y(Y,{top:""},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium text-center"},{default:g(()=>[Uo]),_:1})]),_:1})]),_:1}),y(Tt),(N(!0),at(Mt,null,kt(l.specificItems,(n,m)=>(N(),J(_e,null,{default:g(()=>[y(Y,{top:"",class:"col-1 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm"},{default:g(()=>[O(R(m+1),1)]),_:2},1024)]),_:2},1024),y(Y,{top:"",class:"col-7 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm"},{default:g(()=>[O(R(n.item.name),1)]),_:2},1024)]),_:2},1024),y(Y,{top:""},{default:g(()=>[y(j,{class:"q-mt-sm flex-center text-center"},{default:g(()=>[O(R(n.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256)),y(Tt),y(_e,null,{default:g(()=>[y(Y,{top:"",class:"col-1 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium"})]),_:1}),y(Y,{top:"",class:"col-7 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium"},{default:g(()=>[Yo]),_:1})]),_:1}),y(Y,{top:""},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium text-center"},{default:g(()=>[O(R(l.specificItems.length),1)]),_:1})]),_:1})]),_:1}),y(_e,null,{default:g(()=>[y(Y,{top:"",class:"col-2 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium"})]),_:1}),y(Y,{top:"",class:"col-7 gt-sm"},{default:g(()=>[y(j,{class:"q-mt-sm text-weight-medium"},{default:g(()=>[y(Bo,{filled:"",modelValue:l.model,"onUpdate:modelValue":[o[1]||(o[1]=n=>l.model=n),o[2]||(o[2]=n=>l.updateStatus())],options:l.options,label:"Status"},null,8,["modelValue","options"])]),_:1})]),_:1}),y(Y,{top:""},{default:g(()=>[y(j,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),y(io,{align:"right"},{default:g(()=>[Vt(y(Ll,{flat:"",label:"Close",color:"negative"},null,512),[[ro]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var gn=Hl(Ho,[["render",$o]]);export{gn as default};
