import{a8 as z,B as G,k as w,r as d,E as n,H as e,C as c,N as D,G as t,Q as p,M,D as h,K as H,P as J,I as s,J as r,F as I,ap as T,t as W}from"./index.8d7e61fd.js";import{Q as o}from"./QItemLabel.4b045cb7.js";import{Q as u}from"./QBadge.68cbc97a.js";import{a as m,Q as i}from"./QItem.d2090226.js";import{Q as N}from"./QList.5e2b7bfb.js";import{Q as B}from"./QCard.9e71421a.js";import{Q as X}from"./QPagination.2286f097.js";import{Q as Z}from"./QSeparator.1fdea069.js";import{Q as $}from"./QCardActions.dacc32d4.js";import{Q as ee}from"./QDialog.500a4fb3.js";import{Q as te}from"./QPage.12dd21c8.js";import{C as ae}from"./ClosePopup.77ae0838.js";import{u as le}from"./leave.a3019c47.js";import{d as L}from"./date.52e73b47.js";import"./use-dark.678b0dd2.js";import"./QInput.0fdaf5de.js";import"./format.c860d4da.js";import"./use-prevent-scroll.1269f3f5.js";import"./scroll.25b4c155.js";import"./use-model-toggle.3fd02ce3.js";import"./use-portal.0314865a.js";import"./master.58f94054.js";import"./lodash.1b69ab06.js";const se=le(),oe={setup(){const S=G();let f,v;const a=w(()=>Object.values(se.leaves).reverse());let g=Object.values(a.value).length;const q=w(()=>(f=(k.value-1)*_.value,v=(k.value-1)*_.value+_.value,Object.values(a.value).slice(f,v).map(Q=>Q))),l=function(){S.push({name:"LEAVEADD"})};let x=d(!1),y=d(""),b=d(""),V=d(""),E=d(""),Y=d(""),A=d("");const j=function(C,P,Q,O,R,F){y.value=C,A.value=P,b.value=L.formatDate(Q,"DD-MM-YYYY"),V.value=L.formatDate(O,"DD-MM-YYYY"),E.value=R,Y.value=F,x.value=!0};let k=d(1),U=d(1);const _=d(10),K=w(()=>Math.ceil(g/_.value));return{MYLEAVES:a,totalcount:g,page:k,currentPage:U,totalPages:_,maxVal:K,getData:q,gotoAction:l,openwindow:j,specificId:y,specificExecutive:A,specificstartDate:b,specificendDate:V,specificeDescription:E,specificStatus:Y,card:x}}},ce={class:"q-pa-md text-center"},re=s(" NEW LEAVE "),ie={key:0,class:"q-pa-md row items-start q-gutter-md"},ne=s("Unknown"),de={key:1,class:"q-pa-lg flex flex-center"},ue={class:"q-pa-md q-gutter-sm"},fe={class:"text-weight-bold"},me=s("Start Date"),_e=s("End Date"),pe=s("Description"),ve=s("Unknown");function ge(S,f,v,a,g,q){return c(),n(te,{padding:"",class:"flex column q-col-gutter-y-lg"},{default:e(()=>[D("div",ce,[t(M,{color:"positive","no-caps":"",onClick:f[0]||(f[0]=l=>a.gotoAction())},{default:e(()=>[t(p,{left:"",size:"xl",name:"open_in_new"}),re]),_:1})]),a.totalcount?(c(),h("div",ie,[(c(!0),h(H,null,J(a.getData,(l,x)=>(c(),n(B,{flat:"",bordered:"",class:"my-card",key:l.id,onClick:y=>a.openwindow(l.id,l.executive,l.start_date,l.end_date,l.description,l.status)},{default:e(()=>[t(N,null,{default:e(()=>[t(m,{class:"bg-grey-2 text-bold"},{default:e(()=>[t(i,null,{default:e(()=>[t(o,null,{default:e(()=>[s(r(l.executive),1)]),_:2},1024),t(o,{caption:""},{default:e(()=>[s(r(l.start_date),1)]),_:2},1024),t(o,null,{default:e(()=>[l.status==="New"?(c(),n(u,{key:0,color:"blue"},{default:e(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Progress"?(c(),n(u,{key:1,color:"secondary"},{default:e(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Accepted"?(c(),n(u,{key:2,color:"positive"},{default:e(()=>[s(r(l.status),1)]),_:2},1024)):l.status==="Rejected"?(c(),n(u,{key:3,color:"negative"},{default:e(()=>[s(r(l.status),1)]),_:2},1024)):(c(),n(u,{key:4,color:"primary"},{default:e(()=>[ne]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):I("",!0),a.totalcount?(c(),h("div",de,[t(X,{modelValue:a.page,"onUpdate:modelValue":f[1]||(f[1]=l=>a.page=l),min:a.currentPage,max:a.maxVal,"max-pages":7,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward","active-color":"deep-orange-10"},null,8,["modelValue","min","max"])])):I("",!0),D("div",ue,[t(ee,{modelValue:a.card,"onUpdate:modelValue":f[2]||(f[2]=l=>a.card=l)},{default:e(()=>[t(B,{class:"my-card",style:{"max-width":"400px"}},{default:e(()=>[t(N,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:e(()=>[t(m,null,{default:e(()=>[t(i,{avatar:""},{default:e(()=>[t(T,{icon:"fact_check",color:"brand","text-color":"white"})]),_:1}),t(i,{top:"",class:"col-7 gt-sm"},{default:e(()=>[t(o,{lines:"1"},{default:e(()=>[s(r(a.specificExecutive),1)]),_:1}),t(o,{lines:"2"}),t(o,{caption:"",lines:"3"},{default:e(()=>[D("span",fe,r(a.specificId),1)]),_:1})]),_:1})]),_:1}),t(Z),t(m,null,{default:e(()=>[t(i,{top:"",class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(p,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(i,{top:"",class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[me]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[s(r(a.specificstartDate),1)]),_:1})]),_:1})]),_:1}),t(m,null,{default:e(()=>[t(i,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(p,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(i,{top:"",class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[_e]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-center"},{default:e(()=>[s(r(a.specificendDate),1)]),_:1})]),_:1})]),_:1}),t(m,null,{default:e(()=>[t(i,{class:"col-1 gt-sm"},{default:e(()=>[t(o,{avatar:""},{default:e(()=>[t(p,{color:"primary",name:"lens"})]),_:1})]),_:1}),t(i,{top:"",class:"col-3 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm"},{default:e(()=>[pe]),_:1})]),_:1}),t(i,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm flex-center text-leftr"},{default:e(()=>[s(r(a.specificeDescription),1)]),_:1})]),_:1})]),_:1}),t(m,null,{default:e(()=>[t(i,{top:"",class:"col-2 gt-sm"},{default:e(()=>[t(o,{class:"q-mt-sm text-weight-medium"})]),_:1}),t(i,{class:"col-3 q-pa-md q-gutter-xl"},{default:e(()=>[a.specificStatus==="New"?(c(),n(u,{key:0,color:"blue"},{default:e(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Progress"?(c(),n(u,{key:1,color:"secondary"},{default:e(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Accepted"?(c(),n(u,{key:2,color:"positive"},{default:e(()=>[s(r(a.specificStatus),1)]),_:1})):a.specificStatus==="Rejected"?(c(),n(u,{key:3,color:"negative"},{default:e(()=>[s(r(a.specificStatus),1)]),_:1})):(c(),n(u,{key:4,color:"primary"},{default:e(()=>[ve]),_:1}))]),_:1}),t(i,{top:""},{default:e(()=>[t(o,{class:"q-mt-sm"})]),_:1})]),_:1})]),_:1}),t($,{align:"right"},{default:e(()=>[W(t(M,{flat:"",label:"Close",color:"negative"},null,512),[[ae]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})}var Ke=z(oe,[["render",ge],["__scopeId","data-v-c5fc95c8"]]);export{Ke as default};
